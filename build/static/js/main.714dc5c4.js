/*! For license information please see main.714dc5c4.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},153:(e,t,n)=>{var r=n(43),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:o,_owner:s.current}}t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function w(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var b=w.prototype=new v;b.constructor=w,m(b,y.prototype),b.isPureReactComponent=!0;var k=Array.isArray,E=Object.prototype.hasOwnProperty,T={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)E.call(t,i)&&!_.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:T.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var x=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function N(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===o?"."+I(l,0):o,k(a)?(i="",null!=e&&(i=e.replace(x,"$&/")+"/"),N(a,t,i,"",function(e){return e})):null!=a&&(C(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(x,"$&/")+"/")+e)),t.push(a)),1;if(l=0,o=""===o?".":o+":",k(e))for(var c=0;c<e.length;c++){var u=o+I(s=e[c],c);l+=N(s,t,i,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=N(s=s.value,t,i,u=o+I(s,c++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",function(e){return t.call(n,e,i++)}),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},O={transition:null},P={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:O,ReactCurrentOwner:T};function L(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:A,forEach:function(e,t,n){A(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return A(e,function(){t++}),t},toArray:function(e){return A(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=a,t.PureComponent=w,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.act=L,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=T.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)E.call(t,c)&&!_.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=L,t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function k(e){if(g=!1,b(e),!m)if(null!==r(c))m=!0,O(E);else{var t=r(u);null!==t&&P(k,t.startTime-e)}}function E(e,n){m=!1,g&&(g=!1,v(C),C=-1),p=!0;var o=f;try{for(b(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!N());){var a=d.callback;if("function"===typeof a){d.callback=null,f=d.priorityLevel;var s=a(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?d.callback=s:d===r(c)&&i(c),b(n)}else i(c);d=r(c)}if(null!==d)var l=!0;else{var h=r(u);null!==h&&P(k,h.startTime-n),l=!1}return l}finally{d=null,f=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var T,_=!1,S=null,C=-1,x=5,I=-1;function N(){return!(t.unstable_now()-I<x)}function A(){if(null!==S){var e=t.unstable_now();I=e;var n=!0;try{n=S(!0,e)}finally{n?T():(_=!1,S=null)}}else _=!1}if("function"===typeof w)T=function(){w(A)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,D=R.port2;R.port1.onmessage=A,T=function(){D.postMessage(null)}}else T=function(){y(A,0)};function O(e){S=e,_||(_=!0,T())}function P(e,n){C=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,O(E))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(g?(v(C),C=-1):g=!0,P(k,o-a))):(e.sortIndex=s,n(c,e),m||p||(m=!0,O(E))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},579:(e,t,n)=>{e.exports=n(153)},730:(e,t,n)=>{var r=n(43),i=n(853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),E=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),x=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var P=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var M,F=Object.assign;function U(e){if(void 0===M)try{throw Error()}catch(Ge){var t=Ge.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var j=!1;function V(e,t){if(!e||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(We){var r=We}Reflect.construct(e,[],t)}else{try{t.call()}catch(We){r=We}e.call(t.prototype)}else{try{throw Error()}catch(We){r=We}e()}}catch(We){if(We&&r&&"string"===typeof We.stack){for(var i=We.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=s);break}}}finally{j=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function z(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case T:return"Fragment";case E:return"Portal";case S:return"Profiler";case _:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case x:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return B(e(t))}catch(Ge){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function J(e,t){$(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function oe(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n)})}:e}(function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function pe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=pe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach(function(e){fe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]})});var ge=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function ve(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function be(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,Ee=null,Te=null;function _e(e){if(e=Ii(e)){if("function"!==typeof ke)throw Error(o(280));var t=e.stateNode;t&&(t=Ai(t),ke(e.stateNode,e.type,t))}}function Se(e){Ee?Te?Te.push(e):Te=[e]:Ee=e}function Ce(){if(Ee){var e=Ee,t=Te;if(Te=Ee=null,_e(e),t)for(e=0;e<t.length;e++)_e(t[e])}}function xe(e,t){return e(t)}function Ie(){}var Ne=!1;function Ae(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return xe(e,t,n)}finally{Ne=!1,(null!==Ee||null!==Te)&&(Ie(),Ce())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=Ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var De=!1;if(u)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){De=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(He){De=!1}function Pe(e,t,n,r,i,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Le=!1,Me=null,Fe=!1,Ue=null,je={onError:function(e){Le=!0,Me=e}};function Ve(e,t,n,r,i,o,a,s,l){Le=!1,Me=null,Pe.apply(je,arguments)}function qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ke(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Qe(e){if(qe(e)!==e)throw Error(o(188))}function Ye(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Qe(i),e;if(a===r)return Qe(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),null!==e?Xe(e):null}function Xe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Xe(e);if(null!==t)return t;e=e.sibling}return null}var Ze=i.unstable_scheduleCallback,tt=i.unstable_cancelCallback,nt=i.unstable_shouldYield,rt=i.unstable_requestPaint,it=i.unstable_now,ot=i.unstable_getCurrentPriorityLevel,at=i.unstable_ImmediatePriority,st=i.unstable_UserBlockingPriority,lt=i.unstable_NormalPriority,ct=i.unstable_LowPriority,ut=i.unstable_IdlePriority,ht=null,dt=null;var ft=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(pt(e)/mt|0)|0},pt=Math.log,mt=Math.LN2;var gt=64,yt=4194304;function vt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function wt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=vt(s):0!==(o&=a)&&(r=vt(o))}else 0!==(a=n&~i)?r=vt(a):0!==o&&(r=vt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ft(t)),r|=e[n],t&=~i;return r}function bt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Et(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Tt(){var e=gt;return 0===(4194240&(gt<<=1))&&(gt=64),e}function _t(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function St(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ft(t)]=n}function Ct(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ft(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var xt=0;function It(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var Nt,At,Rt,Dt,Ot,Pt=!1,Lt=[],Mt=null,Ft=null,jt=null,Vt=new Map,zt=new Map,Bt=[],Wt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ht(e,t){switch(e){case"focusin":case"focusout":Mt=null;break;case"dragenter":case"dragleave":Ft=null;break;case"mouseover":case"mouseout":jt=null;break;case"pointerover":case"pointerout":Vt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":zt.delete(t.pointerId)}}function qt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=Ii(t))&&At(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Kt(e){var t=xi(e.target);if(null!==t){var n=qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ke(n)))return e.blockedOn=t,void Ot(e.priority,function(){Rt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=on(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Ii(n))&&At(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Qt(e,t,n){Gt(e)&&n.delete(t)}function Yt(){Pt=!1,null!==Mt&&Gt(Mt)&&(Mt=null),null!==Ft&&Gt(Ft)&&(Ft=null),null!==jt&&Gt(jt)&&(jt=null),Vt.forEach(Qt),zt.forEach(Qt)}function Xt(e,t){e.blockedOn===t&&(e.blockedOn=null,Pt||(Pt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Yt)))}function $t(e){function t(t){return Xt(t,e)}if(0<Lt.length){Xt(Lt[0],e);for(var n=1;n<Lt.length;n++){var r=Lt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Mt&&Xt(Mt,e),null!==Ft&&Xt(Ft,e),null!==jt&&Xt(jt,e),Vt.forEach(t),zt.forEach(t),n=0;n<Bt.length;n++)(r=Bt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Bt.length&&null===(n=Bt[0]).blockedOn;)Kt(n),null===n.blockedOn&&Bt.shift()}var Jt=b.ReactCurrentBatchConfig,Zt=!0;function en(e,t,n,r){var i=xt,o=Jt.transition;Jt.transition=null;try{xt=1,nn(e,t,n,r)}finally{xt=i,Jt.transition=o}}function tn(e,t,n,r){var i=xt,o=Jt.transition;Jt.transition=null;try{xt=4,nn(e,t,n,r)}finally{xt=i,Jt.transition=o}}function nn(e,t,n,r){if(Zt){var i=on(e,t,n,r);if(null===i)Zr(e,t,r,rn,n),Ht(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Mt=qt(Mt,e,t,n,r,i),!0;case"dragenter":return Ft=qt(Ft,e,t,n,r,i),!0;case"mouseover":return jt=qt(jt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Vt.set(o,qt(Vt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,zt.set(o,qt(zt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Ht(e,r),4&t&&-1<Wt.indexOf(e)){for(;null!==i;){var o=Ii(i);if(null!==o&&Nt(o),null===(o=on(e,t,n,r))&&Zr(e,t,r,rn,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Zr(e,t,r,null,n)}}var rn=null;function on(e,t,n,r){if(rn=null,null!==(e=xi(e=be(r))))if(null===(t=qe(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ke(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return rn=e,null}function an(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ot()){case at:return 1;case st:return 4;case lt:case ct:return 16;case ut:return 536870912;default:return 16}default:return 16}}var sn=null,ln=null,cn=null;function un(){if(cn)return cn;var e,t,n=ln,r=n.length,i="value"in sn?sn.value:sn.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return cn=i.slice(e,1<t?1-t:void 0)}function hn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function dn(){return!0}function fn(){return!1}function pn(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?dn:fn,this.isPropagationStopped=fn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=dn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=dn)},persist:function(){},isPersistent:dn}),t}var mn,gn,yn,vn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wn=pn(vn),bn=F({},vn,{view:0,detail:0}),kn=pn(bn),En=F({},bn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yn&&(yn&&"mousemove"===e.type?(mn=e.screenX-yn.screenX,gn=e.screenY-yn.screenY):gn=mn=0,yn=e),mn)},movementY:function(e){return"movementY"in e?e.movementY:gn}}),Tn=pn(En),_n=pn(F({},En,{dataTransfer:0})),Sn=pn(F({},bn,{relatedTarget:0})),Cn=pn(F({},vn,{animationName:0,elapsedTime:0,pseudoElement:0})),xn=F({},vn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),In=pn(xn),Nn=pn(F({},vn,{data:0})),An={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function On(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Dn[e])&&!!t[e]}function Pn(){return On}var Ln=F({},bn,{key:function(e){if(e.key){var t=An[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=hn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Rn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pn,charCode:function(e){return"keypress"===e.type?hn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?hn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Mn=pn(Ln),Fn=pn(F({},En,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Un=pn(F({},bn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pn})),jn=pn(F({},vn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Vn=F({},En,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),zn=pn(Vn),Bn=[9,13,27,32],Wn=u&&"CompositionEvent"in window,Hn=null;u&&"documentMode"in document&&(Hn=document.documentMode);var qn=u&&"TextEvent"in window&&!Hn,Kn=u&&(!Wn||Hn&&8<Hn&&11>=Hn),Gn=String.fromCharCode(32),Qn=!1;function Yn(e,t){switch(e){case"keyup":return-1!==Bn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var $n=!1;var Jn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Jn[e.type]:"textarea"===t}function er(e,t,n,r){Se(r),0<(t=ti(t,"onChange")).length&&(n=new wn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var tr=null,nr=null;function rr(e){Gr(e,0)}function ir(e){if(G(Ni(e)))return e}function or(e,t){if("change"===e)return t}var ar=!1;if(u){var sr;if(u){var lr="oninput"in document;if(!lr){var cr=document.createElement("div");cr.setAttribute("oninput","return;"),lr="function"===typeof cr.oninput}sr=lr}else sr=!1;ar=sr&&(!document.documentMode||9<document.documentMode)}function ur(){tr&&(tr.detachEvent("onpropertychange",hr),nr=tr=null)}function hr(e){if("value"===e.propertyName&&ir(nr)){var t=[];er(t,nr,e,be(e)),Ae(rr,t)}}function dr(e,t,n){"focusin"===e?(ur(),nr=n,(tr=t).attachEvent("onpropertychange",hr)):"focusout"===e&&ur()}function fr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return ir(nr)}function pr(e,t){if("click"===e)return ir(t)}function mr(e,t){if("input"===e||"change"===e)return ir(t)}var gr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function yr(e,t){if(gr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!gr(e[i],t[i]))return!1}return!0}function vr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function wr(e,t){var n,r=vr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=vr(r)}}function br(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?br(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function kr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch($e){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function Er(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function Tr(e){var t=kr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&br(n.ownerDocument.documentElement,n)){if(null!==r&&Er(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=wr(n,o);var a=wr(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var _r=u&&"documentMode"in document&&11>=document.documentMode,Sr=null,Cr=null,xr=null,Ir=!1;function Nr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Ir||null==Sr||Sr!==Q(r)||("selectionStart"in(r=Sr)&&Er(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},xr&&yr(xr,r)||(xr=r,0<(r=ti(Cr,"onSelect")).length&&(t=new wn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Sr)))}function Ar(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Rr={animationend:Ar("Animation","AnimationEnd"),animationiteration:Ar("Animation","AnimationIteration"),animationstart:Ar("Animation","AnimationStart"),transitionend:Ar("Transition","TransitionEnd")},Dr={},Or={};function Pr(e){if(Dr[e])return Dr[e];if(!Rr[e])return e;var t,n=Rr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Or)return Dr[e]=n[t];return e}u&&(Or=document.createElement("div").style,"AnimationEvent"in window||(delete Rr.animationend.animation,delete Rr.animationiteration.animation,delete Rr.animationstart.animation),"TransitionEvent"in window||delete Rr.transitionend.transition);var Lr=Pr("animationend"),Mr=Pr("animationiteration"),Fr=Pr("animationstart"),Ur=Pr("transitionend"),jr=new Map,Vr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zr(e,t){jr.set(e,t),l(t,[e])}for(var Br=0;Br<Vr.length;Br++){var Wr=Vr[Br];zr(Wr.toLowerCase(),"on"+(Wr[0].toUpperCase()+Wr.slice(1)))}zr(Lr,"onAnimationEnd"),zr(Mr,"onAnimationIteration"),zr(Fr,"onAnimationStart"),zr("dblclick","onDoubleClick"),zr("focusin","onFocus"),zr("focusout","onBlur"),zr(Ur,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hr));function Kr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,l,c){if(Ve.apply(this,arguments),Le){if(!Le)throw Error(o(198));var u=Me;Le=!1,Me=null,Fe||(Fe=!0,Ue=u)}}(r,t,void 0,e),e.currentTarget=null}function Gr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;Kr(i,s,c),o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;Kr(i,s,c),o=l}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Qr(e,t){var n=t[_i];void 0===n&&(n=t[_i]=new Set);var r=e+"__bubble";n.has(r)||(Jr(t,e,2,!1),n.add(r))}function Yr(e,t,n){var r=0;t&&(r|=4),Jr(n,e,r,t)}var Xr="_reactListening"+Math.random().toString(36).slice(2);function $r(e){if(!e[Xr]){e[Xr]=!0,a.forEach(function(t){"selectionchange"!==t&&(qr.has(t)||Yr(t,!1,e),Yr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Xr]||(t[Xr]=!0,Yr("selectionchange",!1,t))}}function Jr(e,t,n,r){switch(an(t)){case 1:var i=en;break;case 4:i=tn;break;default:i=nn}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Zr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=xi(s)))return;if(5===(l=a.tag)||6===l){r=o=a;continue e}s=s.parentNode}}r=r.return}Ae(function(){var r=o,i=be(n),a=[];e:{var s=jr.get(e);if(void 0!==s){var l=wn,c=e;switch(e){case"keypress":if(0===hn(n))break e;case"keydown":case"keyup":l=Mn;break;case"focusin":c="focus",l=Sn;break;case"focusout":c="blur",l=Sn;break;case"beforeblur":case"afterblur":l=Sn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=Tn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=_n;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Un;break;case Lr:case Mr:case Fr:l=Cn;break;case Ur:l=jn;break;case"scroll":l=kn;break;case"wheel":l=zn;break;case"copy":case"cut":case"paste":l=In;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Fn}var u=0!==(4&t),h=!u&&"scroll"===e,d=u?null!==s?s+"Capture":null:s;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=Re(p,d))&&u.push(ei(p,m,f)))),h)break;p=p.return}0<u.length&&(s=new l(s,c,null,n,i),a.push({event:s,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!xi(c)&&!c[Ti])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?xi(c):null)&&(c!==(h=qe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=Tn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Fn,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?s:Ni(l),f=null==c?s:Ni(c),(s=new u(m,p+"leave",l,n,i)).target=h,s.relatedTarget=f,m=null,xi(i)===r&&((u=new u(d,p+"enter",c,n,i)).target=f,u.relatedTarget=h,m=u),h=m,l&&c)e:{for(d=c,p=0,f=u=l;f;f=ni(f))p++;for(f=0,m=d;m;m=ni(m))f++;for(;0<p-f;)u=ni(u),p--;for(;0<f-p;)d=ni(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break e;u=ni(u),d=ni(d)}u=null}else u=null;null!==l&&ri(a,s,l,u,!1),null!==c&&null!==h&&ri(a,h,c,u,!0)}if("select"===(l=(s=r?Ni(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=or;else if(Zn(s))if(ar)g=mr;else{g=fr;var y=dr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=pr);switch(g&&(g=g(e,r))?er(a,g,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?Ni(r):window,e){case"focusin":(Zn(y)||"true"===y.contentEditable)&&(Sr=y,Cr=r,xr=null);break;case"focusout":xr=Cr=Sr=null;break;case"mousedown":Ir=!0;break;case"contextmenu":case"mouseup":case"dragend":Ir=!1,Nr(a,n,i);break;case"selectionchange":if(_r)break;case"keydown":case"keyup":Nr(a,n,i)}var v;if(Wn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else $n?Yn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Kn&&"ko"!==n.locale&&($n||"onCompositionStart"!==w?"onCompositionEnd"===w&&$n&&(v=un()):(ln="value"in(sn=i)?sn.value:sn.textContent,$n=!0)),0<(y=ti(r,w)).length&&(w=new Nn(w,e,null,n,i),a.push({event:w,listeners:y}),v?w.data=v:null!==(v=Xn(n))&&(w.data=v))),(v=qn?function(e,t){switch(e){case"compositionend":return Xn(t);case"keypress":return 32!==t.which?null:(Qn=!0,Gn);case"textInput":return(e=t.data)===Gn&&Qn?null:e;default:return null}}(e,n):function(e,t){if($n)return"compositionend"===e||!Wn&&Yn(e,t)?(e=un(),cn=ln=sn=null,$n=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Kn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=ti(r,"onBeforeInput")).length&&(i=new Nn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=v))}Gr(a,t)})}function ei(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ti(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Re(e,n))&&r.unshift(ei(e,o,i)),null!=(o=Re(e,t))&&r.push(ei(e,o,i))),e=e.return}return r}function ni(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function ri(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(l=Re(n,o))&&a.unshift(ei(n,l,s)):i||null!=(l=Re(n,o))&&a.push(ei(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var ii=/\r\n?/g,oi=/\u0000|\uFFFD/g;function ai(e){return("string"===typeof e?e:""+e).replace(ii,"\n").replace(oi,"")}function si(e,t,n){if(t=ai(t),ai(e)!==t&&n)throw Error(o(425))}function li(){}var ci=null,ui=null;function hi(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var di="function"===typeof setTimeout?setTimeout:void 0,fi="function"===typeof clearTimeout?clearTimeout:void 0,pi="function"===typeof Promise?Promise:void 0,mi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof pi?function(e){return pi.resolve(null).then(e).catch(gi)}:di;function gi(e){setTimeout(function(){throw e})}function yi(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void $t(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);$t(t)}function vi(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function wi(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var bi=Math.random().toString(36).slice(2),ki="__reactFiber$"+bi,Ei="__reactProps$"+bi,Ti="__reactContainer$"+bi,_i="__reactEvents$"+bi,Si="__reactListeners$"+bi,Ci="__reactHandles$"+bi;function xi(e){var t=e[ki];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ti]||n[ki]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=wi(e);null!==e;){if(n=e[ki])return n;e=wi(e)}return t}n=(e=n).parentNode}return null}function Ii(e){return!(e=e[ki]||e[Ti])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Ni(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function Ai(e){return e[Ei]||null}var Ri=[],Di=-1;function Oi(e){return{current:e}}function Pi(e){0>Di||(e.current=Ri[Di],Ri[Di]=null,Di--)}function Li(e,t){Di++,Ri[Di]=e.current,e.current=t}var Mi={},Fi=Oi(Mi),Ui=Oi(!1),ji=Mi;function Vi(e,t){var n=e.type.contextTypes;if(!n)return Mi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function zi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Bi(){Pi(Ui),Pi(Fi)}function Wi(e,t,n){if(Fi.current!==Mi)throw Error(o(168));Li(Fi,t),Li(Ui,n)}function Hi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,W(e)||"Unknown",i));return F({},n,r)}function qi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Mi,ji=Fi.current,Li(Fi,e),Li(Ui,Ui.current),!0}function Ki(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Hi(e,t,ji),r.__reactInternalMemoizedMergedChildContext=e,Pi(Ui),Pi(Fi),Li(Fi,e)):Pi(Ui),Li(Ui,n)}var Gi=null,Qi=!1,Yi=!1;function Xi(e){null===Gi?Gi=[e]:Gi.push(e)}function $i(){if(!Yi&&null!==Gi){Yi=!0;var e=0,t=xt;try{var n=Gi;for(xt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Gi=null,Qi=!1}catch(ze){throw null!==Gi&&(Gi=Gi.slice(e+1)),Ze(at,$i),ze}finally{xt=t,Yi=!1}}return null}var Ji=[],Zi=0,eo=null,to=0,no=[],ro=0,io=null,oo=1,ao="";function so(e,t){Ji[Zi++]=to,Ji[Zi++]=eo,eo=e,to=t}function lo(e,t,n){no[ro++]=oo,no[ro++]=ao,no[ro++]=io,io=e;var r=oo;e=ao;var i=32-ft(r)-1;r&=~(1<<i),n+=1;var o=32-ft(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,oo=1<<32-ft(t)+i|n<<i|r,ao=o+e}else oo=1<<o|n<<i|r,ao=e}function co(e){null!==e.return&&(so(e,1),lo(e,1,0))}function uo(e){for(;e===eo;)eo=Ji[--Zi],Ji[Zi]=null,to=Ji[--Zi],Ji[Zi]=null;for(;e===io;)io=no[--ro],no[ro]=null,ao=no[--ro],no[ro]=null,oo=no[--ro],no[ro]=null}var ho=null,fo=null,po=!1,mo=null;function go(e,t){var n=zc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function yo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ho=e,fo=vi(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ho=e,fo=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==io?{id:oo,overflow:ao}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=zc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ho=e,fo=null,!0);default:return!1}}function vo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function bo(e){if(po){var t=fo;if(t){var n=t;if(!yo(e,t)){if(vo(e))throw Error(o(418));t=vi(n.nextSibling);var r=ho;t&&yo(e,t)?go(r,n):(e.flags=-4097&e.flags|2,po=!1,ho=e)}}else{if(vo(e))throw Error(o(418));e.flags=-4097&e.flags|2,po=!1,ho=e}}}function ko(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ho=e}function Eo(e){if(e!==ho)return!1;if(!po)return ko(e),po=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!hi(e.type,e.memoizedProps)),t&&(t=fo)){if(vo(e))throw To(),Error(o(418));for(;t;)go(e,t),t=vi(t.nextSibling)}if(ko(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){fo=vi(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}fo=null}}else fo=ho?vi(e.stateNode.nextSibling):null;return!0}function To(){for(var e=fo;e;)e=vi(e.nextSibling)}function _o(){fo=ho=null,po=!1}function So(e){null===mo?mo=[e]:mo.push(e)}var Co=b.ReactCurrentBatchConfig;function xo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Io(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function No(e){return(0,e._init)(e._payload)}function Ao(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Wc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Gc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===T?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===D&&No(o)===t.type)?((r=i(t,n.props)).ref=xo(e,t,n),r.return=e,r):((r=Hc(n.type,n.key,n.props,null,e.mode,r)).ref=xo(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Qc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,o){return null===t||7!==t.tag?((t=qc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Gc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case k:return(n=Hc(t.type,t.key,t.props,null,e.mode,n)).ref=xo(e,null,t),n.return=e,n;case E:return(t=Qc(t,e.mode,n)).return=e,t;case D:return d(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=qc(t,e.mode,n,null)).return=e,t;Io(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case k:return n.key===i?c(e,t,n,r):null;case E:return n.key===i?u(e,t,n,r):null;case D:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:h(e,t,n,r,null);Io(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case k:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case E:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case D:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return h(t,e=e.get(n)||null,r,i,null);Io(t,r)}return null}function m(i,o,s,l){for(var c=null,u=null,h=o,m=o=0,g=null;null!==h&&m<s.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var y=f(i,h,s[m],l);if(null===y){null===h&&(h=g);break}e&&h&&null===y.alternate&&t(i,h),o=a(y,o,m),null===u?c=y:u.sibling=y,u=y,h=g}if(m===s.length)return n(i,h),po&&so(i,m),c;if(null===h){for(;m<s.length;m++)null!==(h=d(i,s[m],l))&&(o=a(h,o,m),null===u?c=h:u.sibling=h,u=h);return po&&so(i,m),c}for(h=r(i,h);m<s.length;m++)null!==(g=p(h,i,m,s[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),o=a(g,o,m),null===u?c=g:u.sibling=g,u=g);return e&&h.forEach(function(e){return t(i,e)}),po&&so(i,m),c}function g(i,s,l,c){var u=L(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var h=u=null,m=s,g=s=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var w=f(i,m,v.value,c);if(null===w){null===m&&(m=y);break}e&&m&&null===w.alternate&&t(i,m),s=a(w,s,g),null===h?u=w:h.sibling=w,h=w,m=y}if(v.done)return n(i,m),po&&so(i,g),u;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=d(i,v.value,c))&&(s=a(v,s,g),null===h?u=v:h.sibling=v,h=v);return po&&so(i,g),u}for(m=r(i,m);!v.done;g++,v=l.next())null!==(v=p(m,i,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),s=a(v,s,g),null===h?u=v:h.sibling=v,h=v);return e&&m.forEach(function(e){return t(i,e)}),po&&so(i,g),u}return function e(r,o,a,l){if("object"===typeof a&&null!==a&&a.type===T&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case k:e:{for(var c=a.key,u=o;null!==u;){if(u.key===c){if((c=a.type)===T){if(7===u.tag){n(r,u.sibling),(o=i(u,a.props.children)).return=r,r=o;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===D&&No(c)===u.type){n(r,u.sibling),(o=i(u,a.props)).ref=xo(r,u,a),o.return=r,r=o;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===T?((o=qc(a.props.children,r.mode,l,a.key)).return=r,r=o):((l=Hc(a.type,a.key,a.props,null,r.mode,l)).ref=xo(r,o,a),l.return=r,r=l)}return s(r);case E:e:{for(u=a.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Qc(a,r.mode,l)).return=r,r=o}return s(r);case D:return e(r,o,(u=a._init)(a._payload),l)}if(te(a))return m(r,o,a,l);if(L(a))return g(r,o,a,l);Io(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=Gc(a,r.mode,l)).return=r,r=o),s(r)):n(r,o)}}var Ro=Ao(!0),Do=Ao(!1),Oo=Oi(null),Po=null,Lo=null,Mo=null;function Fo(){Mo=Lo=Po=null}function Uo(e){var t=Oo.current;Pi(Oo),e._currentValue=t}function jo(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Vo(e,t){Po=e,Mo=Lo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Ns=!0),e.firstContext=null)}function zo(e){var t=e._currentValue;if(Mo!==e)if(e={context:e,memoizedValue:t,next:null},null===Lo){if(null===Po)throw Error(o(308));Lo=e,Po.dependencies={lanes:0,firstContext:e}}else Lo=Lo.next=e;return t}var Bo=null;function Wo(e){null===Bo?Bo=[e]:Bo.push(e)}function Ho(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Wo(t)):(n.next=i.next,i.next=n),t.interleaved=n,qo(e,r)}function qo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ko=!1;function Go(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Yo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Xo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ul)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,qo(e,n)}return null===(i=r.interleaved)?(t.next=t,Wo(r)):(t.next=i.next,i.next=t),r.interleaved=t,qo(e,n)}function $o(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ct(e,n)}}function Jo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Zo(e,t,n,r){var i=e.updateQueue;Ko=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===a?o=c:a.next=c,a=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==o){var h=i.baseState;for(a=0,u=c=l=null,s=o;;){var d=s.lane,f=s.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(d=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(f,h,d):p)||void 0===d)break e;h=F({},h,d);break e;case 2:Ko=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[s]:d.push(s))}else f={eventTime:f,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=f,l=h):u=u.next=f,a|=d;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(d=s).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===u&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Kl|=a,e.lanes=a,e.memoizedState=h}}function ea(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var ta={},na=Oi(ta),ra=Oi(ta),ia=Oi(ta);function oa(e){if(e===ta)throw Error(o(174));return e}function aa(e,t){switch(Li(ia,t),Li(ra,e),Li(na,ta),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Pi(na),Li(na,t)}function sa(){Pi(na),Pi(ra),Pi(ia)}function la(e){oa(ia.current);var t=oa(na.current),n=le(t,e.type);t!==n&&(Li(ra,e),Li(na,n))}function ca(e){ra.current===e&&(Pi(na),Pi(ra))}var ua=Oi(0);function ha(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var da=[];function fa(){for(var e=0;e<da.length;e++)da[e]._workInProgressVersionPrimary=null;da.length=0}var pa=b.ReactCurrentDispatcher,ma=b.ReactCurrentBatchConfig,ga=0,ya=null,va=null,wa=null,ba=!1,ka=!1,Ea=0,Ta=0;function _a(){throw Error(o(321))}function Sa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!gr(e[n],t[n]))return!1;return!0}function Ca(e,t,n,r,i,a){if(ga=a,ya=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,pa.current=null===e||null===e.memoizedState?cs:us,e=n(r,i),ka){a=0;do{if(ka=!1,Ea=0,25<=a)throw Error(o(301));a+=1,wa=va=null,t.updateQueue=null,pa.current=hs,e=n(r,i)}while(ka)}if(pa.current=ls,t=null!==va&&null!==va.next,ga=0,wa=va=ya=null,ba=!1,t)throw Error(o(300));return e}function xa(){var e=0!==Ea;return Ea=0,e}function Ia(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===wa?ya.memoizedState=wa=e:wa=wa.next=e,wa}function Na(){if(null===va){var e=ya.alternate;e=null!==e?e.memoizedState:null}else e=va.next;var t=null===wa?ya.memoizedState:wa.next;if(null!==t)wa=t,va=e;else{if(null===e)throw Error(o(310));e={memoizedState:(va=e).memoizedState,baseState:va.baseState,baseQueue:va.baseQueue,queue:va.queue,next:null},null===wa?ya.memoizedState=wa=e:wa=wa.next=e}return wa}function Aa(e,t){return"function"===typeof t?t(e):t}function Ra(e){var t=Na(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=va,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=s=null,c=null,u=a;do{var h=u.lane;if((ga&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,s=r):c=c.next=d,ya.lanes|=h,Kl|=h}u=u.next}while(null!==u&&u!==a);null===c?s=r:c.next=l,gr(r,t.memoizedState)||(Ns=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,ya.lanes|=a,Kl|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Da(e){var t=Na(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);gr(a,t.memoizedState)||(Ns=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Oa(){}function Pa(e,t){var n=ya,r=Na(),i=t(),a=!gr(r.memoizedState,i);if(a&&(r.memoizedState=i,Ns=!0),r=r.queue,Ka(Fa.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==wa&&1&wa.memoizedState.tag){if(n.flags|=2048,za(9,Ma.bind(null,n,r,i,t),void 0,null),null===jl)throw Error(o(349));0!==(30&ga)||La(n,t,i)}return i}function La(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ya.updateQueue)?(t={lastEffect:null,stores:null},ya.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ma(e,t,n,r){t.value=n,t.getSnapshot=r,Ua(t)&&ja(e)}function Fa(e,t,n){return n(function(){Ua(t)&&ja(e)})}function Ua(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!gr(e,n)}catch($e){return!0}}function ja(e){var t=qo(e,1);null!==t&&dc(t,e,1,-1)}function Va(e){var t=Ia();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Aa,lastRenderedState:e},t.queue=e,e=e.dispatch=is.bind(null,ya,e),[t.memoizedState,e]}function za(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ya.updateQueue)?(t={lastEffect:null,stores:null},ya.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ba(){return Na().memoizedState}function Wa(e,t,n,r){var i=Ia();ya.flags|=e,i.memoizedState=za(1|t,n,void 0,void 0===r?null:r)}function Ha(e,t,n,r){var i=Na();r=void 0===r?null:r;var o=void 0;if(null!==va){var a=va.memoizedState;if(o=a.destroy,null!==r&&Sa(r,a.deps))return void(i.memoizedState=za(t,n,o,r))}ya.flags|=e,i.memoizedState=za(1|t,n,o,r)}function qa(e,t){return Wa(8390656,8,e,t)}function Ka(e,t){return Ha(2048,8,e,t)}function Ga(e,t){return Ha(4,2,e,t)}function Qa(e,t){return Ha(4,4,e,t)}function Ya(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Xa(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ha(4,4,Ya.bind(null,t,e),n)}function $a(){}function Ja(e,t){var n=Na();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Sa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Za(e,t){var n=Na();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Sa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function es(e,t,n){return 0===(21&ga)?(e.baseState&&(e.baseState=!1,Ns=!0),e.memoizedState=n):(gr(n,t)||(n=Tt(),ya.lanes|=n,Kl|=n,e.baseState=!0),t)}function ts(e,t){var n=xt;xt=0!==n&&4>n?n:4,e(!0);var r=ma.transition;ma.transition={};try{e(!1),t()}finally{xt=n,ma.transition=r}}function ns(){return Na().memoizedState}function rs(e,t,n){var r=hc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},os(e))as(t,n);else if(null!==(n=Ho(e,t,n,r))){dc(n,e,r,uc()),ss(n,t,r)}}function is(e,t,n){var r=hc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(os(e))as(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,gr(s,a)){var l=t.interleaved;return null===l?(i.next=i,Wo(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(We){}null!==(n=Ho(e,t,i,r))&&(dc(n,e,r,i=uc()),ss(n,t,r))}}function os(e){var t=e.alternate;return e===ya||null!==t&&t===ya}function as(e,t){ka=ba=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ss(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ct(e,n)}}var ls={readContext:zo,useCallback:_a,useContext:_a,useEffect:_a,useImperativeHandle:_a,useInsertionEffect:_a,useLayoutEffect:_a,useMemo:_a,useReducer:_a,useRef:_a,useState:_a,useDebugValue:_a,useDeferredValue:_a,useTransition:_a,useMutableSource:_a,useSyncExternalStore:_a,useId:_a,unstable_isNewReconciler:!1},cs={readContext:zo,useCallback:function(e,t){return Ia().memoizedState=[e,void 0===t?null:t],e},useContext:zo,useEffect:qa,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Wa(4194308,4,Ya.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Wa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Wa(4,2,e,t)},useMemo:function(e,t){var n=Ia();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ia();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=rs.bind(null,ya,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ia().memoizedState=e},useState:Va,useDebugValue:$a,useDeferredValue:function(e){return Ia().memoizedState=e},useTransition:function(){var e=Va(!1),t=e[0];return e=ts.bind(null,e[1]),Ia().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ya,i=Ia();if(po){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===jl)throw Error(o(349));0!==(30&ga)||La(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,qa(Fa.bind(null,r,a,e),[e]),r.flags|=2048,za(9,Ma.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Ia(),t=jl.identifierPrefix;if(po){var n=ao;t=":"+t+"R"+(n=(oo&~(1<<32-ft(oo)-1)).toString(32)+n),0<(n=Ea++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=Ta++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:zo,useCallback:Ja,useContext:zo,useEffect:Ka,useImperativeHandle:Xa,useInsertionEffect:Ga,useLayoutEffect:Qa,useMemo:Za,useReducer:Ra,useRef:Ba,useState:function(){return Ra(Aa)},useDebugValue:$a,useDeferredValue:function(e){return es(Na(),va.memoizedState,e)},useTransition:function(){return[Ra(Aa)[0],Na().memoizedState]},useMutableSource:Oa,useSyncExternalStore:Pa,useId:ns,unstable_isNewReconciler:!1},hs={readContext:zo,useCallback:Ja,useContext:zo,useEffect:Ka,useImperativeHandle:Xa,useInsertionEffect:Ga,useLayoutEffect:Qa,useMemo:Za,useReducer:Da,useRef:Ba,useState:function(){return Da(Aa)},useDebugValue:$a,useDeferredValue:function(e){var t=Na();return null===va?t.memoizedState=e:es(t,va.memoizedState,e)},useTransition:function(){return[Da(Aa)[0],Na().memoizedState]},useMutableSource:Oa,useSyncExternalStore:Pa,useId:ns,unstable_isNewReconciler:!1};function ds(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function fs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ps={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=uc(),i=hc(e),o=Yo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Xo(e,o,i))&&(dc(t,e,i,r),$o(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=uc(),i=hc(e),o=Yo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Xo(e,o,i))&&(dc(t,e,i,r),$o(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=uc(),r=hc(e),i=Yo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Xo(e,i,r))&&(dc(t,e,r,n),$o(t,e,r))}};function ms(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!yr(n,r)||!yr(i,o))}function gs(e,t,n){var r=!1,i=Mi,o=t.contextType;return"object"===typeof o&&null!==o?o=zo(o):(i=zi(t)?ji:Fi.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Vi(e,i):Mi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ps,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function ys(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ps.enqueueReplaceState(t,t.state,null)}function vs(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Go(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=zo(o):(o=zi(t)?ji:Fi.current,i.context=Vi(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(fs(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ps.enqueueReplaceState(i,i.state,null),Zo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function ws(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(Je){i="\nError generating stack: "+Je.message+"\n"+Je.stack}return{value:e,source:t,stack:i,digest:null}}function bs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ks(e,t){try{console.error(t.value)}catch(Ge){setTimeout(function(){throw Ge})}}var Es="function"===typeof WeakMap?WeakMap:Map;function Ts(e,t,n){(n=Yo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ec||(ec=!0,tc=r),ks(0,t)},n}function _s(e,t,n){(n=Yo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ks(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){ks(0,t),"function"!==typeof r&&(null===nc?nc=new Set([this]):nc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function Ss(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new Es;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Lc.bind(null,e,t,n),t.then(e,e))}function Cs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function xs(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Yo(-1,1)).tag=2,Xo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var Is=b.ReactCurrentOwner,Ns=!1;function As(e,t,n,r){t.child=null===e?Do(t,null,n,r):Ro(t,e.child,n,r)}function Rs(e,t,n,r,i){n=n.render;var o=t.ref;return Vo(t,i),r=Ca(e,t,n,r,o,i),n=xa(),null===e||Ns?(po&&n&&co(t),t.flags|=1,As(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,el(e,t,i))}function Ds(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Bc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Hc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Os(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:yr)(a,r)&&e.ref===t.ref)return el(e,t,i)}return t.flags|=1,(e=Wc(o,r)).ref=t.ref,e.return=t,t.child=e}function Os(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(yr(o,r)&&e.ref===t.ref){if(Ns=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,el(e,t,i);0!==(131072&e.flags)&&(Ns=!0)}}return Ms(e,t,n,r,i)}function Ps(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Li(Wl,Bl),Bl|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Li(Wl,Bl),Bl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Li(Wl,Bl),Bl|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Li(Wl,Bl),Bl|=r;return As(e,t,i,n),t.child}function Ls(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ms(e,t,n,r,i){var o=zi(n)?ji:Fi.current;return o=Vi(t,o),Vo(t,i),n=Ca(e,t,n,r,o,i),r=xa(),null===e||Ns?(po&&r&&co(t),t.flags|=1,As(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,el(e,t,i))}function Fs(e,t,n,r,i){if(zi(n)){var o=!0;qi(t)}else o=!1;if(Vo(t,i),null===t.stateNode)Zs(e,t),gs(t,n,r),vs(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=zo(c):c=Vi(t,c=zi(n)?ji:Fi.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||l!==c)&&ys(t,a,r,c),Ko=!1;var d=t.memoizedState;a.state=d,Zo(t,r,a,i),l=t.memoizedState,s!==r||d!==l||Ui.current||Ko?("function"===typeof u&&(fs(t,n,u,r),l=t.memoizedState),(s=Ko||ms(t,n,s,r,d,l,c))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Qo(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ds(t.type,s),a.props=c,h=t.pendingProps,d=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=zo(l):l=Vi(t,l=zi(n)?ji:Fi.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==h||d!==l)&&ys(t,a,r,l),Ko=!1,d=t.memoizedState,a.state=d,Zo(t,r,a,i);var p=t.memoizedState;s!==h||d!==p||Ui.current||Ko?("function"===typeof f&&(fs(t,n,f,r),p=t.memoizedState),(c=Ko||ms(t,n,c,r,d,p,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Us(e,t,n,r,o,i)}function Us(e,t,n,r,i,o){Ls(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Ki(t,n,!1),el(e,t,o);r=t.stateNode,Is.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Ro(t,e.child,null,o),t.child=Ro(t,null,s,o)):As(e,t,s,o),t.memoizedState=r.state,i&&Ki(t,n,!0),t.child}function js(e){var t=e.stateNode;t.pendingContext?Wi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Wi(0,t.context,!1),aa(e,t.containerInfo)}function Vs(e,t,n,r,i){return _o(),So(i),t.flags|=256,As(e,t,n,r),t.child}var zs,Bs,Ws,Hs,qs={dehydrated:null,treeContext:null,retryLane:0};function Ks(e){return{baseLanes:e,cachePool:null,transitions:null}}function Gs(e,t,n){var r,i=t.pendingProps,a=ua.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Li(ua,1&a),null===e)return bo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,s?(i=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Kc(l,i,0,null),e=qc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ks(n),t.memoizedState=qs,e):Qs(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,s){if(n)return 256&t.flags?(t.flags&=-257,Ys(e,t,s,r=bs(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Kc({mode:"visible",children:r.children},i,0,null),(a=qc(a,i,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&Ro(t,e.child,null,s),t.child.memoizedState=Ks(s),t.memoizedState=qs,a);if(0===(1&t.mode))return Ys(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Ys(e,t,s,r=bs(a=Error(o(419)),r,void 0))}if(l=0!==(s&e.childLanes),Ns||l){if(null!==(r=jl)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,qo(e,i),dc(r,e,i,-1))}return Sc(),Ys(e,t,s,r=bs(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Fc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,fo=vi(i.nextSibling),ho=t,po=!0,mo=null,null!==e&&(no[ro++]=oo,no[ro++]=ao,no[ro++]=io,oo=e.id,ao=e.overflow,io=t),t=Qs(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,a,n);if(s){s=i.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Wc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Wc(r,s):(s=qc(s,l,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,l=null===(l=e.child.memoizedState)?Ks(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=qs,i}return e=(s=e.child).sibling,i=Wc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Qs(e,t){return(t=Kc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ys(e,t,n,r){return null!==r&&So(r),Ro(t,e.child,null,n),(e=Qs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Xs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),jo(e.return,t,n)}function $s(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Js(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(As(e,t,r.children,n),0!==(2&(r=ua.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Xs(e,n,t);else if(19===e.tag)Xs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Li(ua,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ha(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),$s(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ha(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}$s(t,!0,n,null,o);break;case"together":$s(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Zs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function el(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Kl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Wc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Wc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function tl(e,t){if(!po)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function nl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function rl(e,t,n){var r=t.pendingProps;switch(uo(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nl(t),null;case 1:case 17:return zi(t.type)&&Bi(),nl(t),null;case 3:return r=t.stateNode,sa(),Pi(Ui),Pi(Fi),fa(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Eo(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==mo&&(gc(mo),mo=null))),Bs(e,t),nl(t),null;case 5:ca(t);var i=oa(ia.current);if(n=t.type,null!==e&&null!=t.stateNode)Ws(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return nl(t),null}if(e=oa(na.current),Eo(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[ki]=t,r[Ei]=a,e=0!==(1&t.mode),n){case"dialog":Qr("cancel",r),Qr("close",r);break;case"iframe":case"object":case"embed":Qr("load",r);break;case"video":case"audio":for(i=0;i<Hr.length;i++)Qr(Hr[i],r);break;case"source":Qr("error",r);break;case"img":case"image":case"link":Qr("error",r),Qr("load",r);break;case"details":Qr("toggle",r);break;case"input":X(r,a),Qr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Qr("invalid",r);break;case"textarea":ie(r,a),Qr("invalid",r)}for(var l in ye(n,a),i=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&si(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&si(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Qr("scroll",r)}switch(n){case"input":K(r),Z(r,a,!0);break;case"textarea":K(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=li)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[ki]=t,e[Ei]=r,zs(e,t,!1,!1),t.stateNode=e;e:{switch(l=ve(n,r),n){case"dialog":Qr("cancel",e),Qr("close",e),i=r;break;case"iframe":case"object":case"embed":Qr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Hr.length;i++)Qr(Hr[i],e);i=r;break;case"source":Qr("error",e),i=r;break;case"img":case"image":case"link":Qr("error",e),Qr("load",e),i=r;break;case"details":Qr("toggle",e),i=r;break;case"input":X(e,r),i=Y(e,r),Qr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Qr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Qr("invalid",e)}for(a in ye(n,i),c=i)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?me(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&ue(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Qr("scroll",e):null!=u&&w(e,a,u,l))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=li)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return nl(t),null;case 6:if(e&&null!=t.stateNode)Hs(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=oa(ia.current),oa(na.current),Eo(t)){if(r=t.stateNode,n=t.memoizedProps,r[ki]=t,(a=r.nodeValue!==n)&&null!==(e=ho))switch(e.tag){case 3:si(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&si(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ki]=t,t.stateNode=r}return nl(t),null;case 13:if(Pi(ua),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(po&&null!==fo&&0!==(1&t.mode)&&0===(128&t.flags))To(),_o(),t.flags|=98560,a=!1;else if(a=Eo(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[ki]=t}else _o(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;nl(t),a=!1}else null!==mo&&(gc(mo),mo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ua.current)?0===Hl&&(Hl=3):Sc())),null!==t.updateQueue&&(t.flags|=4),nl(t),null);case 4:return sa(),Bs(e,t),null===e&&$r(t.stateNode.containerInfo),nl(t),null;case 10:return Uo(t.type._context),nl(t),null;case 19:if(Pi(ua),null===(a=t.memoizedState))return nl(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)tl(a,!1);else{if(0!==Hl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ha(e))){for(t.flags|=128,tl(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Li(ua,1&ua.current|2),t.child}e=e.sibling}null!==a.tail&&it()>Jl&&(t.flags|=128,r=!0,tl(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ha(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),tl(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!po)return nl(t),null}else 2*it()-a.renderingStartTime>Jl&&1073741824!==n&&(t.flags|=128,r=!0,tl(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=it(),t.sibling=null,n=ua.current,Li(ua,r?1&n|2:1&n),t):(nl(t),null);case 22:case 23:return kc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Bl)&&(nl(t),6&t.subtreeFlags&&(t.flags|=8192)):nl(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function il(e,t){switch(uo(t),t.tag){case 1:return zi(t.type)&&Bi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return sa(),Pi(Ui),Pi(Fi),fa(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return ca(t),null;case 13:if(Pi(ua),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));_o()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Pi(ua),null;case 4:return sa(),null;case 10:return Uo(t.type._context),null;case 22:case 23:return kc(),null;default:return null}}zs=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Bs=function(){},Ws=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,oa(na.current);var o,a=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),a=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=li)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Qr("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Hs=function(e,t,n,r){n!==r&&(t.flags|=4)};var ol=!1,al=!1,sl="function"===typeof WeakSet?WeakSet:Set,ll=null;function cl(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch($e){Pc(e,t,$e)}else n.current=null}function ul(e,t,n){try{n()}catch($e){Pc(e,t,$e)}}var hl=!1;function dl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&ul(t,n,o)}i=i.next}while(i!==r)}}function fl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function pl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ml(e){var t=e.alternate;null!==t&&(e.alternate=null,ml(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ki],delete t[Ei],delete t[_i],delete t[Si],delete t[Ci])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function gl(e){return 5===e.tag||3===e.tag||4===e.tag}function yl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||gl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function vl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=li));else if(4!==r&&null!==(e=e.child))for(vl(e,t,n),e=e.sibling;null!==e;)vl(e,t,n),e=e.sibling}function wl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(wl(e,t,n),e=e.sibling;null!==e;)wl(e,t,n),e=e.sibling}var bl=null,kl=!1;function El(e,t,n){for(n=n.child;null!==n;)Tl(e,t,n),n=n.sibling}function Tl(e,t,n){if(dt&&"function"===typeof dt.onCommitFiberUnmount)try{dt.onCommitFiberUnmount(ht,n)}catch(et){}switch(n.tag){case 5:al||cl(n,t);case 6:var r=bl,i=kl;bl=null,El(e,t,n),kl=i,null!==(bl=r)&&(kl?(e=bl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):bl.removeChild(n.stateNode));break;case 18:null!==bl&&(kl?(e=bl,n=n.stateNode,8===e.nodeType?yi(e.parentNode,n):1===e.nodeType&&yi(e,n),$t(e)):yi(bl,n.stateNode));break;case 4:r=bl,i=kl,bl=n.stateNode.containerInfo,kl=!0,El(e,t,n),bl=r,kl=i;break;case 0:case 11:case 14:case 15:if(!al&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&ul(n,t,a),i=i.next}while(i!==r)}El(e,t,n);break;case 1:if(!al&&(cl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(et){Pc(n,t,et)}El(e,t,n);break;case 21:El(e,t,n);break;case 22:1&n.mode?(al=(r=al)||null!==n.memoizedState,El(e,t,n),al=r):El(e,t,n);break;default:El(e,t,n)}}function _l(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new sl),t.forEach(function(t){var r=Uc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function Sl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:bl=l.stateNode,kl=!1;break e;case 3:case 4:bl=l.stateNode.containerInfo,kl=!0;break e}l=l.return}if(null===bl)throw Error(o(160));Tl(a,s,i),bl=null,kl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(We){Pc(i,t,We)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)Cl(t,e),t=t.sibling}function Cl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Sl(t,e),xl(e),4&r){try{dl(3,e,e.return),fl(3,e)}catch(Be){Pc(e,e.return,Be)}try{dl(5,e,e.return)}catch(Be){Pc(e,e.return,Be)}}break;case 1:Sl(t,e),xl(e),512&r&&null!==n&&cl(n,n.return);break;case 5:if(Sl(t,e),xl(e),512&r&&null!==n&&cl(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(Be){Pc(e,e.return,Be)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&$(i,a),ve(l,s);var u=ve(l,a);for(s=0;s<c.length;s+=2){var h=c[s],d=c[s+1];"style"===h?me(i,d):"dangerouslySetInnerHTML"===h?ue(i,d):"children"===h?he(i,d):w(i,h,d,u)}switch(l){case"input":J(i,a);break;case"textarea":oe(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[Ei]=a}catch(Be){Pc(e,e.return,Be)}}break;case 6:if(Sl(t,e),xl(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(Be){Pc(e,e.return,Be)}}break;case 3:if(Sl(t,e),xl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{$t(t.containerInfo)}catch(Be){Pc(e,e.return,Be)}break;case 4:default:Sl(t,e),xl(e);break;case 13:Sl(t,e),xl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||($l=it())),4&r&&_l(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(al=(u=al)||h,Sl(t,e),al=u):Sl(t,e),xl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!h&&0!==(1&e.mode))for(ll=e,h=e.child;null!==h;){for(d=ll=h;null!==ll;){switch(p=(f=ll).child,f.tag){case 0:case 11:case 14:case 15:dl(4,f,f.return);break;case 1:cl(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(Be){Pc(r,n,Be)}}break;case 5:cl(f,f.return);break;case 22:if(null!==f.memoizedState){Rl(d);continue}}null!==p?(p.return=f,ll=p):Rl(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,u?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=d.stateNode,s=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=pe("display",s))}catch(Be){Pc(e,e.return,Be)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(Be){Pc(e,e.return,Be)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Sl(t,e),xl(e),4&r&&_l(e);case 21:}}function xl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(gl(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),wl(e,yl(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;vl(e,yl(e),a);break;default:throw Error(o(161))}}catch(kt){Pc(e,e.return,kt)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Il(e,t,n){ll=e,Nl(e,t,n)}function Nl(e,t,n){for(var r=0!==(1&e.mode);null!==ll;){var i=ll,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||ol;if(!a){var s=i.alternate,l=null!==s&&null!==s.memoizedState||al;s=ol;var c=al;if(ol=a,(al=l)&&!c)for(ll=i;null!==ll;)l=(a=ll).child,22===a.tag&&null!==a.memoizedState?Dl(i):null!==l?(l.return=a,ll=l):Dl(i);for(;null!==o;)ll=o,Nl(o,t,n),o=o.sibling;ll=i,ol=s,al=c}Al(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,ll=o):Al(e)}}function Al(e){for(;null!==ll;){var t=ll;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:al||fl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!al)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ds(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&ea(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ea(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&$t(d)}}}break;default:throw Error(o(163))}al||512&t.flags&&pl(t)}catch(f){Pc(t,t.return,f)}}if(t===e){ll=null;break}if(null!==(n=t.sibling)){n.return=t.return,ll=n;break}ll=t.return}}function Rl(e){for(;null!==ll;){var t=ll;if(t===e){ll=null;break}var n=t.sibling;if(null!==n){n.return=t.return,ll=n;break}ll=t.return}}function Dl(e){for(;null!==ll;){var t=ll;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{fl(4,t)}catch(kt){Pc(t,n,kt)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(kt){Pc(t,i,kt)}}var o=t.return;try{pl(t)}catch(kt){Pc(t,o,kt)}break;case 5:var a=t.return;try{pl(t)}catch(kt){Pc(t,a,kt)}}}catch(kt){Pc(t,t.return,kt)}if(t===e){ll=null;break}var s=t.sibling;if(null!==s){s.return=t.return,ll=s;break}ll=t.return}}var Ol,Pl=Math.ceil,Ll=b.ReactCurrentDispatcher,Ml=b.ReactCurrentOwner,Fl=b.ReactCurrentBatchConfig,Ul=0,jl=null,Vl=null,zl=0,Bl=0,Wl=Oi(0),Hl=0,ql=null,Kl=0,Gl=0,Ql=0,Yl=null,Xl=null,$l=0,Jl=1/0,Zl=null,ec=!1,tc=null,nc=null,rc=!1,ic=null,oc=0,ac=0,sc=null,lc=-1,cc=0;function uc(){return 0!==(6&Ul)?it():-1!==lc?lc:lc=it()}function hc(e){return 0===(1&e.mode)?1:0!==(2&Ul)&&0!==zl?zl&-zl:null!==Co.transition?(0===cc&&(cc=Tt()),cc):0!==(e=xt)?e:e=void 0===(e=window.event)?16:an(e.type)}function dc(e,t,n,r){if(50<ac)throw ac=0,sc=null,Error(o(185));St(e,n,r),0!==(2&Ul)&&e===jl||(e===jl&&(0===(2&Ul)&&(Gl|=n),4===Hl&&yc(e,zl)),fc(e,r),1===n&&0===Ul&&0===(1&t.mode)&&(Jl=it()+500,Qi&&$i()))}function fc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-ft(o),s=1<<a,l=i[a];-1===l?0!==(s&n)&&0===(s&r)||(i[a]=bt(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=wt(e,e===jl?zl:0);if(0===r)null!==n&&tt(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&tt(n),1===t)0===e.tag?function(e){Qi=!0,Xi(e)}(vc.bind(null,e)):Xi(vc.bind(null,e)),mi(function(){0===(6&Ul)&&$i()}),n=null;else{switch(It(r)){case 1:n=at;break;case 4:n=st;break;case 16:default:n=lt;break;case 536870912:n=ut}n=jc(n,pc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function pc(e,t){if(lc=-1,cc=0,0!==(6&Ul))throw Error(o(327));var n=e.callbackNode;if(Dc()&&e.callbackNode!==n)return null;var r=wt(e,e===jl?zl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=Cc(e,r);else{t=r;var i=Ul;Ul|=2;var a=_c();for(jl===e&&zl===t||(Zl=null,Jl=it()+500,Ec(e,t));;)try{Ic();break}catch(et){Tc(e,et)}Fo(),Ll.current=a,Ul=i,null!==Vl?t=0:(jl=null,zl=0,t=Hl)}if(0!==t){if(2===t&&(0!==(i=Et(e))&&(r=i,t=mc(e,i))),1===t)throw n=ql,Ec(e,0),yc(e,r),fc(e,it()),n;if(6===t)yc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!gr(o(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=Cc(e,r))&&(0!==(a=Et(e))&&(r=a,t=mc(e,a))),1===t))throw n=ql,Ec(e,0),yc(e,r),fc(e,it()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:Rc(e,Xl,Zl);break;case 3:if(yc(e,r),(130023424&r)===r&&10<(t=$l+500-it())){if(0!==wt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){uc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=di(Rc.bind(null,e,Xl,Zl),t);break}Rc(e,Xl,Zl);break;case 4:if(yc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ft(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=it()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Pl(r/1960))-r)){e.timeoutHandle=di(Rc.bind(null,e,Xl,Zl),r);break}Rc(e,Xl,Zl);break;default:throw Error(o(329))}}}return fc(e,it()),e.callbackNode===n?pc.bind(null,e):null}function mc(e,t){var n=Yl;return e.current.memoizedState.isDehydrated&&(Ec(e,t).flags|=256),2!==(e=Cc(e,t))&&(t=Xl,Xl=n,null!==t&&gc(t)),e}function gc(e){null===Xl?Xl=e:Xl.push.apply(Xl,e)}function yc(e,t){for(t&=~Ql,t&=~Gl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ft(t),r=1<<n;e[n]=-1,t&=~r}}function vc(e){if(0!==(6&Ul))throw Error(o(327));Dc();var t=wt(e,0);if(0===(1&t))return fc(e,it()),null;var n=Cc(e,t);if(0!==e.tag&&2===n){var r=Et(e);0!==r&&(t=r,n=mc(e,r))}if(1===n)throw n=ql,Ec(e,0),yc(e,t),fc(e,it()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Rc(e,Xl,Zl),fc(e,it()),null}function wc(e,t){var n=Ul;Ul|=1;try{return e(t)}finally{0===(Ul=n)&&(Jl=it()+500,Qi&&$i())}}function bc(e){null!==ic&&0===ic.tag&&0===(6&Ul)&&Dc();var t=Ul;Ul|=1;var n=Fl.transition,r=xt;try{if(Fl.transition=null,xt=1,e)return e()}finally{xt=r,Fl.transition=n,0===(6&(Ul=t))&&$i()}}function kc(){Bl=Wl.current,Pi(Wl)}function Ec(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,fi(n)),null!==Vl)for(n=Vl.return;null!==n;){var r=n;switch(uo(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Bi();break;case 3:sa(),Pi(Ui),Pi(Fi),fa();break;case 5:ca(r);break;case 4:sa();break;case 13:case 19:Pi(ua);break;case 10:Uo(r.type._context);break;case 22:case 23:kc()}n=n.return}if(jl=e,Vl=e=Wc(e.current,null),zl=Bl=t,Hl=0,ql=null,Ql=Gl=Kl=0,Xl=Yl=null,null!==Bo){for(t=0;t<Bo.length;t++)if(null!==(r=(n=Bo[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}Bo=null}return e}function Tc(e,t){for(;;){var n=Vl;try{if(Fo(),pa.current=ls,ba){for(var r=ya.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ba=!1}if(ga=0,wa=va=ya=null,ka=!1,Ea=0,Ml.current=null,null===n||null===n.return){Hl=1,ql=t,Vl=null;break}e:{var a=e,s=n.return,l=n,c=t;if(t=zl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=Cs(s);if(null!==p){p.flags&=-257,xs(p,s,l,0,t),1&p.mode&&Ss(a,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){Ss(a,u,t),Sc();break e}c=Error(o(426))}else if(po&&1&l.mode){var y=Cs(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),xs(y,s,l,0,t),So(ws(c,l));break e}}a=c=ws(c,l),4!==Hl&&(Hl=2),null===Yl?Yl=[a]:Yl.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Jo(a,Ts(0,c,t));break e;case 1:l=c;var v=a.type,w=a.stateNode;if(0===(128&a.flags)&&("function"===typeof v.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===nc||!nc.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t,Jo(a,_s(a,l,t));break e}}a=a.return}while(null!==a)}Ac(n)}catch(wo){t=wo,Vl===n&&null!==n&&(Vl=n=n.return);continue}break}}function _c(){var e=Ll.current;return Ll.current=ls,null===e?ls:e}function Sc(){0!==Hl&&3!==Hl&&2!==Hl||(Hl=4),null===jl||0===(268435455&Kl)&&0===(268435455&Gl)||yc(jl,zl)}function Cc(e,t){var n=Ul;Ul|=2;var r=_c();for(jl===e&&zl===t||(Zl=null,Ec(e,t));;)try{xc();break}catch(ze){Tc(e,ze)}if(Fo(),Ul=n,Ll.current=r,null!==Vl)throw Error(o(261));return jl=null,zl=0,Hl}function xc(){for(;null!==Vl;)Nc(Vl)}function Ic(){for(;null!==Vl&&!nt();)Nc(Vl)}function Nc(e){var t=Ol(e.alternate,e,Bl);e.memoizedProps=e.pendingProps,null===t?Ac(e):Vl=t,Ml.current=null}function Ac(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=rl(n,t,Bl)))return void(Vl=n)}else{if(null!==(n=il(n,t)))return n.flags&=32767,void(Vl=n);if(null===e)return Hl=6,void(Vl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Vl=t);Vl=t=e}while(null!==t);0===Hl&&(Hl=5)}function Rc(e,t,n){var r=xt,i=Fl.transition;try{Fl.transition=null,xt=1,function(e,t,n,r){do{Dc()}while(null!==ic);if(0!==(6&Ul))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ft(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===jl&&(Vl=jl=null,zl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||rc||(rc=!0,jc(lt,function(){return Dc(),null})),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Fl.transition,Fl.transition=null;var s=xt;xt=1;var l=Ul;Ul|=4,Ml.current=null,function(e,t){if(ci=Zt,Er(e=kr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(Ut){n=null;break e}var s=0,l=-1,c=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=s+i),d!==a||0!==r&&3!==d.nodeType||(c=s+r),3===d.nodeType&&(s+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===i&&(l=s),f===a&&++h===r&&(c=s),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ui={focusedElem:e,selectionRange:n},Zt=!1,ll=t;null!==ll;)if(e=(t=ll).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,ll=e;else for(;null!==ll;){t=ll;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,w=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:ds(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(o(163))}}catch(Ut){Pc(t,t.return,Ut)}if(null!==(e=t.sibling)){e.return=t.return,ll=e;break}ll=t.return}m=hl,hl=!1}(e,n),Cl(n,e),Tr(ui),Zt=!!ci,ui=ci=null,e.current=n,Il(n,e,i),rt(),Ul=l,xt=s,Fl.transition=a}else e.current=n;if(rc&&(rc=!1,ic=e,oc=i),a=e.pendingLanes,0===a&&(nc=null),function(e){if(dt&&"function"===typeof dt.onCommitFiberRoot)try{dt.onCommitFiberRoot(ht,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),fc(e,it()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ec)throw ec=!1,e=tc,tc=null,e;0!==(1&oc)&&0!==e.tag&&Dc(),a=e.pendingLanes,0!==(1&a)?e===sc?ac++:(ac=0,sc=e):ac=0,$i()}(e,t,n,r)}finally{Fl.transition=i,xt=r}return null}function Dc(){if(null!==ic){var e=It(oc),t=Fl.transition,n=xt;try{if(Fl.transition=null,xt=16>e?16:e,null===ic)var r=!1;else{if(e=ic,ic=null,oc=0,0!==(6&Ul))throw Error(o(331));var i=Ul;for(Ul|=4,ll=e.current;null!==ll;){var a=ll,s=a.child;if(0!==(16&ll.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(ll=u;null!==ll;){var h=ll;switch(h.tag){case 0:case 11:case 15:dl(8,h,a)}var d=h.child;if(null!==d)d.return=h,ll=d;else for(;null!==ll;){var f=(h=ll).sibling,p=h.return;if(ml(h),h===u){ll=null;break}if(null!==f){f.return=p,ll=f;break}ll=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}ll=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,ll=s;else e:for(;null!==ll;){if(0!==(2048&(a=ll).flags))switch(a.tag){case 0:case 11:case 15:dl(9,a,a.return)}var v=a.sibling;if(null!==v){v.return=a.return,ll=v;break e}ll=a.return}}var w=e.current;for(ll=w;null!==ll;){var b=(s=ll).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,ll=b;else e:for(s=w;null!==ll;){if(0!==(2048&(l=ll).flags))try{switch(l.tag){case 0:case 11:case 15:fl(9,l)}}catch(wo){Pc(l,l.return,wo)}if(l===s){ll=null;break e}var k=l.sibling;if(null!==k){k.return=l.return,ll=k;break e}ll=l.return}}if(Ul=i,$i(),dt&&"function"===typeof dt.onPostCommitFiberRoot)try{dt.onPostCommitFiberRoot(ht,e)}catch(wo){}r=!0}return r}finally{xt=n,Fl.transition=t}}return!1}function Oc(e,t,n){e=Xo(e,t=Ts(0,t=ws(n,t),1),1),t=uc(),null!==e&&(St(e,1,t),fc(e,t))}function Pc(e,t,n){if(3===e.tag)Oc(e,e,n);else for(;null!==t;){if(3===t.tag){Oc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===nc||!nc.has(r))){t=Xo(t,e=_s(t,e=ws(n,e),1),1),e=uc(),null!==t&&(St(t,1,e),fc(t,e));break}}t=t.return}}function Lc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=uc(),e.pingedLanes|=e.suspendedLanes&n,jl===e&&(zl&n)===n&&(4===Hl||3===Hl&&(130023424&zl)===zl&&500>it()-$l?Ec(e,0):Ql|=n),fc(e,t)}function Mc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=yt,0===(130023424&(yt<<=1))&&(yt=4194304)));var n=uc();null!==(e=qo(e,t))&&(St(e,t,n),fc(e,n))}function Fc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Mc(e,n)}function Uc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Mc(e,n)}function jc(e,t){return Ze(e,t)}function Vc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zc(e,t,n,r){return new Vc(e,t,n,r)}function Bc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Wc(e,t){var n=e.alternate;return null===n?((n=zc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Hc(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Bc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case T:return qc(n.children,i,a,t);case _:s=8,i|=8;break;case S:return(e=zc(12,n,t,2|i)).elementType=S,e.lanes=a,e;case N:return(e=zc(13,n,t,i)).elementType=N,e.lanes=a,e;case A:return(e=zc(19,n,t,i)).elementType=A,e.lanes=a,e;case O:return Kc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:s=10;break e;case x:s=9;break e;case I:s=11;break e;case R:s=14;break e;case D:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=zc(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function qc(e,t,n,r){return(e=zc(7,e,r,t)).lanes=n,e}function Kc(e,t,n,r){return(e=zc(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Gc(e,t,n){return(e=zc(6,e,null,t)).lanes=n,e}function Qc(e,t,n){return(t=zc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Yc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_t(0),this.expirationTimes=_t(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_t(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Xc(e,t,n,r,i,o,a,s,l){return e=new Yc(e,t,n,s,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=zc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Go(o),e}function $c(e){if(!e)return Mi;e:{if(qe(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(zi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(zi(n))return Hi(e,n,t)}return t}function Jc(e,t,n,r,i,o,a,s,l){return(e=Xc(n,r,!0,e,0,o,0,s,l)).context=$c(null),n=e.current,(o=Yo(r=uc(),i=hc(n))).callback=void 0!==t&&null!==t?t:null,Xo(n,o,i),e.current.lanes=i,St(e,i,r),fc(e,r),e}function Zc(e,t,n,r){var i=t.current,o=uc(),a=hc(i);return n=$c(n),null===t.context?t.context=n:t.pendingContext=n,(t=Yo(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Xo(i,t,a))&&(dc(e,i,a,o),$o(e,i,a)),a}function eu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function tu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function nu(e,t){tu(e,t),(e=e.alternate)&&tu(e,t)}Ol=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ui.current)Ns=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return Ns=!1,function(e,t,n){switch(t.tag){case 3:js(t),_o();break;case 5:la(t);break;case 1:zi(t.type)&&qi(t);break;case 4:aa(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Li(Oo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Li(ua,1&ua.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Gs(e,t,n):(Li(ua,1&ua.current),null!==(e=el(e,t,n))?e.sibling:null);Li(ua,1&ua.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Js(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Li(ua,ua.current),r)break;return null;case 22:case 23:return t.lanes=0,Ps(e,t,n)}return el(e,t,n)}(e,t,n);Ns=0!==(131072&e.flags)}else Ns=!1,po&&0!==(1048576&t.flags)&&lo(t,to,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Zs(e,t),e=t.pendingProps;var i=Vi(t,Fi.current);Vo(t,n),i=Ca(null,t,r,e,i,n);var a=xa();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,zi(r)?(a=!0,qi(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Go(t),i.updater=ps,t.stateNode=i,i._reactInternals=t,vs(t,r,e,n),t=Us(null,t,r,!0,a,n)):(t.tag=0,po&&a&&co(t),As(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Zs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Bc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===R)return 14}return 2}(r),e=ds(r,e),i){case 0:t=Ms(null,t,r,e,n);break e;case 1:t=Fs(null,t,r,e,n);break e;case 11:t=Rs(null,t,r,e,n);break e;case 14:t=Ds(null,t,r,ds(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ms(e,t,r,i=t.elementType===r?i:ds(r,i),n);case 1:return r=t.type,i=t.pendingProps,Fs(e,t,r,i=t.elementType===r?i:ds(r,i),n);case 3:e:{if(js(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,Qo(e,t),Zo(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Vs(e,t,r,n,i=ws(Error(o(423)),t));break e}if(r!==i){t=Vs(e,t,r,n,i=ws(Error(o(424)),t));break e}for(fo=vi(t.stateNode.containerInfo.firstChild),ho=t,po=!0,mo=null,n=Do(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(_o(),r===i){t=el(e,t,n);break e}As(e,t,r,n)}t=t.child}return t;case 5:return la(t),null===e&&bo(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,hi(r,i)?s=null:null!==a&&hi(r,a)&&(t.flags|=32),Ls(e,t),As(e,t,s,n),t.child;case 6:return null===e&&bo(t),null;case 13:return Gs(e,t,n);case 4:return aa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ro(t,null,r,n):As(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Rs(e,t,r,i=t.elementType===r?i:ds(r,i),n);case 7:return As(e,t,t.pendingProps,n),t.child;case 8:case 12:return As(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Li(Oo,r._currentValue),r._currentValue=s,null!==a)if(gr(a.value,s)){if(a.children===i.children&&!Ui.current){t=el(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Yo(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),jo(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),jo(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}As(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Vo(t,n),r=r(i=zo(i)),t.flags|=1,As(e,t,r,n),t.child;case 14:return i=ds(r=t.type,t.pendingProps),Ds(e,t,r,i=ds(r.type,i),n);case 15:return Os(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ds(r,i),Zs(e,t),t.tag=1,zi(r)?(e=!0,qi(t)):e=!1,Vo(t,n),gs(t,r,i),vs(t,r,i,n),Us(null,t,r,!0,e,n);case 19:return Js(e,t,n);case 22:return Ps(e,t,n)}throw Error(o(156,t.tag))};var ru="function"===typeof reportError?reportError:function(e){console.error(e)};function iu(e){this._internalRoot=e}function ou(e){this._internalRoot=e}function au(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function su(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function lu(){}function cu(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var e=eu(a);s.call(e)}}Zc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=eu(a);o.call(e)}}var a=Jc(t,r,e,0,null,!1,0,"",lu);return e._reactRootContainer=a,e[Ti]=a.current,$r(8===e.nodeType?e.parentNode:e),bc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=eu(l);s.call(e)}}var l=Xc(e,0,!1,null,0,!1,0,"",lu);return e._reactRootContainer=l,e[Ti]=l.current,$r(8===e.nodeType?e.parentNode:e),bc(function(){Zc(t,l,n,r)}),l}(n,t,e,i,r);return eu(a)}ou.prototype.render=iu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Zc(e,t,null,null)},ou.prototype.unmount=iu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;bc(function(){Zc(null,e,null,null)}),t[Ti]=null}},ou.prototype.unstable_scheduleHydration=function(e){if(e){var t=Dt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Bt.length&&0!==t&&t<Bt[n].priority;n++);Bt.splice(n,0,e),0===n&&Kt(e)}},Nt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=vt(t.pendingLanes);0!==n&&(Ct(t,1|n),fc(t,it()),0===(6&Ul)&&(Jl=it()+500,$i()))}break;case 13:bc(function(){var t=qo(e,1);if(null!==t){var n=uc();dc(t,e,1,n)}}),nu(e,1)}},At=function(e){if(13===e.tag){var t=qo(e,134217728);if(null!==t)dc(t,e,134217728,uc());nu(e,134217728)}},Rt=function(e){if(13===e.tag){var t=hc(e),n=qo(e,t);if(null!==n)dc(n,e,t,uc());nu(e,t)}},Dt=function(){return xt},Ot=function(e,t){var n=xt;try{return xt=e,t()}finally{xt=n}},ke=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ai(r);if(!i)throw Error(o(90));G(r),J(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},xe=wc,Ie=bc;var uu={usingClientEntryPoint:!1,Events:[Ii,Ni,Ai,Se,Ce,wc]},hu={findFiberByHostInstance:xi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},du={bundleType:hu.bundleType,version:hu.version,rendererPackageName:hu.rendererPackageName,rendererConfig:hu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ye(e))?null:e.stateNode},findFiberByHostInstance:hu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fu.isDisabled&&fu.supportsFiber)try{ht=fu.inject(du),dt=fu}catch(He){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!au(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!au(e))throw Error(o(299));var n=!1,r="",i=ru;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Xc(e,1,!1,null,0,n,0,r,i),e[Ti]=t.current,$r(8===e.nodeType?e.parentNode:e),new iu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=Ye(t))?null:e.stateNode},t.flushSync=function(e){return bc(e)},t.hydrate=function(e,t,n){if(!su(t))throw Error(o(200));return cu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!au(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=ru;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Jc(t,null,e,1,null!=n?n:null,i,0,a,s),e[Ti]=t.current,$r(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new ou(t)},t.render=function(e,t,n){if(!su(t))throw Error(o(200));return cu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!su(e))throw Error(o(40));return!!e._reactRootContainer&&(bc(function(){cu(null,null,e,!1,function(){e._reactRootContainer=null,e[Ti]=null})}),!0)},t.unstable_batchedUpdates=wc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!su(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return cu(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;("object"==typeof s||"function"==typeof s)&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach(e=>a[e]=()=>r[e]);return a.default=()=>r,n.d(o,a),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(ze){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r=n(43),i=n.t(r,2),o=n(391);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}function l(e,t,n){return(t=s(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){l(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var h,d=n(950),f=n.t(d,2);function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(h||(h={}));const m="popstate";function g(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function y(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(ze){}}}function v(e,t){return{usr:e.state,key:e.key,idx:t}}function w(e,t,n,r){return void 0===n&&(n=null),p({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?k(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function b(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function k(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function E(e,t,n,r){void 0===r&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,s=h.Pop,l=null,c=u();function u(){return(a.state||{idx:null}).idx}function d(){s=h.Pop;let e=u(),t=null==e?null:e-c;c=e,l&&l({action:s,location:y.location,delta:t})}function f(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof e?e:b(e);return n=n.replace(/ $/,"%20"),g(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==c&&(c=0,a.replaceState(p({},a.state,{idx:c}),""));let y={get action(){return s},get location(){return e(i,a)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(m,d),l=e,()=>{i.removeEventListener(m,d),l=null}},createHref:e=>t(i,e),createURL:f,encodeLocation(e){let t=f(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){s=h.Push;let r=w(y.location,e,t);n&&n(r,e),c=u()+1;let d=v(r,c),f=y.createHref(r);try{a.pushState(d,"",f)}catch(p){if(p instanceof DOMException&&"DataCloneError"===p.name)throw p;i.location.assign(f)}o&&l&&l({action:s,location:y.location,delta:1})},replace:function(e,t){s=h.Replace;let r=w(y.location,e,t);n&&n(r,e),c=u();let i=v(r,c),d=y.createHref(r);a.replaceState(i,"",d),o&&l&&l({action:s,location:y.location,delta:0})},go:e=>a.go(e)};return y}var T;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(T||(T={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function _(e,t,n){return void 0===n&&(n="/"),S(e,t,n,!1)}function S(e,t,n,r){let i=j(("string"===typeof t?k(t):t).pathname||"/",n);if(null==i)return null;let o=C(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(o);let a=null;for(let s=0;null==a&&s<o.length;++s){let e=U(i);a=M(o[s],e,r)}return a}function C(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,o)=>{let a={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(g(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let s=H([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(g(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),C(e.children,t,l,s)),(null!=e.path||e.index)&&t.push({path:s,score:L(s,e.index),routesMeta:l})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of x(e.path))i(e,t,r);else i(e,t)}),t}function x(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let a=x(r.join("/")),s=[];return s.push(...a.map(e=>""===e?o:[o,e].join("/"))),i&&s.push(...a),s.map(t=>e.startsWith("/")&&""===t?"/":t)}const I=/^:[\w-]+$/,N=3,A=2,R=1,D=10,O=-2,P=e=>"*"===e;function L(e,t){let n=e.split("/"),r=n.length;return n.some(P)&&(r+=O),t&&(r+=A),n.filter(e=>!P(e)).reduce((e,t)=>e+(I.test(t)?N:""===t?R:D),r)}function M(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},o="/",a=[];for(let s=0;s<r.length;++s){let e=r[s],l=s===r.length-1,c="/"===o?t:t.slice(o.length)||"/",u=F({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),h=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=F({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),a.push({params:i,pathname:H([o,u.pathname]),pathnameBase:q(H([o,u.pathnameBase])),route:h}),"/"!==u.pathnameBase&&(o=H([o,u.pathnameBase]))}return a}function F(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);y("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=s[n]||"";a=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:o,pathnameBase:a,pattern:e}}function U(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return y(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function j(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function V(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function z(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function B(e,t){let n=z(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function W(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=k(e):(i=p({},e),g(!i.pathname||!i.pathname.includes("?"),V("?","pathname","search",i)),g(!i.pathname||!i.pathname.includes("#"),V("#","pathname","hash",i)),g(!i.search||!i.search.includes("#"),V("#","search","hash",i)));let o,a=""===e||""===i.pathname,s=a?"/":i.pathname;if(null==s)o=n;else{let e=t.length-1;if(!r&&s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}o=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?k(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:K(r),hash:G(i)}}(i,o),c=s&&"/"!==s&&s.endsWith("/"),u=(a||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}const H=e=>e.join("/").replace(/\/\/+/g,"/"),q=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),K=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",G=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function Q(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const Y=["post","put","patch","delete"],X=(new Set(Y),["get",...Y]);new Set(X),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function $(){return $=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$.apply(this,arguments)}const J=r.createContext(null);const Z=r.createContext(null);const ee=r.createContext(null);const te=r.createContext(null);const ne=r.createContext({outlet:null,matches:[],isDataRoute:!1});const re=r.createContext(null);function ie(){return null!=r.useContext(te)}function oe(){return ie()||g(!1),r.useContext(te).location}function ae(e){r.useContext(ee).static||r.useLayoutEffect(e)}function se(){let{isDataRoute:e}=r.useContext(ne);return e?function(){let{router:e}=ye(me.UseNavigateStable),t=we(ge.UseNavigateStable),n=r.useRef(!1);ae(()=>{n.current=!0});let i=r.useCallback(function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,$({fromRouteId:t},i)))},[e,t]);return i}():function(){ie()||g(!1);let e=r.useContext(J),{basename:t,future:n,navigator:i}=r.useContext(ee),{matches:o}=r.useContext(ne),{pathname:a}=oe(),s=JSON.stringify(B(o,n.v7_relativeSplatPath)),l=r.useRef(!1);ae(()=>{l.current=!0});let c=r.useCallback(function(n,r){if(void 0===r&&(r={}),!l.current)return;if("number"===typeof n)return void i.go(n);let o=W(n,JSON.parse(s),a,"path"===r.relative);null==e&&"/"!==t&&(o.pathname="/"===o.pathname?t:H([t,o.pathname])),(r.replace?i.replace:i.push)(o,r.state,r)},[t,i,s,a,e]);return c}()}function le(e,t){let{relative:n}=void 0===t?{}:t,{future:i}=r.useContext(ee),{matches:o}=r.useContext(ne),{pathname:a}=oe(),s=JSON.stringify(B(o,i.v7_relativeSplatPath));return r.useMemo(()=>W(e,JSON.parse(s),a,"path"===n),[e,s,a,n])}function ce(e,t,n,i){ie()||g(!1);let{navigator:o}=r.useContext(ee),{matches:a}=r.useContext(ne),s=a[a.length-1],l=s?s.params:{},c=(s&&s.pathname,s?s.pathnameBase:"/");s&&s.route;let u,d=oe();if(t){var f;let e="string"===typeof t?k(t):t;"/"===c||(null==(f=e.pathname)?void 0:f.startsWith(c))||g(!1),u=e}else u=d;let p=u.pathname||"/",m=p;if("/"!==c){let e=c.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(e.length).join("/")}let y=_(e,{pathname:m});let v=pe(y&&y.map(e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:H([c,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:H([c,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),a,n,i);return t&&v?r.createElement(te.Provider,{value:{location:$({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:h.Pop}},v):v}function ue(){let e=function(){var e;let t=r.useContext(re),n=ve(ge.UseRouteError),i=we(ge.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[i]}(),t=Q(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:o},n):null,null)}const he=r.createElement(ue,null);class de extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?r.createElement(ne.Provider,{value:this.props.routeContext},r.createElement(re.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function fe(e){let{routeContext:t,match:n,children:i}=e,o=r.useContext(J);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(ne.Provider,{value:t},i)}function pe(e,t,n,i){var o;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===i&&(i=null),null==e){var a;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(a=i)&&a.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let s=e,l=null==(o=n)?void 0:o.errors;if(null!=l){let e=s.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||g(!1),s=s.slice(0,Math.min(s.length,e+1))}let c=!1,u=-1;if(n&&i&&i.v7_partialHydration)for(let r=0;r<s.length;r++){let e=s[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=r),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){c=!0,s=u>=0?s.slice(0,u+1):[s[0]];break}}}return s.reduceRight((e,i,o)=>{let a,h=!1,d=null,f=null;var p;n&&(a=l&&i.route.id?l[i.route.id]:void 0,d=i.route.errorElement||he,c&&(u<0&&0===o?(p="route-fallback",!1||be[p]||(be[p]=!0),h=!0,f=null):u===o&&(h=!0,f=i.route.hydrateFallbackElement||null)));let m=t.concat(s.slice(0,o+1)),g=()=>{let t;return t=a?d:h?f:i.route.Component?r.createElement(i.route.Component,null):i.route.element?i.route.element:e,r.createElement(fe,{match:i,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(i.route.ErrorBoundary||i.route.errorElement||0===o)?r.createElement(de,{location:n.location,revalidation:n.revalidation,component:d,error:a,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()},null)}var me=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(me||{}),ge=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ge||{});function ye(e){let t=r.useContext(J);return t||g(!1),t}function ve(e){let t=r.useContext(Z);return t||g(!1),t}function we(e){let t=function(){let e=r.useContext(ne);return e||g(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||g(!1),n.route.id}const be={};function ke(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}i.startTransition;function Ee(e){g(!1)}function Te(e){let{basename:t="/",children:n=null,location:i,navigationType:o=h.Pop,navigator:a,static:s=!1,future:l}=e;ie()&&g(!1);let c=t.replace(/^\/*/,"/"),u=r.useMemo(()=>({basename:c,navigator:a,static:s,future:$({v7_relativeSplatPath:!1},l)}),[c,l,a,s]);"string"===typeof i&&(i=k(i));let{pathname:d="/",search:f="",hash:p="",state:m=null,key:y="default"}=i,v=r.useMemo(()=>{let e=j(d,c);return null==e?null:{location:{pathname:e,search:f,hash:p,state:m,key:y},navigationType:o}},[c,d,f,p,m,y,o]);return null==v?null:r.createElement(ee.Provider,{value:u},r.createElement(te.Provider,{children:n,value:v}))}function _e(e){let{children:t,location:n}=e;return ce(Se(t),n)}new Promise(()=>{});r.Component;function Se(e,t){void 0===t&&(t=[]);let n=[];return r.Children.forEach(e,(e,i)=>{if(!r.isValidElement(e))return;let o=[...t,i];if(e.type===r.Fragment)return void n.push.apply(n,Se(e.props.children,o));e.type!==Ee&&g(!1),e.props.index&&e.props.children&&g(!1);let a={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=Se(e.props.children,o)),n.push(a)}),n}function Ce(){return Ce=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ce.apply(this,arguments)}function xe(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Ie=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Ne=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"];try{window.__reactRouterVersion="6"}catch(ze){}const Ae=r.createContext({isTransitioning:!1});new Map;const Re=i.startTransition;f.flushSync,i.useId;function De(e){let{basename:t,children:n,future:i,window:o}=e,a=r.useRef();var s;null==a.current&&(a.current=(void 0===(s={window:o,v5Compat:!0})&&(s={}),E(function(e,t){let{pathname:n,search:r,hash:i}=e.location;return w("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:b(t)},null,s)));let l=a.current,[c,u]=r.useState({action:l.action,location:l.location}),{v7_startTransition:h}=i||{},d=r.useCallback(e=>{h&&Re?Re(()=>u(e)):u(e)},[u,h]);return r.useLayoutEffect(()=>l.listen(d),[l,d]),r.useEffect(()=>ke(i),[i]),r.createElement(Te,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:i})}const Oe="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Pe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Le=r.forwardRef(function(e,t){let n,{onClick:i,relative:o,reloadDocument:a,replace:s,state:l,target:c,to:u,preventScrollReset:h,viewTransition:d}=e,f=xe(e,Ie),{basename:p}=r.useContext(ee),m=!1;if("string"===typeof u&&Pe.test(u)&&(n=u,Oe))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=j(t.pathname,p);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:m=!0}catch(ze){}let y=function(e,t){let{relative:n}=void 0===t?{}:t;ie()||g(!1);let{basename:i,navigator:o}=r.useContext(ee),{hash:a,pathname:s,search:l}=le(e,{relative:n}),c=s;return"/"!==i&&(c="/"===s?i:H([i,s])),o.createHref({pathname:c,search:l,hash:a})}(u,{relative:o}),v=function(e,t){let{target:n,replace:i,state:o,preventScrollReset:a,relative:s,viewTransition:l}=void 0===t?{}:t,c=se(),u=oe(),h=le(e,{relative:s});return r.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==i?i:b(u)===b(h);c(e,{replace:n,state:o,preventScrollReset:a,relative:s,viewTransition:l})}},[u,c,h,i,o,n,e,a,s,l])}(u,{replace:s,state:l,target:c,preventScrollReset:h,relative:o,viewTransition:d});return r.createElement("a",Ce({},f,{href:n||y,onClick:m||a?i:function(e){i&&i(e),e.defaultPrevented||v(e)},ref:t,target:c}))});const Me=r.forwardRef(function(e,t){let{"aria-current":n="page",caseSensitive:i=!1,className:o="",end:a=!1,style:s,to:l,viewTransition:c,children:u}=e,h=xe(e,Ne),d=le(l,{relative:h.relative}),f=oe(),p=r.useContext(Z),{navigator:m,basename:y}=r.useContext(ee),v=null!=p&&function(e,t){void 0===t&&(t={});let n=r.useContext(Ae);null==n&&g(!1);let{basename:i}=je(Fe.useViewTransitionState),o=le(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=j(n.currentLocation.pathname,i)||n.currentLocation.pathname,s=j(n.nextLocation.pathname,i)||n.nextLocation.pathname;return null!=F(o.pathname,s)||null!=F(o.pathname,a)}(d)&&!0===c,w=m.encodeLocation?m.encodeLocation(d).pathname:d.pathname,b=f.pathname,k=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;i||(b=b.toLowerCase(),k=k?k.toLowerCase():null,w=w.toLowerCase()),k&&y&&(k=j(k,y)||k);const E="/"!==w&&w.endsWith("/")?w.length-1:w.length;let T,_=b===w||!a&&b.startsWith(w)&&"/"===b.charAt(E),S=null!=k&&(k===w||!a&&k.startsWith(w)&&"/"===k.charAt(w.length)),C={isActive:_,isPending:S,isTransitioning:v},x=_?n:void 0;T="function"===typeof o?o(C):[o,_?"active":null,S?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let I="function"===typeof s?s(C):s;return r.createElement(Le,Ce({},h,{"aria-current":x,className:T,ref:t,style:I,to:l,viewTransition:c}),"function"===typeof u?u(C):u)});var Fe,Ue;function je(e){let t=r.useContext(J);return t||g(!1),t}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Fe||(Fe={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ue||(Ue={}));function Ve(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}let ze={data:""},Be=e=>"object"==typeof window?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||ze,We=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,He=/\/\*[^]*?\*\/|  +/g,qe=/\n+/g,Ke=(e,t)=>{let n="",r="",i="";for(let o in e){let a=e[o];"@"==o[0]?"i"==o[1]?n=o+" "+a+";":r+="f"==o[1]?Ke(a,o):o+"{"+Ke(a,"k"==o[1]?"":t)+"}":"object"==typeof a?r+=Ke(a,t?t.replace(/([^,])+/g,e=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)):o):null!=a&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Ke.p?Ke.p(o,a):o+":"+a+";")}return n+(t&&i?t+"{"+i+"}":i)+r},Ge={},Qe=e=>{if("object"==typeof e){let t="";for(let n in e)t+=n+Qe(e[n]);return t}return e},Ye=(e,t,n,r,i)=>{let o=Qe(e),a=Ge[o]||(Ge[o]=(e=>{let t=0,n=11;for(;t<e.length;)n=101*n+e.charCodeAt(t++)>>>0;return"go"+n})(o));if(!Ge[a]){let t=o!==e?e:(e=>{let t,n,r=[{}];for(;t=We.exec(e.replace(He,""));)t[4]?r.shift():t[3]?(n=t[3].replace(qe," ").trim(),r.unshift(r[0][n]=r[0][n]||{})):r[0][t[1]]=t[2].replace(qe," ").trim();return r[0]})(e);Ge[a]=Ke(i?{["@keyframes "+a]:t}:t,n?"":"."+a)}let s=n&&Ge.g?Ge.g:null;return n&&(Ge.g=Ge[a]),((e,t,n,r)=>{r?t.data=t.data.replace(r,e):-1===t.data.indexOf(e)&&(t.data=n?e+t.data:t.data+e)})(Ge[a],t,r,s),a};function Xe(e){let t=this||{},n=e.call?e(t.p):e;return Ye(n.unshift?n.raw?((e,t,n)=>e.reduce((e,r,i)=>{let o=t[i];if(o&&o.call){let e=o(n),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;o=t?"."+t:e&&"object"==typeof e?e.props?"":Ke(e,""):!1===e?"":e}return e+r+(null==o?"":o)},""))(n,[].slice.call(arguments,1),t.p):n.reduce((e,n)=>Object.assign(e,n&&n.call?n(t.p):n),{}):n,Be(t.target),t.g,t.o,t.k)}Xe.bind({g:1});let $e,Je,Ze,et=Xe.bind({k:1});function tt(e,t){let n=this||{};return function(){let r=arguments;function i(o,a){let s=Object.assign({},o),l=s.className||i.className;n.p=Object.assign({theme:Je&&Je()},s),n.o=/ *go\d+/.test(l),s.className=Xe.apply(n,r)+(l?" "+l:""),t&&(s.ref=a);let c=e;return e[0]&&(c=s.as||e,delete s.as),Ze&&c[0]&&Ze(s),$e(c,s)}return t?t(i):i}}var nt,rt,it,ot,at,st,lt,ct,ut,ht,dt,ft,pt,mt,gt,yt,vt=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,wt=(()=>{let e=0;return()=>(++e).toString()})(),bt=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),kt="default",Et=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return u(u({},e),{},{toasts:[t.toast,...e.toasts].slice(0,n)});case 1:return u(u({},e),{},{toasts:e.toasts.map(e=>e.id===t.toast.id?u(u({},e),t.toast):e)});case 2:let{toast:r}=t;return Et(e,{type:e.toasts.find(e=>e.id===r.id)?1:0,toast:r});case 3:let{toastId:i}=t;return u(u({},e),{},{toasts:e.toasts.map(e=>e.id===i||void 0===i?u(u({},e),{},{dismissed:!0,visible:!1}):e)});case 4:return void 0===t.toastId?u(u({},e),{},{toasts:[]}):u(u({},e),{},{toasts:e.toasts.filter(e=>e.id!==t.toastId)});case 5:return u(u({},e),{},{pausedAt:t.time});case 6:let o=t.time-(e.pausedAt||0);return u(u({},e),{},{pausedAt:void 0,toasts:e.toasts.map(e=>u(u({},e),{},{pauseDuration:e.pauseDuration+o}))})}},Tt=[],_t={toasts:[],pausedAt:void 0,settings:{toastLimit:20}},St={},Ct=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:kt;St[t]=Et(St[t]||_t,e),Tt.forEach(e=>{let[n,r]=e;n===t&&r(St[t])})},xt=e=>Object.keys(St).forEach(t=>Ct(e,t)),It=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kt;return t=>{Ct(t,e)}},Nt={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},At=e=>(t,n)=>{let r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",n=arguments.length>2?arguments[2]:void 0;return u(u({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0},n),{},{id:(null==n?void 0:n.id)||wt()})}(t,e,n);return It(r.toasterId||(e=>Object.keys(St).find(t=>St[t].toasts.some(t=>t.id===e)))(r.id))({type:2,toast:r}),r.id},Rt=(e,t)=>At("blank")(e,t);Rt.error=At("error"),Rt.success=At("success"),Rt.loading=At("loading"),Rt.custom=At("custom"),Rt.dismiss=(e,t)=>{let n={type:3,toastId:e};t?It(t)(n):xt(n)},Rt.dismissAll=e=>Rt.dismiss(void 0,e),Rt.remove=(e,t)=>{let n={type:4,toastId:e};t?It(t)(n):xt(n)},Rt.removeAll=e=>Rt.remove(void 0,e),Rt.promise=(e,t,n)=>{let r=Rt.loading(t.loading,u(u({},n),null==n?void 0:n.loading));return"function"==typeof e&&(e=e()),e.then(e=>{let i=t.success?vt(t.success,e):void 0;return i?Rt.success(i,u(u({id:r},n),null==n?void 0:n.success)):Rt.dismiss(r),e}).catch(e=>{let i=t.error?vt(t.error,e):void 0;i?Rt.error(i,u(u({id:r},n),null==n?void 0:n.error)):Rt.dismiss(r)}),e};var Dt=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",{toasts:n,pausedAt:i}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:kt,[n,i]=(0,r.useState)(St[t]||_t),o=(0,r.useRef)(St[t]);(0,r.useEffect)(()=>(o.current!==St[t]&&i(St[t]),Tt.push([t,i]),()=>{let e=Tt.findIndex(e=>{let[n]=e;return n===t});e>-1&&Tt.splice(e,1)}),[t]);let a=n.toasts.map(t=>{var n,r,i;return u(u(u(u({},e),e[t.type]),t),{},{removeDelay:t.removeDelay||(null==(n=e[t.type])?void 0:n.removeDelay)||(null==e?void 0:e.removeDelay),duration:t.duration||(null==(r=e[t.type])?void 0:r.duration)||(null==e?void 0:e.duration)||Nt[t.type],style:u(u(u({},e.style),null==(i=e[t.type])?void 0:i.style),t.style)})});return u(u({},n),{},{toasts:a})}(e,t),o=(0,r.useRef)(new Map).current,a=(0,r.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;if(o.has(e))return;let n=setTimeout(()=>{o.delete(e),s({type:4,toastId:e})},t);o.set(e,n)},[]);(0,r.useEffect)(()=>{if(i)return;let e=Date.now(),r=n.map(n=>{if(n.duration===1/0)return;let r=(n.duration||0)+n.pauseDuration-(e-n.createdAt);if(!(r<0))return setTimeout(()=>Rt.dismiss(n.id,t),r);n.visible&&Rt.dismiss(n.id)});return()=>{r.forEach(e=>e&&clearTimeout(e))}},[n,i,t]);let s=(0,r.useCallback)(It(t),[t]),l=(0,r.useCallback)(()=>{s({type:5,time:Date.now()})},[s]),c=(0,r.useCallback)((e,t)=>{s({type:1,toast:{id:e,height:t}})},[s]),h=(0,r.useCallback)(()=>{i&&s({type:6,time:Date.now()})},[i,s]),d=(0,r.useCallback)((e,t)=>{let{reverseOrder:r=!1,gutter:i=8,defaultPosition:o}=t||{},a=n.filter(t=>(t.position||o)===(e.position||o)&&t.height),s=a.findIndex(t=>t.id===e.id),l=a.filter((e,t)=>t<s&&e.visible).length;return a.filter(e=>e.visible).slice(...r?[l+1]:[0,l]).reduce((e,t)=>e+(t.height||0)+i,0)},[n]);return(0,r.useEffect)(()=>{n.forEach(e=>{if(e.dismissed)a(e.id,e.removeDelay);else{let t=o.get(e.id);t&&(clearTimeout(t),o.delete(e.id))}})},[n,a]),{toasts:n,handlers:{updateHeight:c,startPause:l,endPause:h,calculateOffset:d}}},Ot=et(nt||(nt=Ve(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n transform: scale(1) rotate(45deg);\n  opacity: 1;\n}"]))),Pt=et(rt||(rt=Ve(["\nfrom {\n  transform: scale(0);\n  opacity: 0;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),Lt=et(it||(it=Ve(["\nfrom {\n  transform: scale(0) rotate(90deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(90deg);\n\topacity: 1;\n}"]))),Mt=tt("div")(ot||(ot=Ve(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n\n  &:after,\n  &:before {\n    content: '';\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 150ms;\n    position: absolute;\n    border-radius: 3px;\n    opacity: 0;\n    background: ",";\n    bottom: 9px;\n    left: 4px;\n    height: 2px;\n    width: 12px;\n  }\n\n  &:before {\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 180ms;\n    transform: rotate(90deg);\n  }\n"])),e=>e.primary||"#ff4b4b",Ot,Pt,e=>e.secondary||"#fff",Lt),Ft=et(at||(at=Ve(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]))),Ut=tt("div")(st||(st=Ve(["\n  width: 12px;\n  height: 12px;\n  box-sizing: border-box;\n  border: 2px solid;\n  border-radius: 100%;\n  border-color: ",";\n  border-right-color: ",";\n  animation: "," 1s linear infinite;\n"])),e=>e.secondary||"#e0e0e0",e=>e.primary||"#616161",Ft),jt=et(lt||(lt=Ve(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(45deg);\n\topacity: 1;\n}"]))),Vt=et(ct||(ct=Ve(["\n0% {\n\theight: 0;\n\twidth: 0;\n\topacity: 0;\n}\n40% {\n  height: 0;\n\twidth: 6px;\n\topacity: 1;\n}\n100% {\n  opacity: 1;\n  height: 10px;\n}"]))),zt=tt("div")(ut||(ut=Ve(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n  &:after {\n    content: '';\n    box-sizing: border-box;\n    animation: "," 0.2s ease-out forwards;\n    opacity: 0;\n    animation-delay: 200ms;\n    position: absolute;\n    border-right: 2px solid;\n    border-bottom: 2px solid;\n    border-color: ",";\n    bottom: 6px;\n    left: 6px;\n    height: 10px;\n    width: 6px;\n  }\n"])),e=>e.primary||"#61d345",jt,Vt,e=>e.secondary||"#fff"),Bt=tt("div")(ht||(ht=Ve(["\n  position: absolute;\n"]))),Wt=tt("div")(dt||(dt=Ve(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 20px;\n  min-height: 20px;\n"]))),Ht=et(ft||(ft=Ve(["\nfrom {\n  transform: scale(0.6);\n  opacity: 0.4;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),qt=tt("div")(pt||(pt=Ve(["\n  position: relative;\n  transform: scale(0.6);\n  opacity: 0.4;\n  min-width: 20px;\n  animation: "," 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n"])),Ht),Kt=e=>{let{toast:t}=e,{icon:n,type:i,iconTheme:o}=t;return void 0!==n?"string"==typeof n?r.createElement(qt,null,n):n:"blank"===i?null:r.createElement(Wt,null,r.createElement(Ut,u({},o)),"loading"!==i&&r.createElement(Bt,null,"error"===i?r.createElement(Mt,u({},o)):r.createElement(zt,u({},o))))},Gt=e=>"\n0% {transform: translate3d(0,".concat(-200*e,"%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n"),Qt=e=>"\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,".concat(-150*e,"%,-1px) scale(.6); opacity:0;}\n"),Yt=tt("div")(mt||(mt=Ve(["\n  display: flex;\n  align-items: center;\n  background: #fff;\n  color: #363636;\n  line-height: 1.3;\n  will-change: transform;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);\n  max-width: 350px;\n  pointer-events: auto;\n  padding: 8px 10px;\n  border-radius: 8px;\n"]))),Xt=tt("div")(gt||(gt=Ve(["\n  display: flex;\n  justify-content: center;\n  margin: 4px 10px;\n  color: inherit;\n  flex: 1 1 auto;\n  white-space: pre-line;\n"]))),$t=r.memo(e=>{let{toast:t,position:n,style:i,children:o}=e,a=t.height?((e,t)=>{let n=e.includes("top")?1:-1,[r,i]=bt()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[Gt(n),Qt(n)];return{animation:t?"".concat(et(r)," 0.35s cubic-bezier(.21,1.02,.73,1) forwards"):"".concat(et(i)," 0.4s forwards cubic-bezier(.06,.71,.55,1)")}})(t.position||n||"top-center",t.visible):{opacity:0},s=r.createElement(Kt,{toast:t}),l=r.createElement(Xt,u({},t.ariaProps),vt(t.message,t));return r.createElement(Yt,{className:t.className,style:u(u(u({},a),i),t.style)},"function"==typeof o?o({icon:s,message:l}):r.createElement(r.Fragment,null,s,l))});!function(e,t,n,r){Ke.p=t,$e=e,Je=n,Ze=r}(r.createElement);var Jt=e=>{let{id:t,className:n,style:i,onHeightUpdate:o,children:a}=e,s=r.useCallback(e=>{if(e){let n=()=>{let n=e.getBoundingClientRect().height;o(t,n)};n(),new MutationObserver(n).observe(e,{subtree:!0,childList:!0,characterData:!0})}},[t,o]);return r.createElement("div",{ref:s,className:n,style:i},a)},Zt=Xe(yt||(yt=Ve(["\n  z-index: 9999;\n  > * {\n    pointer-events: auto;\n  }\n"]))),en=e=>{let{reverseOrder:t,position:n="top-center",toastOptions:i,gutter:o,children:a,toasterId:s,containerStyle:l,containerClassName:c}=e,{toasts:h,handlers:d}=Dt(i,s);return r.createElement("div",{"data-rht-toaster":s||"",style:u({position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none"},l),className:c,onMouseEnter:d.startPause,onMouseLeave:d.endPause},h.map(e=>{let i=e.position||n,s=((e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return u(u({left:0,right:0,display:"flex",position:"absolute",transition:bt()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:"translateY(".concat(t*(n?1:-1),"px)")},r),i)})(i,d.calculateOffset(e,{reverseOrder:t,gutter:o,defaultPosition:n}));return r.createElement(Jt,{id:e.id,key:e.id,onHeightUpdate:d.updateHeight,className:e.visible?Zt:"",style:s},"custom"===e.type?vt(e.message,e):a?a(e):r.createElement($t,{toast:e,position:i}))}))},tn=Rt,nn={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},rn=r.createContext&&r.createContext(nn),on=function(){return on=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},on.apply(this,arguments)},an=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function sn(e){return e&&e.map(function(e,t){return r.createElement(e.tag,on({key:t},e.attr),sn(e.child))})}function ln(e){return function(t){return r.createElement(cn,on({attr:on({},e.attr)},t),sn(e.child))}}function cn(e){var t=function(t){var n,i=e.attr,o=e.size,a=e.title,s=an(e,["attr","size","title"]),l=o||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),r.createElement("svg",on({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,s,{className:n,style:on(on({color:e.color||t.color},t.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),a&&r.createElement("title",null,a),e.children)};return void 0!==rn?r.createElement(rn.Consumer,null,function(e){return t(e)}):t(nn)}function un(e){return ln({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}},{tag:"path",attr:{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"}}]})(e)}function hn(e){return ln({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"}},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"}},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"}}]})(e)}function dn(e){return ln({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 8h1a4 4 0 0 1 0 8h-1"}},{tag:"path",attr:{d:"M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z"}},{tag:"line",attr:{x1:"6",y1:"1",x2:"6",y2:"4"}},{tag:"line",attr:{x1:"10",y1:"1",x2:"10",y2:"4"}},{tag:"line",attr:{x1:"14",y1:"1",x2:"14",y2:"4"}}]})(e)}function fn(e){return ln({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"}},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"}}]})(e)}function pn(e){return ln({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"}}]})(e)}function mn(e){return ln({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"}}]})(e)}function gn(e){return ln({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"}},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"}}]})(e)}function yn(e){return ln({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"}},{tag:"polyline",attr:{points:"7 3 7 8 15 8"}}]})(e)}function vn(e){return ln({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"}},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}}]})(e)}function wn(e){return ln({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"}},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"}}]})(e)}function bn(e){return ln({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"}},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"}},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"}}]})(e)}function kn(e){return ln({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"}},{tag:"polyline",attr:{points:"17 6 23 6 23 12"}}]})(e)}function En(e){return ln({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"}},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"}},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"}}]})(e)}function Tn(e){return ln({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"}},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"}}]})(e)}const _n="#1E88E5",Sn="#E3F2FD",Cn="#1565C0",xn="#388E3C",In="#F57C00",Nn="#D32F2F",An="#1976D2",Rn="#263238",Dn="#546E7A",On="#FFFFFF",Pn="#9E9E9E",Ln="#F5F5F5",Mn="#E0E0E0",Fn=20,Un=15,jn=10,Vn=8,zn=6,Bn=12,Wn=28,Hn=20,qn=18,Kn=14,Gn="'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif",Qn=500,Yn=700,Xn={boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"},$n={boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)"},Jn={boxShadow:"0 8px 16px rgba(0, 0, 0, 0.1)"},Zn="768px";var er=n(579);const tr={sidebar:u({height:"100vh",backgroundColor:On,borderRight:"1px solid ".concat(Mn),display:"flex",flexDirection:"column",position:"fixed",left:0,top:0,transition:"transform 0.3s ease-in-out"},$n),logo:{padding:Fn,borderBottom:"1px solid ".concat(Mn),backgroundColor:_n,display:"flex",alignItems:"center",justifyContent:"space-between"},logoText:{color:On,fontSize:Hn,fontWeight:Yn,margin:0,fontFamily:Gn},closeButton:{background:"none",border:"none",color:On,cursor:"pointer",padding:"4px",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center"},nav:{flex:1,padding:jn,overflowY:"auto"},navItem:{display:"flex",alignItems:"center",padding:"".concat(jn,"px ").concat(Fn,"px"),marginBottom:Vn,borderRadius:zn,textDecoration:"none",color:Dn,transition:"all 0.2s ease",fontFamily:Gn,fontSize:Kn,fontWeight:Qn,minHeight:"48px"},navItemActive:{backgroundColor:Sn,color:_n},navIcon:{marginRight:jn,flexShrink:0},navLabel:{fontSize:Kn,fontWeight:Qn}},nr=e=>{let{isOpen:t,isMobile:n,onClose:r,onToggle:i}=e;const o=[{path:"/",icon:mn,label:"Dashboard"},{path:"/teachers",icon:En,label:"Teachers"},{path:"/attendance",icon:hn,label:"Attendance"},{path:"/allowance",icon:fn,label:"Allowance"},{path:"/students",icon:un,label:"Students"},{path:"/canteen",icon:dn,label:"Canteen"},{path:"/settings",icon:wn,label:"Settings"}],a=()=>{n&&r()};return(0,er.jsxs)("div",{style:u(u({},tr.sidebar),{},{transform:n?t?"translateX(0)":"translateX(-100%)":"translateX(0)",width:n?"280px":"250px",zIndex:1e3}),children:[(0,er.jsxs)("div",{style:tr.logo,children:[(0,er.jsx)("h2",{style:tr.logoText,children:"School Admin"}),n&&(0,er.jsx)("button",{onClick:r,style:tr.closeButton,"aria-label":"Close menu",children:(0,er.jsx)(Tn,{size:20})})]}),(0,er.jsx)("nav",{style:tr.nav,children:o.map(e=>(0,er.jsxs)(Me,{to:e.path,onClick:a,style:e=>{let{isActive:t}=e;return u(u({},tr.navItem),t?tr.navItemActive:{})},children:[(0,er.jsx)(e.icon,{size:20,style:tr.navIcon}),(0,er.jsx)("span",{style:tr.navLabel,children:e.label})]},e.path))})]})},rr={container:{display:"flex",minHeight:"100vh",backgroundColor:Ln,position:"relative"},main:{flex:1,padding:Fn,minHeight:"100vh",width:"100%",boxSizing:"border-box"},mobileHeader:{position:"fixed",top:0,left:0,right:0,height:"60px",backgroundColor:On,borderBottom:"1px solid ".concat(Mn),display:"flex",alignItems:"center",padding:"0 ".concat(Fn,"px"),zIndex:999,boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"},menuButton:{background:"none",border:"none",padding:"8px",borderRadius:"4px",cursor:"pointer",color:Rn,display:"flex",alignItems:"center",justifyContent:"center",marginRight:jn},mobileTitle:{fontSize:"18px",fontWeight:"600",color:Rn,margin:0},overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:998}},ir=e=>{let{children:t}=e;const[n,i]=(0,r.useState)(!1),[o,a]=(0,r.useState)(!1);(0,r.useEffect)(()=>{const e=()=>{a(window.innerWidth<=parseInt(Zn)),window.innerWidth>parseInt(Zn)&&i(!1)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);const s=()=>{i(!n)},l=()=>{o&&i(!1)};return(0,er.jsxs)("div",{style:rr.container,children:[(0,er.jsx)(nr,{isOpen:n,isMobile:o,onClose:l,onToggle:s}),o&&(0,er.jsxs)("div",{style:rr.mobileHeader,children:[(0,er.jsx)("button",{onClick:s,style:rr.menuButton,"aria-label":"Toggle menu",children:(0,er.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,er.jsx)("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),(0,er.jsx)("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),(0,er.jsx)("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})}),(0,er.jsx)("h1",{style:rr.mobileTitle,children:"School Admin"})]}),o&&n&&(0,er.jsx)("div",{style:rr.overlay,onClick:l}),(0,er.jsx)("main",{style:u(u({},rr.main),{},{marginLeft:o?0:"250px",paddingTop:o?"70px":Fn}),children:t})]})},or=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ar={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,a=o?e[i+1]:0,s=i+2<e.length,l=s?e[i+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let h=(15&a)<<2|l>>6,d=63&l;s||(d=64,o||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(or(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const s=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==a||null==s)throw new sr;const l=t<<2|o>>4;if(r.push(l),64!==a){const e=o<<4&240|a>>2;if(r.push(e),64!==s){const e=a<<6&192|s;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class sr extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lr=function(e){return function(e){const t=or(e);return ar.encodeByteArray(t,!0)}(e).replace(/\./g,"")},cr=function(e){try{return ar.decodeString(e,!0)}catch(ze){console.error("base64Decode failed: ",ze)}return null};const ur=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,hr=()=>{try{return ur()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/school-management-system",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(ze){return}const t=e&&cr(e[1]);return t&&JSON.parse(t)})()}catch(ze){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(ze))}},dr=e=>{var t,n;return null===(n=null===(t=hr())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},fr=e=>{const t=dr(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},pr=()=>{var e;return null===(e=hr())||void 0===e?void 0:e.config},mr=e=>{var t;return null===(t=hr())||void 0===t?void 0:t["_".concat(e)]};class gr{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function yr(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[lr(JSON.stringify({alg:"none",type:"JWT"})),lr(JSON.stringify(o)),""].join(".")}function vr(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function wr(){try{return"object"===typeof indexedDB}catch(ze){return!1}}class br extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,br.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,kr.prototype.create)}}class kr{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Er,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",o="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new br(n,o,t)}}const Er=/\{\$([^}]+)}/g;function Tr(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(_r(n)&&_r(o)){if(!Tr(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function _r(e){return null!==e&&"object"===typeof e}function Sr(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Cr(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function xr(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class Ir{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Nr),void 0===r.error&&(r.error=Nr),void 0===r.complete&&(r.complete=Nr);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(ze){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(ze){"undefined"!==typeof console&&console.error&&console.error(ze)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Nr(){}function Ar(e){return e&&e._delegate?e._delegate:e}class Rr{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Dr="[DEFAULT]";class Or{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new gr;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(ze){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(ze){if(r)return null;throw ze}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Dr})}catch(ze){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(ze){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dr;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dr;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dr;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===Dr?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(o){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dr;return this.component?this.component.multipleInstances?e:Dr:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Pr{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Or(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Lr=[];var Mr;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Mr||(Mr={}));const Fr={debug:Mr.DEBUG,verbose:Mr.VERBOSE,info:Mr.INFO,warn:Mr.WARN,error:Mr.ERROR,silent:Mr.SILENT},Ur=Mr.INFO,jr={[Mr.DEBUG]:"log",[Mr.VERBOSE]:"log",[Mr.INFO]:"info",[Mr.WARN]:"warn",[Mr.ERROR]:"error"},Vr=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=jr[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];console[r]("[".concat(n,"]  ").concat(e.name,":"),...o)};class zr{constructor(e){this.name=e,this._logLevel=Ur,this._logHandler=Vr,this._userLogHandler=null,Lr.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Mr))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Fr[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Mr.DEBUG,...t),this._logHandler(this,Mr.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Mr.VERBOSE,...t),this._logHandler(this,Mr.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Mr.INFO,...t),this._logHandler(this,Mr.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Mr.WARN,...t),this._logHandler(this,Mr.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Mr.ERROR,...t),this._logHandler(this,Mr.ERROR,...t)}}let Br,Wr;const Hr=new WeakMap,qr=new WeakMap,Kr=new WeakMap,Gr=new WeakMap,Qr=new WeakMap;let Yr={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return qr.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Kr.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Jr(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Xr(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Wr||(Wr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Zr(this),n),Jr(Hr.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Jr(e.apply(Zr(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(Zr(this),t,...r);return Kr.set(o,t.sort?t.sort():[t]),Jr(o)}}function $r(e){return"function"===typeof e?Xr(e):(e instanceof IDBTransaction&&function(e){if(qr.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});qr.set(e,t)}(e),t=e,(Br||(Br=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,Yr):e);var t}function Jr(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(Jr(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)});return t.then(t=>{t instanceof IDBCursor&&Hr.set(t,e)}).catch(()=>{}),Qr.set(t,e),t}(e);if(Gr.has(e))return Gr.get(e);const t=$r(e);return t!==e&&(Gr.set(e,t),Qr.set(t,e)),t}const Zr=e=>Qr.get(e);const ei=["get","getKey","getAll","getAllKeys","count"],ti=["put","add","delete","clear"],ni=new Map;function ri(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(ni.get(t))return ni.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=ti.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!ei.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var a=arguments.length,s=new Array(a>1?a-1:0),l=1;l<a;l++)s[l-1]=arguments[l];return r&&(o=o.index(s.shift())),(await Promise.all([o[n](...s),i&&t.done]))[0]};return ni.set(t,o),o}Yr=(e=>u(u({},e),{},{get:(t,n,r)=>ri(t,n)||e.get(t,n,r),has:(t,n)=>!!ri(t,n)||e.has(t,n)}))(Yr);class ii{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const oi="@firebase/app",ai="0.9.13",si=new zr("@firebase/app"),li="@firebase/app-compat",ci="@firebase/analytics-compat",ui="@firebase/analytics",hi="@firebase/app-check-compat",di="@firebase/app-check",fi="@firebase/auth",pi="@firebase/auth-compat",mi="@firebase/database",gi="@firebase/database-compat",yi="@firebase/functions",vi="@firebase/functions-compat",wi="@firebase/installations",bi="@firebase/installations-compat",ki="@firebase/messaging",Ei="@firebase/messaging-compat",Ti="@firebase/performance",_i="@firebase/performance-compat",Si="@firebase/remote-config",Ci="@firebase/remote-config-compat",xi="@firebase/storage",Ii="@firebase/storage-compat",Ni="@firebase/firestore",Ai="@firebase/firestore-compat",Ri="firebase",Di="[DEFAULT]",Oi={[oi]:"fire-core",[li]:"fire-core-compat",[ui]:"fire-analytics",[ci]:"fire-analytics-compat",[di]:"fire-app-check",[hi]:"fire-app-check-compat",[fi]:"fire-auth",[pi]:"fire-auth-compat",[mi]:"fire-rtdb",[gi]:"fire-rtdb-compat",[yi]:"fire-fn",[vi]:"fire-fn-compat",[wi]:"fire-iid",[bi]:"fire-iid-compat",[ki]:"fire-fcm",[Ei]:"fire-fcm-compat",[Ti]:"fire-perf",[_i]:"fire-perf-compat",[Si]:"fire-rc",[Ci]:"fire-rc-compat",[xi]:"fire-gcs",[Ii]:"fire-gcs-compat",[Ni]:"fire-fst",[Ai]:"fire-fst-compat","fire-js":"fire-js",[Ri]:"fire-js-all"},Pi=new Map,Li=new Map;function Mi(e,t){try{e.container.addComponent(t)}catch(ze){si.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),ze)}}function Fi(e){const t=e.name;if(Li.has(t))return si.debug("There were multiple attempts to register component ".concat(t,".")),!1;Li.set(t,e);for(const n of Pi.values())Mi(n,e);return!0}function Ui(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const ji=new kr("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Vi{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Rr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ji.create("app-deleted",{appName:this._name})}}const zi="9.23.0";function Bi(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Di,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw ji.create("bad-app-name",{appName:String(i)});if(n||(n=pr()),!n)throw ji.create("no-options");const o=Pi.get(i);if(o){if(Tr(n,o.options)&&Tr(r,o.config))return o;throw ji.create("duplicate-app",{appName:i})}const a=new Pr(i);for(const l of Li.values())a.addComponent(l);const s=new Vi(n,r,a);return Pi.set(i,s),s}function Wi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Di;const t=Pi.get(e);if(!t&&e===Di&&pr())return Bi();if(!t)throw ji.create("no-app",{appName:e});return t}function Hi(e,t,n){var r;let i=null!==(r=Oi[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const o=i.match(/\s|\//),a=t.match(/\s|\//);if(o||a){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return o&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),o&&a&&e.push("and"),a&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void si.warn(e.join(" "))}Fi(new Rr("".concat(i,"-version"),()=>({library:i,version:t}),"VERSION"))}const qi="firebase-heartbeat-store";let Ki=null;function Gi(){return Ki||(Ki=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),s=Jr(a);return r&&a.addEventListener("upgradeneeded",e=>{r(Jr(a.result),e.oldVersion,e.newVersion,Jr(a.transaction),e)}),n&&a.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),s.then(e=>{o&&e.addEventListener("close",()=>o()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),s}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(qi)}}).catch(e=>{throw ji.create("idb-open",{originalErrorMessage:e.message})})),Ki}async function Qi(e,t){try{const n=(await Gi()).transaction(qi,"readwrite"),r=n.objectStore(qi);await r.put(t,Yi(e)),await n.done}catch(ze){if(ze instanceof br)si.warn(ze.message);else{const t=ji.create("idb-set",{originalErrorMessage:null===ze||void 0===ze?void 0:ze.message});si.warn(t.message)}}}function Yi(e){return"".concat(e.name,"!").concat(e.options.appId)}class Xi{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Ji(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=$i();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some(e=>e.date===t))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=$i(),{heartbeatsToSend:t,unsentEntries:n}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),Zi(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Zi(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=lr(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function $i(){return(new Date).toISOString().substring(0,10)}class Ji{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!wr()&&new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=await Gi();return await t.transaction(qi).objectStore(qi).get(Yi(e))}catch(ze){if(ze instanceof br)si.warn(ze.message);else{const t=ji.create("idb-get",{originalErrorMessage:null===ze||void 0===ze?void 0:ze.message});si.warn(t.message)}}}(this.app);return e||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Qi(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Qi(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Zi(e){return lr(JSON.stringify({version:2,heartbeats:e})).length}var eo;eo="",Fi(new Rr("platform-logger",e=>new ii(e),"PRIVATE")),Fi(new Rr("heartbeat",e=>new Xi(e),"PRIVATE")),Hi(oi,ai,eo),Hi(oi,ai,"esm2017"),Hi("fire-js","");var to,no="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},ro={},io=io||{},oo=no||self;function ao(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function so(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var lo="closure_uid_"+(1e9*Math.random()>>>0),co=0;function uo(e,t,n){return e.call.apply(e.bind,arguments)}function ho(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function fo(e,t,n){return(fo=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?uo:ho).apply(null,arguments)}function po(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function mo(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function go(){this.s=this.s,this.o=this.o}go.prototype.s=!1,go.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function(e){Object.prototype.hasOwnProperty.call(e,lo)&&e[lo]||(e[lo]=++co)}(this)},go.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const yo=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function vo(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function wo(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(ao(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function bo(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}bo.prototype.h=function(){this.defaultPrevented=!0};var ko=function(){if(!oo.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{oo.addEventListener("test",()=>{},t),oo.removeEventListener("test",()=>{},t)}catch(Ge){}return e}();function Eo(e){return/^[\s\xa0]*$/.test(e)}function To(){var e=oo.navigator;return e&&(e=e.userAgent)?e:""}function _o(e){return-1!=To().indexOf(e)}function So(e){return So[" "](e),e}So[" "]=function(){};var Co,xo,Io=_o("Opera"),No=_o("Trident")||_o("MSIE"),Ao=_o("Edge"),Ro=Ao||No,Do=_o("Gecko")&&!(-1!=To().toLowerCase().indexOf("webkit")&&!_o("Edge"))&&!(_o("Trident")||_o("MSIE"))&&!_o("Edge"),Oo=-1!=To().toLowerCase().indexOf("webkit")&&!_o("Edge");function Po(){var e=oo.document;return e?e.documentMode:void 0}e:{var Lo="",Mo=function(){var e=To();return Do?/rv:([^\);]+)(\)|;)/.exec(e):Ao?/Edge\/([\d\.]+)/.exec(e):No?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Oo?/WebKit\/(\S+)/.exec(e):Io?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Mo&&(Lo=Mo?Mo[1]:""),No){var Fo=Po();if(null!=Fo&&Fo>parseFloat(Lo)){Co=String(Fo);break e}}Co=Lo}if(oo.document&&No){var Uo=Po();xo=Uo||(parseInt(Co,10)||void 0)}else xo=void 0;var jo=xo;function Vo(e,t){if(bo.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Do){e:{try{So(t.nodeName);var i=!0;break e}catch(Je){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:zo[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Vo.$.h.call(this)}}mo(Vo,bo);var zo={2:"touch",3:"pen",4:"mouse"};Vo.prototype.h=function(){Vo.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Bo="closure_listenable_"+(1e6*Math.random()|0),Wo=0;function Ho(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Wo,this.fa=this.ia=!1}function qo(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Ko(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function Go(e){const t={};for(const n in e)t[n]=e[n];return t}const Qo="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Yo(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<Qo.length;t++)n=Qo[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Xo(e){this.src=e,this.g={},this.h=0}function $o(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=yo(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(qo(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Jo(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.fa&&o.listener==t&&o.capture==!!n&&o.la==r)return i}return-1}Xo.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var a=Jo(e,t,r,i);return-1<a?(t=e[a],n||(t.ia=!1)):((t=new Ho(t,this.src,o,!!r,i)).ia=n,e.push(t)),t};var Zo="closure_lm_"+(1e6*Math.random()|0),ea={};function ta(e,t,n,r,i){if(r&&r.once)return ra(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)ta(e,t[o],n,r,i);return null}return n=ua(n),e&&e[Bo]?e.O(t,n,so(r)?!!r.capture:!!r,i):na(e,t,n,!1,r,i)}function na(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=so(i)?!!i.capture:!!i,s=la(e);if(s||(e[Zo]=s=new Xo(e)),(n=s.add(t,n,r,a,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=sa;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)ko||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(aa(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ra(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)ra(e,t[o],n,r,i);return null}return n=ua(n),e&&e[Bo]?e.P(t,n,so(r)?!!r.capture:!!r,i):na(e,t,n,!0,r,i)}function ia(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)ia(e,t[o],n,r,i);else r=so(r)?!!r.capture:!!r,n=ua(n),e&&e[Bo]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Jo(o=e.g[t],n,r,i))&&(qo(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=la(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Jo(t,n,r,i)),(n=-1<e?t[e]:null)&&oa(n))}function oa(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Bo])$o(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(aa(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=la(t))?($o(n,e),0==n.h&&(n.src=null,t[Zo]=null)):qo(e)}}}function aa(e){return e in ea?ea[e]:ea[e]="on"+e}function sa(e,t){if(e.fa)e=!0;else{t=new Vo(t,this);var n=e.listener,r=e.la||e.src;e.ia&&oa(e),e=n.call(r,t)}return e}function la(e){return(e=e[Zo])instanceof Xo?e:null}var ca="__closure_events_fn_"+(1e9*Math.random()>>>0);function ua(e){return"function"===typeof e?e:(e[ca]||(e[ca]=function(t){return e.handleEvent(t)}),e[ca])}function ha(){go.call(this),this.i=new Xo(this),this.S=this,this.J=null}function da(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new bo(t,e);else if(t instanceof bo)t.target=t.target||e;else{var i=t;Yo(t=new bo(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.g=n[o];i=fa(a,r,!0,t)&&i}if(i=fa(a=t.g=e,r,!0,t)&&i,i=fa(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=fa(a=t.g=n[o],r,!1,t)&&i}function fa(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.fa&&a.capture==n){var s=a.listener,l=a.la||a.src;a.ia&&$o(e.i,a),i=!1!==s.call(l,r)&&i}}return i&&!r.defaultPrevented}mo(ha,go),ha.prototype[Bo]=!0,ha.prototype.removeEventListener=function(e,t,n,r){ia(this,e,t,n,r)},ha.prototype.N=function(){if(ha.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)qo(n[r]);delete t.g[e],t.h--}}this.J=null},ha.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ha.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var pa=oo.JSON.stringify;function ma(){var e=Ea;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var ga=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new ya,e=>e.reset());class ya{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function va(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function wa(e){oo.setTimeout(()=>{throw e},0)}let ba,ka=!1,Ea=new class{constructor(){this.h=this.g=null}add(e,t){const n=ga.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},Ta=()=>{const e=oo.Promise.resolve(void 0);ba=()=>{e.then(_a)}};var _a=()=>{for(var e;e=ma();){try{e.h.call(e.g)}catch(Ge){wa(Ge)}var t=ga;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}ka=!1};function Sa(e,t){ha.call(this),this.h=e||1,this.g=t||oo,this.j=fo(this.qb,this),this.l=Date.now()}function Ca(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function xa(e,t,n){if("function"===typeof e)n&&(e=fo(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=fo(e.handleEvent,e)}return 2147483647<Number(t)?-1:oo.setTimeout(e,t||0)}function Ia(e){e.g=xa(()=>{e.g=null,e.i&&(e.i=!1,Ia(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}mo(Sa,ha),(to=Sa.prototype).ga=!1,to.T=null,to.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),da(this,"tick"),this.ga&&(Ca(this),this.start()))}},to.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},to.N=function(){Sa.$.N.call(this),Ca(this),delete this.g};class Na extends go{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Ia(this)}N(){super.N(),this.g&&(oo.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Aa(e){go.call(this),this.h=e,this.g={}}mo(Aa,go);var Ra=[];function Da(e,t,n,r){Array.isArray(n)||(n&&(Ra[0]=n.toString()),n=Ra);for(var i=0;i<n.length;i++){var o=ta(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function Oa(e){Ko(e.g,function(e,t){this.g.hasOwnProperty(t)&&oa(e)},e),e.g={}}function Pa(){this.g=!0}function La(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return pa(n)}catch(qe){return t}}(e,n)+(r?" "+r:"")})}Aa.prototype.N=function(){Aa.$.N.call(this),Oa(this)},Aa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Pa.prototype.Ea=function(){this.g=!1},Pa.prototype.info=function(){};var Ma={},Fa=null;function Ua(){return Fa=Fa||new ha}function ja(e){bo.call(this,Ma.Ta,e)}function Va(e){const t=Ua();da(t,new ja(t))}function za(e,t){bo.call(this,Ma.STAT_EVENT,e),this.stat=t}function Ba(e){const t=Ua();da(t,new za(t,e))}function Wa(e,t){bo.call(this,Ma.Ua,e),this.size=t}function Ha(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return oo.setTimeout(function(){e()},t)}Ma.Ta="serverreachability",mo(ja,bo),Ma.STAT_EVENT="statevent",mo(za,bo),Ma.Ua="timingevent",mo(Wa,bo);var qa={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Ka={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Ga(){}function Qa(e){return e.h||(e.h=e.i())}function Ya(){}Ga.prototype.h=null;var Xa,$a={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ja(){bo.call(this,"d")}function Za(){bo.call(this,"c")}function es(){}function ts(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Aa(this),this.P=rs,e=Ro?125:void 0,this.V=new Sa(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new ns}function ns(){this.i=null,this.g="",this.h=!1}mo(Ja,bo),mo(Za,bo),mo(es,Ga),es.prototype.g=function(){return new XMLHttpRequest},es.prototype.i=function(){return{}},Xa=new es;var rs=45e3,is={},os={};function as(e,t,n){e.L=1,e.v=Ss(bs(t)),e.s=n,e.S=!0,ss(e,null)}function ss(e,t){e.G=Date.now(),hs(e),e.A=bs(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),Us(n.i,"t",r),e.C=0,n=e.l.J,e.h=new ns,e.g=Ul(e.l,n?t:null,!e.s),0<e.O&&(e.M=new Na(fo(e.Pa,e,e.g),e.O)),Da(e.U,e.g,"readystatechange",e.nb),t=e.I?Go(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),Va(),function(e,t,n,r,i,o){e.info(function(){if(e.g)if(o)for(var a="",s=o.split("&"),l=0;l<s.length;l++){var c=s[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");a=2<=h.length&&"type"==h[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a})}(e.j,e.u,e.A,e.m,e.W,e.s)}function ls(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function cs(e,t,n){let r,i=!0;for(;!e.J&&e.C<n.length;){if(r=us(e,n),r==os){4==t&&(e.o=4,Ba(14),i=!1),La(e.j,e.m,null,"[Incomplete Response]");break}if(r==is){e.o=4,Ba(15),La(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}La(e.j,e.m,r,null),gs(e,r)}ls(e)&&r!=os&&r!=is&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Ba(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Al(t),t.M=!0,Ba(11))):(La(e.j,e.m,n,"[Invalid Chunked Response]"),ms(e),ps(e))}function us(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?os:(n=Number(t.substring(n,r)),isNaN(n)?is:(r+=1)+n>t.length?os:(t=t.slice(r,r+n),e.C=r+n,t))}function hs(e){e.Y=Date.now()+e.P,ds(e,e.P)}function ds(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ha(fo(e.lb,e),t)}function fs(e){e.B&&(oo.clearTimeout(e.B),e.B=null)}function ps(e){0==e.l.H||e.J||Ol(e.l,e)}function ms(e){fs(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,Ca(e.V),Oa(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function gs(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||qs(n.i,e)))if(!e.K&&qs(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Dl(n),El(n)}Nl(n),Ba(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Ha(fo(n.ib,n),6e3));if(1>=Hs(n.i)&&n.oa){try{n.oa()}catch(c){}n.oa=void 0}}else Ll(n,11)}else if((e.K||n.g==e)&&Dl(n),!Eo(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const t=c[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=c[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.i;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(Ks(o,o.h),o.h=null))}if(r.F){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,_s(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var a=e;if((r=n).wa=Fl(r,r.J?r.pa:null,r.Y),a.K){Gs(r.i,a);var s=a,l=r.L;l&&s.setTimeout(l),s.B&&(fs(s),hs(s)),r.g=a}else Il(r);0<n.j.length&&_l(n)}else"stop"!=c[0]&&"close"!=c[0]||Ll(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Ll(n,7):kl(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}Va()}catch(c){}}function ys(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(ao(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(ao(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(ao(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(to=ts.prototype).setTimeout=function(e){this.P=e},to.nb=function(e){e=e.target;const t=this.M;t&&3==ml(e)?t.l():this.Pa(e)},to.Pa=function(e){try{if(e==this.g)e:{const u=ml(this.g);var t=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||Ro||this.g&&(this.h.h||this.g.ja()||gl(this.g)))){this.J||4!=u||7==t||Va(),fs(this);var n=this.g.da();this.ca=n;t:if(ls(this)){var r=gl(this.g);e="";var i=r.length,o=4==ml(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){ms(this),ps(this);var a="";break t}this.h.i=new oo.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:o&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,o,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a})}(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var s,l=this.g;if((s=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Eo(s)){var c=s;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,Ba(12),ms(this),ps(this);break e}La(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,gs(this,n)}this.S?(cs(this,u,a),Ro&&this.i&&3==u&&(Da(this.U,this.V,"tick",this.mb),this.V.start())):(La(this.j,this.m,a,null),gs(this,a)),4==u&&ms(this),this.i&&!this.J&&(4==u?Ol(this.l,this):(this.i=!1,hs(this)))}else(function(e){const t={};e=(e.g&&2<=ml(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(Eo(e[r]))continue;var n=va(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.o=3,Ba(12)):(this.o=0,Ba(13)),ms(this),ps(this)}}}catch(Xe){}},to.mb=function(){if(this.g){var e=ml(this.g),t=this.g.ja();this.C<t.length&&(fs(this),cs(this,e,t),this.i&&4!=e&&hs(this))}},to.cancel=function(){this.J=!0,ms(this)},to.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.L&&(Va(),Ba(17)),ms(this),this.o=2,ps(this)):ds(this,this.Y-e)};var vs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ws(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof ws){this.h=e.h,ks(this,e.j),this.s=e.s,this.g=e.g,Es(this,e.m),this.l=e.l;var t=e.i,n=new Ps;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Ts(this,n),this.o=e.o}else e&&(t=String(e).match(vs))?(this.h=!1,ks(this,t[1]||"",!0),this.s=Cs(t[2]||""),this.g=Cs(t[3]||"",!0),Es(this,t[4]),this.l=Cs(t[5]||"",!0),Ts(this,t[6]||"",!0),this.o=Cs(t[7]||"")):(this.h=!1,this.i=new Ps(null,this.h))}function bs(e){return new ws(e)}function ks(e,t,n){e.j=n?Cs(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Es(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Ts(e,t,n){t instanceof Ps?(e.i=t,function(e,t){t&&!e.j&&(Ls(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(Ms(this,t),Us(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=xs(t,Ds)),e.i=new Ps(t,e.h))}function _s(e,t,n){e.i.set(t,n)}function Ss(e){return _s(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Cs(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function xs(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Is),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Is(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ws.prototype.toString=function(){var e=[],t=this.j;t&&e.push(xs(t,Ns,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(xs(t,Ns,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(xs(n,"/"==n.charAt(0)?Rs:As,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",xs(n,Os)),e.join("")};var Ns=/[#\/\?@]/g,As=/[#\?:]/g,Rs=/[#\?]/g,Ds=/[#\?@]/g,Os=/#/g;function Ps(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Ls(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function Ms(e,t){Ls(e),t=js(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Fs(e,t){return Ls(e),t=js(e,t),e.g.has(t)}function Us(e,t,n){Ms(e,t),0<n.length&&(e.i=null,e.g.set(js(e,t),vo(n)),e.h+=n.length)}function js(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(to=Ps.prototype).add=function(e,t){Ls(this),this.i=null,e=js(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},to.forEach=function(e,t){Ls(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},to.ta=function(){Ls(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},to.Z=function(e){Ls(this);let t=[];if("string"===typeof e)Fs(this,e)&&(t=t.concat(this.g.get(js(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},to.set=function(e,t){return Ls(this),this.i=null,Fs(this,e=js(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},to.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},to.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var i=o;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")};var Vs=class{constructor(e,t){this.g=e,this.map=t}};function zs(e){this.l=e||Bs,oo.PerformanceNavigationTiming?e=0<(e=oo.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(oo.g&&oo.g.Ka&&oo.g.Ka()&&oo.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Bs=10;function Ws(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Hs(e){return e.h?1:e.g?e.g.size:0}function qs(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Ks(e,t){e.g?e.g.add(t):e.h=t}function Gs(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Qs(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return vo(e.i)}zs.prototype.cancel=function(){if(this.i=Qs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Ys=class{stringify(e){return oo.JSON.stringify(e,void 0)}parse(e){return oo.JSON.parse(e,void 0)}};function Xs(){this.g=new Ys}function $s(e,t,n){const r=n||"";try{ys(e,function(e,n){let i=e;so(e)&&(i=pa(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(ze){throw t.push(r+"type="+encodeURIComponent("_badmap")),ze}}function Js(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(Je){}}function Zs(e){this.l=e.fc||null,this.j=e.ob||!1}function el(e,t){ha.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=tl,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}mo(Zs,Ga),Zs.prototype.g=function(){return new el(this.l,this.j)},Zs.prototype.i=function(e){return function(){return e}}({}),mo(el,ha);var tl=0;function nl(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function rl(e){e.readyState=4,e.l=null,e.j=null,e.A=null,il(e)}function il(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(to=el.prototype).open=function(e,t){if(this.readyState!=tl)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,il(this)},to.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||oo).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},to.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,rl(this)),this.readyState=tl},to.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,il(this)),this.g&&(this.readyState=3,il(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof oo.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;nl(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},to.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?rl(this):il(this),3==this.readyState&&nl(this)}},to.Za=function(e){this.g&&(this.response=this.responseText=e,rl(this))},to.Ya=function(e){this.g&&(this.response=e,rl(this))},to.ka=function(){this.g&&rl(this)},to.setRequestHeader=function(e,t){this.v.append(e,t)},to.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},to.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(el.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var ol=oo.JSON.parse;function al(e){ha.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=sl,this.L=this.M=!1}mo(al,ha);var sl="",ll=/^https?$/i,cl=["POST","PUT"];function ul(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,hl(e),fl(e)}function hl(e){e.F||(e.F=!0,da(e,"complete"),da(e,"error"))}function dl(e){if(e.h&&"undefined"!=typeof io&&(!e.C[1]||4!=ml(e)||2!=e.da()))if(e.v&&4==ml(e))xa(e.La,0,e);else if(da(e,"readystatechange"),4==ml(e)){e.h=!1;try{const a=e.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===a){var i=String(e.I).match(vs)[1]||null;!i&&oo.self&&oo.self.location&&(i=oo.self.location.protocol.slice(0,-1)),r=!ll.test(i?i.toLowerCase():"")}n=r}if(n)da(e,"complete"),da(e,"success");else{e.m=6;try{var o=2<ml(e)?e.g.statusText:""}catch(qe){o=""}e.j=o+" ["+e.da()+"]",hl(e)}}finally{fl(e)}}}function fl(e,t){if(e.g){pl(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||da(e,"ready");try{n.onreadystatechange=r}catch(ze){}}}function pl(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(oo.clearTimeout(e.A),e.A=null)}function ml(e){return e.g?e.g.readyState:0}function gl(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case sl:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function yl(e){let t="";return Ko(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function vl(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=yl(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):_s(e,t,n))}function wl(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function bl(e){this.Ga=0,this.j=[],this.l=new Pa,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=wl("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=wl("baseRetryDelayMs",5e3,e),this.hb=wl("retryDelaySeedMs",1e4,e),this.eb=wl("forwardChannelMaxRetries",2,e),this.xa=wl("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new zs(e&&e.concurrentRequestLimit),this.Ja=new Xs,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function kl(e){if(Tl(e),3==e.H){var t=e.W++,n=bs(e.I);if(_s(n,"SID",e.K),_s(n,"RID",t),_s(n,"TYPE","terminate"),Cl(e,n),(t=new ts(e,e.l,t)).L=2,t.v=Ss(bs(n)),n=!1,oo.navigator&&oo.navigator.sendBeacon)try{n=oo.navigator.sendBeacon(t.v.toString(),"")}catch($e){}!n&&oo.Image&&((new Image).src=t.v,n=!0),n||(t.g=Ul(t.l,null),t.g.ha(t.v)),t.G=Date.now(),hs(t)}Ml(e)}function El(e){e.g&&(Al(e),e.g.cancel(),e.g=null)}function Tl(e){El(e),e.u&&(oo.clearTimeout(e.u),e.u=null),Dl(e),e.i.cancel(),e.m&&("number"===typeof e.m&&oo.clearTimeout(e.m),e.m=null)}function _l(e){if(!Ws(e.i)&&!e.m){e.m=!0;var t=e.Na;ba||Ta(),ka||(ba(),ka=!0),Ea.add(t,e),e.C=0}}function Sl(e,t){var n;n=t?t.m:e.W++;const r=bs(e.I);_s(r,"SID",e.K),_s(r,"RID",n),_s(r,"AID",e.V),Cl(e,r),e.o&&e.s&&vl(r,e.o,e.s),n=new ts(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=xl(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Ks(e.i,n),as(n,r,t)}function Cl(e,t){e.na&&Ko(e.na,function(e,n){_s(t,n,e)}),e.h&&ys({},function(e,n){_s(t,n,e)})}function xl(e,t,n){n=Math.min(e.j.length,n);var r=e.h?fo(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let a=0;a<n;a++){let n=i[a].g;const s=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),o=!1;else try{$s(s,e,"req"+n+"_")}catch(zt){r&&r(s)}}if(o){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function Il(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;ba||Ta(),ka||(ba(),ka=!0),Ea.add(t,e),e.A=0}}function Nl(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Ha(fo(e.Ma,e),Pl(e,e.A)),e.A++,!0)}function Al(e){null!=e.B&&(oo.clearTimeout(e.B),e.B=null)}function Rl(e){e.g=new ts(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=bs(e.wa);_s(t,"RID","rpc"),_s(t,"SID",e.K),_s(t,"AID",e.V),_s(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&_s(t,"TO",e.qa),_s(t,"TYPE","xmlhttp"),Cl(e,t),e.o&&e.s&&vl(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=Ss(bs(t)),n.s=null,n.S=!0,ss(n,e)}function Dl(e){null!=e.v&&(oo.clearTimeout(e.v),e.v=null)}function Ol(e,t){var n=null;if(e.g==t){Dl(e),Al(e),e.g=null;var r=2}else{if(!qs(e.i,t))return;n=t.F,Gs(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;da(r=Ua(),new Wa(r,n)),_l(e)}else Il(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(Hs(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=Ha(fo(e.Na,e,t),Pl(e,e.C)),e.C++,!0))}(e,t)||2==r&&Nl(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Ll(e,5);break;case 4:Ll(e,10);break;case 3:Ll(e,6);break;default:Ll(e,2)}}function Pl(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Ll(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=fo(e.pb,e);n||(n=new ws("//www.google.com/images/cleardot.gif"),oo.location&&"http"==oo.location.protocol||ks(n,"https"),Ss(n)),function(e,t){const n=new Pa;if(oo.Image){const r=new Image;r.onload=po(Js,n,r,"TestLoadImage: loaded",!0,t),r.onerror=po(Js,n,r,"TestLoadImage: error",!1,t),r.onabort=po(Js,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=po(Js,n,r,"TestLoadImage: timeout",!1,t),oo.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(n.toString(),r)}else Ba(2);e.H=0,e.h&&e.h.za(t),Ml(e),Tl(e)}function Ml(e){if(e.H=0,e.ma=[],e.h){const t=Qs(e.i);0==t.length&&0==e.j.length||(wo(e.ma,t),wo(e.ma,e.j),e.i.i.length=0,vo(e.j),e.j.length=0),e.h.ya()}}function Fl(e,t,n){var r=n instanceof ws?bs(n):new ws(n);if(""!=r.g)t&&(r.g=t+"."+r.g),Es(r,r.m);else{var i=oo.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var o=new ws(null);r&&ks(o,r),t&&(o.g=t),i&&Es(o,i),n&&(o.l=n),r=o}return n=e.F,t=e.Da,n&&t&&_s(r,n,t),_s(r,"VER",e.ra),Cl(e,r),r}function Ul(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new al(new Zs({ob:!0})):new al(e.va)).Oa(e.J),t}function jl(){}function Vl(){if(No&&!(10<=Number(jo)))throw Error("Environmental error: no available transport.")}function zl(e,t){ha.call(this),this.g=new bl(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Eo(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Eo(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Hl(this)}function Bl(e){Ja.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Wl(){Za.call(this),this.status=1}function Hl(e){this.g=e}function ql(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Kl(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],a=t+(o^n&(i^o))+r[0]+3614090360&4294967295;a=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(a<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((o=(t=n+((a=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=o+((a=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function Gl(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}(to=al.prototype).Oa=function(e){this.M=e},to.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Xa.g(),this.C=this.u?Qa(this.u):Qa(Xa),this.g.onreadystatechange=fo(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(Je){return void ul(this,Je)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),i=oo.FormData&&e instanceof oo.FormData,!(0<=yo(cl,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,a]of n)this.g.setRequestHeader(o,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{pl(this),0<this.B&&((this.L=function(e){return No&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=fo(this.ua,this)):this.A=xa(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(Je){ul(this,Je)}},to.ua=function(){"undefined"!=typeof io&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,da(this,"timeout"),this.abort(8))},to.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,da(this,"complete"),da(this,"abort"),fl(this))},to.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),fl(this,!0)),al.$.N.call(this)},to.La=function(){this.s||(this.G||this.v||this.l?dl(this):this.kb())},to.kb=function(){dl(this)},to.isActive=function(){return!!this.g},to.da=function(){try{return 2<ml(this)?this.g.status:-1}catch(He){return-1}},to.ja=function(){try{return this.g?this.g.responseText:""}catch(He){return""}},to.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ol(t)}},to.Ia=function(){return this.m},to.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(to=bl.prototype).ra=8,to.H=1,to.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new ts(this,this.l,e);let o=this.s;if(this.U&&(o?(o=Go(o),Yo(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=xl(this,i,t),_s(n=bs(this.I),"RID",e),_s(n,"CVER",22),this.F&&_s(n,"X-HTTP-Session-Id",this.F),Cl(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(yl(o)))+"&"+t:this.o&&vl(n,this.o,o)),Ks(this.i,i),this.bb&&_s(n,"TYPE","init"),this.P?(_s(n,"$req",t),_s(n,"SID","null"),i.aa=!0,as(i,n,null)):as(i,n,t),this.H=2}}else 3==this.H&&(e?Sl(this,e):0==this.j.length||Ws(this.i)||Sl(this))},to.Ma=function(){if(this.u=null,Rl(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Ha(fo(this.jb,this),e)}},to.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ba(10),El(this),Rl(this))},to.ib=function(){null!=this.v&&(this.v=null,El(this),Nl(this),Ba(19))},to.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Ba(2)):(this.l.info("Failed to ping google.com"),Ba(1))},to.isActive=function(){return!!this.h&&this.h.isActive(this)},(to=jl.prototype).Ba=function(){},to.Aa=function(){},to.za=function(){},to.ya=function(){},to.isActive=function(){return!0},to.Va=function(){},Vl.prototype.g=function(e,t){return new zl(e,t)},mo(zl,ha),zl.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Ba(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Fl(e,null,e.Y),_l(e)},zl.prototype.close=function(){kl(this.g)},zl.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=pa(e),e=n);t.j.push(new Vs(t.fb++,e)),3==t.H&&_l(t)},zl.prototype.N=function(){this.g.h=null,delete this.j,kl(this.g),delete this.g,zl.$.N.call(this)},mo(Bl,Ja),mo(Wl,Za),mo(Hl,jl),Hl.prototype.Ba=function(){da(this.g,"a")},Hl.prototype.Aa=function(e){da(this.g,new Bl(e))},Hl.prototype.za=function(e){da(this.g,new Wl)},Hl.prototype.ya=function(){da(this.g,"b")},mo(ql,function(){this.blockSize=-1}),ql.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},ql.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,o=0;o<t;){if(0==i)for(;o<=n;)Kl(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(r[i++]=e.charCodeAt(o++),i==this.blockSize){Kl(this,r),i=0;break}}else for(;o<t;)if(r[i++]=e[o++],i==this.blockSize){Kl(this,r),i=0;break}}this.h=i,this.i+=t},ql.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Ql={};function Yl(e){return-128<=e&&128>e?function(e,t){var n=Ql;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new Gl([0|e],0>e?-1:0)}):new Gl([0|e],0>e?-1:0)}function Xl(e){if(isNaN(e)||!isFinite(e))return Jl;if(0>e)return rc(Xl(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=$l;return new Gl(t,0)}var $l=4294967296,Jl=Yl(0),Zl=Yl(1),ec=Yl(16777216);function tc(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function nc(e){return-1==e.h}function rc(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Gl(n,~e.h).add(Zl)}function ic(e,t){return e.add(rc(t))}function oc(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function ac(e,t){this.g=e,this.h=t}function sc(e,t){if(tc(t))throw Error("division by zero");if(tc(e))return new ac(Jl,Jl);if(nc(e))return t=sc(rc(e),t),new ac(rc(t.g),rc(t.h));if(nc(t))return t=sc(e,rc(t)),new ac(rc(t.g),t.h);if(30<e.g.length){if(nc(e)||nc(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Zl,r=t;0>=r.X(e);)n=lc(n),r=lc(r);var i=cc(n,1),o=cc(r,1);for(r=cc(r,2),n=cc(n,2);!tc(r);){var a=o.add(r);0>=a.X(e)&&(i=i.add(n),o=a),r=cc(r,1),n=cc(n,1)}return t=ic(e,i.R(t)),new ac(i,t)}for(i=Jl;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),a=(o=Xl(n)).R(t);nc(a)||0<a.X(e);)a=(o=Xl(n-=r)).R(t);tc(o)&&(o=Zl),i=i.add(o),e=ic(e,a)}return new ac(i,e)}function lc(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Gl(n,e.h)}function cc(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],o=0;o<r;o++)i[o]=0<t?e.D(o+n)>>>t|e.D(o+n+1)<<32-t:e.D(o+n);return new Gl(i,e.h)}(to=Gl.prototype).ea=function(){if(nc(this))return-rc(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:$l+r)*t,t*=$l}return e},to.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(tc(this))return"0";if(nc(this))return"-"+rc(this).toString(e);for(var t=Xl(Math.pow(e,6)),n=this,r="";;){var i=sc(n,t).g,o=((0<(n=ic(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(tc(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},to.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},to.X=function(e){return nc(e=ic(this,e))?-1:tc(e)?0:1},to.abs=function(){return nc(this)?rc(this):this},to.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var o=r+(65535&this.D(i))+(65535&e.D(i)),a=(o>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=a>>>16,o&=65535,a&=65535,n[i]=a<<16|o}return new Gl(n,-2147483648&n[n.length-1]?-1:0)},to.R=function(e){if(tc(this)||tc(e))return Jl;if(nc(this))return nc(e)?rc(this).R(rc(e)):rc(rc(this).R(e));if(nc(e))return rc(this.R(rc(e)));if(0>this.X(ec)&&0>e.X(ec))return Xl(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var o=this.D(r)>>>16,a=65535&this.D(r),s=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=a*l,oc(n,2*r+2*i),n[2*r+2*i+1]+=o*l,oc(n,2*r+2*i+1),n[2*r+2*i+1]+=a*s,oc(n,2*r+2*i+1),n[2*r+2*i+2]+=o*s,oc(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Gl(n,0)},to.gb=function(e){return sc(this,e).h},to.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Gl(n,this.h&e.h)},to.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Gl(n,this.h|e.h)},to.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Gl(n,this.h^e.h)},Vl.prototype.createWebChannel=Vl.prototype.g,zl.prototype.send=zl.prototype.u,zl.prototype.open=zl.prototype.m,zl.prototype.close=zl.prototype.close,qa.NO_ERROR=0,qa.TIMEOUT=8,qa.HTTP_ERROR=6,Ka.COMPLETE="complete",Ya.EventType=$a,$a.OPEN="a",$a.CLOSE="b",$a.ERROR="c",$a.MESSAGE="d",ha.prototype.listen=ha.prototype.O,al.prototype.listenOnce=al.prototype.P,al.prototype.getLastError=al.prototype.Sa,al.prototype.getLastErrorCode=al.prototype.Ia,al.prototype.getStatus=al.prototype.da,al.prototype.getResponseJson=al.prototype.Wa,al.prototype.getResponseText=al.prototype.ja,al.prototype.send=al.prototype.ha,al.prototype.setWithCredentials=al.prototype.Oa,ql.prototype.digest=ql.prototype.l,ql.prototype.reset=ql.prototype.reset,ql.prototype.update=ql.prototype.j,Gl.prototype.add=Gl.prototype.add,Gl.prototype.multiply=Gl.prototype.R,Gl.prototype.modulo=Gl.prototype.gb,Gl.prototype.compare=Gl.prototype.X,Gl.prototype.toNumber=Gl.prototype.ea,Gl.prototype.toString=Gl.prototype.toString,Gl.prototype.getBits=Gl.prototype.D,Gl.fromNumber=Xl,Gl.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return rc(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Xl(Math.pow(n,8)),i=Jl,o=0;o<t.length;o+=8){var a=Math.min(8,t.length-o),s=parseInt(t.substring(o,o+a),n);8>a?(a=Xl(Math.pow(n,a)),i=i.R(a).add(Xl(s))):i=(i=i.R(r)).add(Xl(s))}return i};var uc=ro.createWebChannelTransport=function(){return new Vl},hc=ro.getStatEventTarget=function(){return Ua()},dc=ro.ErrorCode=qa,fc=ro.EventType=Ka,pc=ro.Event=Ma,mc=ro.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},gc=ro.FetchXmlHttpFactory=Zs,yc=ro.WebChannel=Ya,vc=ro.XhrIo=al,wc=ro.Md5=ql,bc=ro.Integer=Gl;const kc="@firebase/firestore";class Ec{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ec.UNAUTHENTICATED=new Ec(null),Ec.GOOGLE_CREDENTIALS=new Ec("google-credentials-uid"),Ec.FIRST_PARTY=new Ec("first-party-uid"),Ec.MOCK_USER=new Ec("mock-user");let Tc="9.23.0";const _c=new zr("@firebase/firestore");function Sc(){return _c.logLevel}function Cc(e){if(_c.logLevel<=Mr.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Nc);_c.debug("Firestore (".concat(Tc,"): ").concat(e),...i)}}function xc(e){if(_c.logLevel<=Mr.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Nc);_c.error("Firestore (".concat(Tc,"): ").concat(e),...i)}}function Ic(e){if(_c.logLevel<=Mr.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Nc);_c.warn("Firestore (".concat(Tc,"): ").concat(e),...i)}}function Nc(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Ac(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(Tc,") INTERNAL ASSERTION FAILED: ")+e;throw xc(t),new Error(t)}function Rc(e,t){e||Ac()}function Dc(e,t){return e}const Oc={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Pc extends br{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class Lc{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Mc{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class Fc{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ec.UNAUTHENTICATED))}shutdown(){}}class Uc{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class jc{constructor(e){this.t=e,this.currentUser=Ec.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Lc;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Lc,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},a=e=>{Cc("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(e=>a(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(Cc("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Lc)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(Cc("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Rc("string"==typeof t.accessToken),new Mc(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Rc(null===e||"string"==typeof e),new Ec(e)}}class Vc{constructor(e,t,n){this.h=e,this.l=t,this.m=n,this.type="FirstParty",this.user=Ec.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class zc{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new Vc(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Ec.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Bc{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Wc{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const n=e=>{null!=e.error&&Cc("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.T;return this.T=e.token,Cc("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{Cc("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.I.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.I.getImmediate({optional:!0});e?r(e):Cc("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(Rc("string"==typeof e.token),this.T=e.token,new Bc(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Hc(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class qc{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=Hc(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function Kc(e,t){return e<t?-1:e>t?1:0}function Gc(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}class Qc{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Pc(Oc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Pc(Oc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Pc(Oc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Pc(Oc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Qc.fromMillis(Date.now())}static fromDate(e){return Qc.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Qc(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Kc(this.nanoseconds,e.nanoseconds):Kc(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Yc{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Yc(e)}static min(){return new Yc(new Qc(0,0))}static max(){return new Yc(new Qc(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Xc{constructor(e,t,n){void 0===t?t=0:t>e.length&&Ac(),void 0===n?n=e.length-t:n>e.length-t&&Ac(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Xc.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Xc?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class $c extends Xc{construct(e,t,n){return new $c(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Pc(Oc.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter(e=>e.length>0))}return new $c(e)}static emptyPath(){return new $c([])}}const Jc=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zc extends Xc{construct(e,t,n){return new Zc(e,t,n)}static isValidIdentifier(e){return Jc.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zc.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Zc(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Pc(Oc.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Pc(Oc.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Pc(Oc.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new Pc(Oc.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zc(t)}static emptyPath(){return new Zc([])}}class eu{constructor(e){this.path=e}static fromPath(e){return new eu($c.fromString(e))}static fromName(e){return new eu($c.fromString(e).popFirst(5))}static empty(){return new eu($c.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===$c.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return $c.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new eu(new $c(e.slice()))}}class tu{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}tu.UNKNOWN_ID=-1;function nu(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Yc.fromTimestamp(1e9===r?new Qc(n+1,0):new Qc(n,r));return new iu(i,eu.empty(),t)}function ru(e){return new iu(e.readTime,e.key,-1)}class iu{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new iu(Yc.min(),eu.empty(),-1)}static max(){return new iu(Yc.max(),eu.empty(),-1)}}function ou(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=eu.comparator(e.documentKey,t.documentKey),0!==n?n:Kc(e.largestBatchId,t.largestBatchId))}const au="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class su{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function lu(e){if(e.code!==Oc.FAILED_PRECONDITION||e.message!==au)throw e;Cc("LocalStore","Unexpectedly lost primary lease")}class cu{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ac(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new cu((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof cu?t:cu.resolve(t)}catch(e){return cu.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):cu.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):cu.reject(t)}static resolve(e){return new cu((t,n)=>{t(e)})}static reject(e){return new cu((t,n)=>{n(e)})}static waitFor(e){return new cu((t,n)=>{let r=0,i=0,o=!1;e.forEach(e=>{++r,e.next(()=>{++i,o&&i===r&&t()},e=>n(e))}),o=!0,i===r&&t()})}static or(e){let t=cu.resolve(!1);for(const n of e)t=t.next(e=>e?cu.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new cu((n,r)=>{const i=e.length,o=new Array(i);let a=0;for(let s=0;s<i;s++){const l=s;t(e[l]).next(e=>{o[l]=e,++a,a===i&&n(o)},e=>r(e))}})}static doWhile(e,t){return new cu((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function uu(e){return"IndexedDbTransactionError"===e.name}class hu{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ot(e),this.ut=e=>t.writeSequenceNumber(e))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}function du(e){return null==e}function fu(e){return 0===e&&1/e==-1/0}function pu(e){return"number"==typeof e&&Number.isInteger(e)&&!fu(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}hu.ct=-1;const mu=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],gu=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],yu=gu;function vu(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function wu(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function bu(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class ku{constructor(e,t){this.comparator=e,this.root=t||Tu.EMPTY}insert(e,t){return new ku(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Tu.BLACK,null,null))}remove(e){return new ku(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Tu.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Eu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Eu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Eu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Eu(this.root,e,this.comparator,!0)}}class Eu{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Tu{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Tu.RED,this.left=null!=r?r:Tu.EMPTY,this.right=null!=i?i:Tu.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Tu(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Tu.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Tu.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Tu.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Tu.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ac();if(this.right.isRed())throw Ac();const e=this.left.check();if(e!==this.right.check())throw Ac();return e+(this.isRed()?0:1)}}Tu.EMPTY=null,Tu.RED=!0,Tu.BLACK=!1,Tu.EMPTY=new class{constructor(){this.size=0}get key(){throw Ac()}get value(){throw Ac()}get color(){throw Ac()}get left(){throw Ac()}get right(){throw Ac()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Tu(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class _u{constructor(e){this.comparator=e,this.data=new ku(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Su(this.data.getIterator())}getIteratorFrom(e){return new Su(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof _u))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new _u(this.comparator);return t.data=e,t}}class Su{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Cu{constructor(e){this.fields=e,e.sort(Zc.comparator)}static empty(){return new Cu([])}unionWith(e){let t=new _u(Zc.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Cu(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Gc(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class xu extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Iu{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new xu("Invalid base64 string: "+e):e}}(e);return new Iu(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Iu(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Kc(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Iu.EMPTY_BYTE_STRING=new Iu("");const Nu=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Au(e){if(Rc(!!e),"string"==typeof e){let t=0;const n=Nu.exec(e);if(Rc(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Ru(e.seconds),nanos:Ru(e.nanos)}}function Ru(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Du(e){return"string"==typeof e?Iu.fromBase64String(e):Iu.fromUint8Array(e)}function Ou(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Pu(e){const t=e.mapValue.fields.__previous_value__;return Ou(t)?Pu(t):t}function Lu(e){const t=Au(e.mapValue.fields.__local_write_time__.timestampValue);return new Qc(t.seconds,t.nanos)}class Mu{constructor(e,t,n,r,i,o,a,s,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=s,this.useFetchStreams=l}}class Fu{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Fu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Fu&&e.projectId===this.projectId&&e.database===this.database}}const Uu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ju(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ou(e)?4:Zu(e)?9007199254740991:10:Ac()}function Vu(e,t){if(e===t)return!0;const n=ju(e);if(n!==ju(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Lu(e).isEqual(Lu(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Au(e.timestampValue),r=Au(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Du(e.bytesValue).isEqual(Du(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Ru(e.geoPointValue.latitude)===Ru(t.geoPointValue.latitude)&&Ru(e.geoPointValue.longitude)===Ru(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Ru(e.integerValue)===Ru(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Ru(e.doubleValue),r=Ru(t.doubleValue);return n===r?fu(n)===fu(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Gc(e.arrayValue.values||[],t.arrayValue.values||[],Vu);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(vu(n)!==vu(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Vu(n[i],r[i])))return!1;return!0}(e,t);default:return Ac()}}function zu(e,t){return void 0!==(e.values||[]).find(e=>Vu(e,t))}function Bu(e,t){if(e===t)return 0;const n=ju(e),r=ju(t);if(n!==r)return Kc(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Kc(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Ru(e.integerValue||e.doubleValue),r=Ru(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Wu(e.timestampValue,t.timestampValue);case 4:return Wu(Lu(e),Lu(t));case 5:return Kc(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Du(e),r=Du(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Kc(n[i],r[i]);if(0!==e)return e}return Kc(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Kc(Ru(e.latitude),Ru(t.latitude));return 0!==n?n:Kc(Ru(e.longitude),Ru(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Bu(n[i],r[i]);if(e)return e}return Kc(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Uu.mapValue&&t===Uu.mapValue)return 0;if(e===Uu.mapValue)return 1;if(t===Uu.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let a=0;a<r.length&&a<o.length;++a){const e=Kc(r[a],o[a]);if(0!==e)return e;const t=Bu(n[r[a]],i[o[a]]);if(0!==t)return t}return Kc(r.length,o.length)}(e.mapValue,t.mapValue);default:throw Ac()}}function Wu(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Kc(e,t);const n=Au(e),r=Au(t),i=Kc(n.seconds,r.seconds);return 0!==i?i:Kc(n.nanos,r.nanos)}function Hu(e){return qu(e)}function qu(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Au(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Du(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,eu.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=qu(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(qu(e.fields[i]));return n+"}"}(e.mapValue):Ac();var t,n}function Ku(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Gu(e){return!!e&&"integerValue"in e}function Qu(e){return!!e&&"arrayValue"in e}function Yu(e){return!!e&&"nullValue"in e}function Xu(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function $u(e){return!!e&&"mapValue"in e}function Ju(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return wu(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=Ju(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Ju(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Zu(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class eh{constructor(e){this.value=e}static empty(){return new eh({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!$u(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ju(t)}setAll(e){let t=Zc.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Ju(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());$u(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Vu(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];$u(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){wu(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new eh(Ju(this.value))}}function th(e){const t=[];return wu(e.fields,(e,n)=>{const r=new Zc([e]);if($u(n)){const e=th(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new Cu(t)}class nh{constructor(e,t,n,r,i,o,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new nh(e,0,Yc.min(),Yc.min(),Yc.min(),eh.empty(),0)}static newFoundDocument(e,t,n,r){return new nh(e,1,t,Yc.min(),n,r,0)}static newNoDocument(e,t){return new nh(e,2,t,Yc.min(),Yc.min(),eh.empty(),0)}static newUnknownDocument(e,t){return new nh(e,3,t,Yc.min(),Yc.min(),eh.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Yc.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=eh.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=eh.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Yc.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof nh&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nh(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class rh{constructor(e,t){this.position=e,this.inclusive=t}}function ih(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],a=e.position[i];if(r=o.field.isKeyField()?eu.comparator(eu.fromName(a.referenceValue),n.key):Bu(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function oh(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Vu(e.position[n],t.position[n]))return!1;return!0}class ah{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function sh(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class lh{}class ch extends lh{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new yh(e,t,n):"array-contains"===t?new kh(e,n):"in"===t?new Eh(e,n):"not-in"===t?new Th(e,n):"array-contains-any"===t?new _h(e,n):new ch(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new vh(e,n):new wh(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Bu(t,this.value)):null!==t&&ju(this.value)===ju(t)&&this.matchesComparison(Bu(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ac()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class uh extends lh{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new uh(e,t)}matches(e){return hh(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(e=>e.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function hh(e){return"and"===e.op}function dh(e){return fh(e)&&hh(e)}function fh(e){for(const t of e.filters)if(t instanceof uh)return!1;return!0}function ph(e){if(e instanceof ch)return e.field.canonicalString()+e.op.toString()+Hu(e.value);if(dh(e))return e.filters.map(e=>ph(e)).join(",");{const t=e.filters.map(e=>ph(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function mh(e,t){return e instanceof ch?function(e,t){return t instanceof ch&&e.op===t.op&&e.field.isEqual(t.field)&&Vu(e.value,t.value)}(e,t):e instanceof uh?function(e,t){return t instanceof uh&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&mh(n,t.filters[r]),!0)}(e,t):void Ac()}function gh(e){return e instanceof ch?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Hu(e.value))}(e):e instanceof uh?function(e){return e.op.toString()+" {"+e.getFilters().map(gh).join(" ,")+"}"}(e):"Filter"}class yh extends ch{constructor(e,t,n){super(e,t,n),this.key=eu.fromName(n.referenceValue)}matches(e){const t=eu.comparator(e.key,this.key);return this.matchesComparison(t)}}class vh extends ch{constructor(e,t){super(e,"in",t),this.keys=bh("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class wh extends ch{constructor(e,t){super(e,"not-in",t),this.keys=bh("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function bh(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>eu.fromName(e.referenceValue))}class kh extends ch{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Qu(t)&&zu(t.arrayValue,this.value)}}class Eh extends ch{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&zu(this.value.arrayValue,t)}}class Th extends ch{constructor(e,t){super(e,"not-in",t)}matches(e){if(zu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!zu(this.value.arrayValue,t)}}class _h extends ch{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Qu(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>zu(this.value.arrayValue,e))}}class Sh{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.dt=null}}function Ch(e){return new Sh(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function xh(e){const t=Dc(e);if(null===t.dt){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>ph(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),du(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>Hu(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>Hu(e)).join(",")),t.dt=e}return t.dt}function Ih(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!sh(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!mh(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!oh(e.startAt,t.startAt)&&oh(e.endAt,t.endAt)}function Nh(e){return eu.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Ah{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.wt=null,this._t=null,this.startAt,this.endAt}}function Rh(e,t,n,r,i,o,a,s){return new Ah(e,t,n,r,i,o,a,s)}function Dh(e){return new Ah(e)}function Oh(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Ph(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Lh(e){for(const t of e.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function Mh(e){return null!==e.collectionGroup}function Fh(e){const t=Dc(e);if(null===t.wt){t.wt=[];const e=Lh(t),n=Ph(t);if(null!==e&&null===n)e.isKeyField()||t.wt.push(new ah(e)),t.wt.push(new ah(Zc.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.wt.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new ah(Zc.keyField(),e))}}}return t.wt}function Uh(e){const t=Dc(e);if(!t._t)if("F"===t.limitType)t._t=Ch(t.path,t.collectionGroup,Fh(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const i of Fh(t)){const t="desc"===i.dir?"asc":"desc";e.push(new ah(i.field,t))}const n=t.endAt?new rh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new rh(t.startAt.position,t.startAt.inclusive):null;t._t=Ch(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t._t}function jh(e,t){t.getFirstInequalityField(),Lh(e);const n=e.filters.concat([t]);return new Ah(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Vh(e,t,n){return new Ah(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function zh(e,t){return Ih(Uh(e),Uh(t))&&e.limitType===t.limitType}function Bh(e){return"".concat(xh(Uh(e)),"|lt:").concat(e.limitType)}function Wh(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>gh(e)).join(", "),"]")),du(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>Hu(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>Hu(e)).join(",")),"Target(".concat(t,")")}(Uh(e)),"; limitType=").concat(e.limitType,")")}function Hh(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):eu.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Fh(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=ih(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Fh(e),t))&&!(e.endAt&&!function(e,t,n){const r=ih(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Fh(e),t))}(e,t)}function qh(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Kh(e){return(t,n)=>{let r=!1;for(const i of Fh(e)){const e=Gh(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Gh(e,t,n){const r=e.field.isKeyField()?eu.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Bu(r,i):Ac()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Ac()}}class Qh{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){wu(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return bu(this.inner)}size(){return this.innerSize}}const Yh=new ku(eu.comparator);function Xh(){return Yh}const $h=new ku(eu.comparator);function Jh(){let e=$h;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Zh(e){let t=$h;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function ed(){return nd()}function td(){return nd()}function nd(){return new Qh(e=>e.toString(),(e,t)=>e.isEqual(t))}const rd=new ku(eu.comparator),id=new _u(eu.comparator);function od(){let e=id;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const ad=new _u(Kc);function sd(){return ad}function ld(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fu(t)?"-0":t}}function cd(e){return{integerValue:""+e}}function ud(e,t){return pu(t)?cd(t):ld(e,t)}class hd{constructor(){this._=void 0}}function dd(e,t,n){return e instanceof md?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Ou(t)&&(t=Pu(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof gd?yd(e,t):e instanceof vd?wd(e,t):function(e,t){const n=pd(e,t),r=kd(n)+kd(e.gt);return Gu(n)&&Gu(e.gt)?cd(r):ld(e.serializer,r)}(e,t)}function fd(e,t,n){return e instanceof gd?yd(e,t):e instanceof vd?wd(e,t):n}function pd(e,t){return e instanceof bd?Gu(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class md extends hd{}class gd extends hd{constructor(e){super(),this.elements=e}}function yd(e,t){const n=Ed(t);for(const r of e.elements)n.some(e=>Vu(e,r))||n.push(r);return{arrayValue:{values:n}}}class vd extends hd{constructor(e){super(),this.elements=e}}function wd(e,t){let n=Ed(t);for(const r of e.elements)n=n.filter(e=>!Vu(e,r));return{arrayValue:{values:n}}}class bd extends hd{constructor(e,t){super(),this.serializer=e,this.gt=t}}function kd(e){return Ru(e.integerValue||e.doubleValue)}function Ed(e){return Qu(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Td{constructor(e,t){this.field=e,this.transform=t}}class _d{constructor(e,t){this.version=e,this.transformResults=t}}class Sd{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Sd}static exists(e){return new Sd(void 0,e)}static updateTime(e){return new Sd(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Cd(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class xd{}function Id(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Ud(e.key,Sd.none()):new Od(e.key,e.data,Sd.none());{const n=e.data,r=eh.empty();let i=new _u(Zc.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Pd(e.key,r,new Cu(i.toArray()),Sd.none())}}function Nd(e,t,n){e instanceof Od?function(e,t,n){const r=e.value.clone(),i=Md(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Pd?function(e,t,n){if(!Cd(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Md(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Ld(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Ad(e,t,n,r){return e instanceof Od?function(e,t,n,r){if(!Cd(e.precondition,t))return n;const i=e.value.clone(),o=Fd(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Pd?function(e,t,n,r){if(!Cd(e.precondition,t))return n;const i=Fd(e.fieldTransforms,r,t),o=t.data;return o.setAll(Ld(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return Cd(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Rd(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=pd(r.transform,e||null);null!=i&&(null===n&&(n=eh.empty()),n.set(r.field,i))}return n||null}function Dd(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Gc(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof gd&&t instanceof gd||e instanceof vd&&t instanceof vd?Gc(e.elements,t.elements,Vu):e instanceof bd&&t instanceof bd?Vu(e.gt,t.gt):e instanceof md&&t instanceof md}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Od extends xd{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Pd extends xd{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Ld(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Md(e,t,n){const r=new Map;Rc(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,fd(a,s,n[i]))}return r}function Fd(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,dd(e,o,t))}return r}class Ud extends xd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jd extends xd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Vd{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Nd(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Ad(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Ad(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=td();return this.mutations.forEach(r=>{const i=e.get(r.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=t.has(r.key)?null:a;const s=Id(o,a);null!==s&&n.set(r.key,s),o.isValidDocument()||o.convertToNoDocument(Yc.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),od())}isEqual(e){return this.batchId===e.batchId&&Gc(this.mutations,e.mutations,(e,t)=>Dd(e,t))&&Gc(this.baseMutations,e.baseMutations,(e,t)=>Dd(e,t))}}class zd{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Rc(e.mutations.length===n.length);let r=rd;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new zd(e,t,n,r)}}class Bd{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Wd{constructor(e,t){this.count=e,this.unchangedNames=t}}var Hd,qd;function Kd(e){switch(e){default:return Ac();case Oc.CANCELLED:case Oc.UNKNOWN:case Oc.DEADLINE_EXCEEDED:case Oc.RESOURCE_EXHAUSTED:case Oc.INTERNAL:case Oc.UNAVAILABLE:case Oc.UNAUTHENTICATED:return!1;case Oc.INVALID_ARGUMENT:case Oc.NOT_FOUND:case Oc.ALREADY_EXISTS:case Oc.PERMISSION_DENIED:case Oc.FAILED_PRECONDITION:case Oc.ABORTED:case Oc.OUT_OF_RANGE:case Oc.UNIMPLEMENTED:case Oc.DATA_LOSS:return!0}}function Gd(e){if(void 0===e)return xc("GRPC error has no .code"),Oc.UNKNOWN;switch(e){case Hd.OK:return Oc.OK;case Hd.CANCELLED:return Oc.CANCELLED;case Hd.UNKNOWN:return Oc.UNKNOWN;case Hd.DEADLINE_EXCEEDED:return Oc.DEADLINE_EXCEEDED;case Hd.RESOURCE_EXHAUSTED:return Oc.RESOURCE_EXHAUSTED;case Hd.INTERNAL:return Oc.INTERNAL;case Hd.UNAVAILABLE:return Oc.UNAVAILABLE;case Hd.UNAUTHENTICATED:return Oc.UNAUTHENTICATED;case Hd.INVALID_ARGUMENT:return Oc.INVALID_ARGUMENT;case Hd.NOT_FOUND:return Oc.NOT_FOUND;case Hd.ALREADY_EXISTS:return Oc.ALREADY_EXISTS;case Hd.PERMISSION_DENIED:return Oc.PERMISSION_DENIED;case Hd.FAILED_PRECONDITION:return Oc.FAILED_PRECONDITION;case Hd.ABORTED:return Oc.ABORTED;case Hd.OUT_OF_RANGE:return Oc.OUT_OF_RANGE;case Hd.UNIMPLEMENTED:return Oc.UNIMPLEMENTED;case Hd.DATA_LOSS:return Oc.DATA_LOSS;default:return Ac()}}(qd=Hd||(Hd={}))[qd.OK=0]="OK",qd[qd.CANCELLED=1]="CANCELLED",qd[qd.UNKNOWN=2]="UNKNOWN",qd[qd.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qd[qd.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qd[qd.NOT_FOUND=5]="NOT_FOUND",qd[qd.ALREADY_EXISTS=6]="ALREADY_EXISTS",qd[qd.PERMISSION_DENIED=7]="PERMISSION_DENIED",qd[qd.UNAUTHENTICATED=16]="UNAUTHENTICATED",qd[qd.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qd[qd.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qd[qd.ABORTED=10]="ABORTED",qd[qd.OUT_OF_RANGE=11]="OUT_OF_RANGE",qd[qd.UNIMPLEMENTED=12]="UNIMPLEMENTED",qd[qd.INTERNAL=13]="INTERNAL",qd[qd.UNAVAILABLE=14]="UNAVAILABLE",qd[qd.DATA_LOSS=15]="DATA_LOSS";class Qd{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Yd}static getOrCreateInstance(){return null===Yd&&(Yd=new Qd),Yd}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Yd=null;function Xd(){return new TextEncoder}const $d=new bc([4294967295,4294967295],0);function Jd(e){const t=Xd().encode(e),n=new wc;return n.update(t),new Uint8Array(n.digest())}function Zd(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new bc([n,r],0),new bc([i,o],0)]}class ef{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new tf("Invalid padding: ".concat(t));if(n<0)throw new tf("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new tf("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new tf("Invalid padding when bitmap length is 0: ".concat(t));this.It=8*e.length-t,this.Tt=bc.fromNumber(this.It)}Et(e,t,n){let r=e.add(t.multiply(bc.fromNumber(n)));return 1===r.compare($d)&&(r=new bc([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=Jd(e),[n,r]=Zd(t);for(let i=0;i<this.hashCount;i++){const e=this.Et(n,r,i);if(!this.At(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new ef(i,r,t);return n.forEach(e=>o.insert(e)),o}insert(e){if(0===this.It)return;const t=Jd(e),[n,r]=Zd(t);for(let i=0;i<this.hashCount;i++){const e=this.Et(n,r,i);this.Rt(e)}}Rt(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class tf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class nf{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,rf.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new nf(Yc.min(),r,new ku(Kc),Xh(),od())}}class rf{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new rf(n,t,od(),od(),od())}}class of{constructor(e,t,n,r){this.Pt=e,this.removedTargetIds=t,this.key=n,this.bt=r}}class af{constructor(e,t){this.targetId=e,this.Vt=t}}class sf{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Iu.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class lf{constructor(){this.St=0,this.Dt=hf(),this.Ct=Iu.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=od(),t=od(),n=od();return this.Dt.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Ac()}}),new rf(this.Ct,this.xt,e,t,n)}Ft(){this.Nt=!1,this.Dt=hf()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class cf{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Xh(),this.zt=uf(),this.Wt=new ku(Kc)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const n=this.Zt(t);switch(e.state){case 0:this.te(t)&&n.$t(e.resumeToken);break;case 1:n.Ut(),n.kt||n.Ft(),n.$t(e.resumeToken);break;case 2:n.Ut(),n.kt||this.removeTarget(t);break;case 3:this.te(t)&&(n.Kt(),n.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),n.$t(e.resumeToken));break;default:Ac()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((e,n)=>{this.te(n)&&t(n)})}ne(e){var t;const n=e.targetId,r=e.Vt.count,i=this.se(n);if(i){const o=i.target;if(Nh(o))if(0===r){const e=new eu(o.path);this.Yt(n,e,nh.newNoDocument(e,Yc.min()))}else Rc(1===r);else{const i=this.ie(n);if(i!==r){const r=this.re(e,i);if(0!==r){this.ee(n);const e=2===r?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(n,e)}null===(t=Qd.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var r,i,o,a,s,l;const c={localCacheCount:t,existenceFilterCount:n.count},u=n.unchangedNames;return u&&(c.bloomFilter={applied:0===e,hashCount:null!==(r=null==u?void 0:u.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(a=null===(o=null===(i=null==u?void 0:u.bits)||void 0===i?void 0:i.bitmap)||void 0===o?void 0:o.length)&&void 0!==a?a:0,padding:null!==(l=null===(s=null==u?void 0:u.bits)||void 0===s?void 0:s.padding)&&void 0!==l?l:0}),c}(r,i,e.Vt))}}}}re(e,t){const{unchangedNames:n,count:r}=e.Vt;if(!n||!n.bits)return 1;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=n;let s,l;try{s=Du(i).toUint8Array()}catch(e){if(e instanceof xu)return Ic("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{l=new ef(s,o,a)}catch(e){return Ic(e instanceof tf?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===l.It?1:r!==t-this.oe(e.targetId,l)?2:0}oe(e,t){const n=this.Gt.getRemoteKeysForTarget(e);let r=0;return n.forEach(n=>{const i=this.Gt.ue(),o="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());t.vt(o)||(this.Yt(e,n,null),r++)}),r}ce(e){const t=new Map;this.Qt.forEach((n,r)=>{const i=this.se(r);if(i){if(n.current&&Nh(i.target)){const t=new eu(i.target.path);null!==this.jt.get(t)||this.ae(r,t)||this.Yt(r,t,nh.newNoDocument(t,e))}n.Mt&&(t.set(r,n.Ot()),n.Ft())}});let n=od();this.zt.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.se(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.jt.forEach((t,n)=>n.setReadTime(e));const r=new nf(e,t,this.Wt,this.jt,n);return this.jt=Xh(),this.zt=uf(),this.Wt=new ku(Kc),r}Jt(e,t){if(!this.te(e))return;const n=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,n),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,n){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),n&&(this.jt=this.jt.insert(t,n))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new lf,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new _u(Kc),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Cc("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new lf),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function uf(){return new ku(eu.comparator)}function hf(){return new ku(eu.comparator)}const df={asc:"ASCENDING",desc:"DESCENDING"},ff={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pf={and:"AND",or:"OR"};class mf{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function gf(e,t){return e.useProto3Json||du(t)?t:{value:t}}function yf(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function vf(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function wf(e,t){return yf(e,t.toTimestamp())}function bf(e){return Rc(!!e),Yc.fromTimestamp(function(e){const t=Au(e);return new Qc(t.seconds,t.nanos)}(e))}function kf(e,t){return function(e){return new $c(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Ef(e){const t=$c.fromString(e);return Rc(Bf(t)),t}function Tf(e,t){return kf(e.databaseId,t.path)}function _f(e,t){const n=Ef(t);if(n.get(1)!==e.databaseId.projectId)throw new Pc(Oc.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Pc(Oc.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new eu(If(n))}function Sf(e,t){return kf(e.databaseId,t)}function Cf(e){const t=Ef(e);return 4===t.length?$c.emptyPath():If(t)}function xf(e){return new $c(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function If(e){return Rc(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Nf(e,t,n){return{name:Tf(e,t),fields:n.value.mapValue.fields}}function Af(e,t){let n;if(t instanceof Od)n={update:Nf(e,t.key,t.value)};else if(t instanceof Ud)n={delete:Tf(e,t.key)};else if(t instanceof Pd)n={update:Nf(e,t.key,t.data),updateMask:zf(t.fieldMask)};else{if(!(t instanceof jd))return Ac();n={verify:Tf(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof md)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof gd)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof vd)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof bd)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw Ac()}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:wf(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Ac()}(e,t.precondition)),n}function Rf(e,t){return{documents:[Sf(e,t.path)]}}function Df(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Sf(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Sf(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0!==e.length)return Vf(uh.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const o=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:Uf(e.field),direction:Lf(e.dir)}}(e))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=gf(e,t.limit);var s;return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt={before:(s=t.startAt).inclusive,values:s.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Of(e){let t=Cf(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Rc(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=Pf(e);return t instanceof uh&&dh(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=n.orderBy.map(e=>function(e){return new ah(jf(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)));let s=null;n.limit&&(s=function(e){let t;return t="object"==typeof e?e.value:e,du(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new rh(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new rh(n,t)}(n.endAt)),Rh(t,i,a,o,s,"F",l,c)}function Pf(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=jf(e.unaryFilter.field);return ch.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=jf(e.unaryFilter.field);return ch.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=jf(e.unaryFilter.field);return ch.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=jf(e.unaryFilter.field);return ch.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Ac()}}(e):void 0!==e.fieldFilter?function(e){return ch.create(jf(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ac()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return uh.create(e.compositeFilter.filters.map(e=>Pf(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Ac()}}(e.compositeFilter.op))}(e):Ac()}function Lf(e){return df[e]}function Mf(e){return ff[e]}function Ff(e){return pf[e]}function Uf(e){return{fieldPath:e.canonicalString()}}function jf(e){return Zc.fromServerFormat(e.fieldPath)}function Vf(e){return e instanceof ch?function(e){if("=="===e.op){if(Xu(e.value))return{unaryFilter:{field:Uf(e.field),op:"IS_NAN"}};if(Yu(e.value))return{unaryFilter:{field:Uf(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Xu(e.value))return{unaryFilter:{field:Uf(e.field),op:"IS_NOT_NAN"}};if(Yu(e.value))return{unaryFilter:{field:Uf(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Uf(e.field),op:Mf(e.op),value:e.value}}}(e):e instanceof uh?function(e){const t=e.getFilters().map(e=>Vf(e));return 1===t.length?t[0]:{compositeFilter:{op:Ff(e.op),filters:t}}}(e):Ac()}function zf(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Bf(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Wf{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Yc.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Yc.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Iu.EMPTY_BYTE_STRING,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=s}withSequenceNumber(e){return new Wf(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Wf(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Wf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Wf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Hf{constructor(e){this.fe=e}}function qf(e){const t=Of({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Vh(t,t.limit,"L"):t}class Kf{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Ru(e.integerValue));else if("doubleValue"in e){const n=Ru(e.doubleValue);isNaN(n)?this.ye(t,13):(this.ye(t,15),fu(n)?t.pe(0):t.pe(n))}else if("timestampValue"in e){const n=e.timestampValue;this.ye(t,20),"string"==typeof n?t.Ie(n):(t.Ie("".concat(n.seconds||"")),t.pe(n.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Du(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ye(t,45),t.pe(n.latitude||0),t.pe(n.longitude||0)}else"mapValue"in e?Zu(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):Ac()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const n=e.fields||{};this.ye(t,55);for(const r of Object.keys(n))this.Te(r,t),this.me(n[r],t)}Pe(e,t){const n=e.values||[];this.ye(t,50);for(const r of n)this.me(r,t)}ve(e,t){this.ye(t,37),eu.fromName(e).path.forEach(e=>{this.ye(t,60),this.be(e,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}Kf.Ve=new Kf;class Gf{constructor(){this.rn=new Qf}addToCollectionParentIndex(e,t){return this.rn.add(t),cu.resolve()}getCollectionParents(e,t){return cu.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return cu.resolve()}deleteFieldIndex(e,t){return cu.resolve()}getDocumentsMatchingTarget(e,t){return cu.resolve(null)}getIndexType(e,t){return cu.resolve(0)}getFieldIndexes(e,t){return cu.resolve([])}getNextCollectionGroupToUpdate(e){return cu.resolve(null)}getMinOffset(e,t){return cu.resolve(iu.min())}getMinOffsetFromCollectionGroup(e,t){return cu.resolve(iu.min())}updateCollectionGroup(e,t,n){return cu.resolve()}updateIndexEntries(e,t){return cu.resolve()}}class Qf{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new _u($c.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new _u($c.comparator)).toArray()}}new Uint8Array(0);class Yf{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Yf(e,Yf.DEFAULT_COLLECTION_PERCENTILE,Yf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Yf.DEFAULT_COLLECTION_PERCENTILE=10,Yf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yf.DEFAULT=new Yf(41943040,Yf.DEFAULT_COLLECTION_PERCENTILE,Yf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yf.DISABLED=new Yf(-1,0,0);class Xf{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Xf(0)}static Mn(){return new Xf(-1)}}class $f{constructor(){this.changes=new Qh(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,nh.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?cu.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Jf{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Zf{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&Ad(n.mutation,e,Cu.empty(),Qc.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,od()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:od();const r=ed();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=Jh();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=ed();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,od()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=Xh();const o=nd(),a=nd();return t.forEach((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof Pd)?i=i.insert(t.key,t):void 0!==a?(o.set(t.key,a.mutation.getFieldMask()),Ad(a.mutation,t,a.mutation.getFieldMask(),Qc.now())):o.set(t.key,Cu.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>o.set(e,t)),t.forEach((e,t)=>{var n;return a.set(e,new Jf(t,null!==(n=o.get(e))&&void 0!==n?n:null))}),a))}recalculateAndSaveOverlays(e,t){const n=nd();let r=new ku((e,t)=>e-t),i=od();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const o=t.get(e);if(null===o)return;let a=n.get(e)||Cu.empty();a=i.applyToLocalView(o,a),n.set(e,a);const s=(r.get(i.batchId)||od()).add(e);r=r.insert(i.batchId,s)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),s=r.key,l=r.value,c=td();l.forEach(e=>{if(!i.has(e)){const r=Id(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}}),o.push(this.documentOverlayCache.saveOverlays(e,s,c))}return cu.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n){return function(e){return eu.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Mh(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):cu.resolve(ed());let a=-1,s=i;return o.next(t=>cu.forEach(t,(t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?cu.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{s=s.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,s,t,od())).next(e=>({batchId:a,changes:Zh(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new eu(t)).next(e=>{let t=Jh();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n){const r=t.collectionGroup;let i=Jh();return this.indexManager.getCollectionParents(e,r).next(o=>cu.forEach(o,o=>{const a=function(e,t){return new Ah(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(r));return this.getDocumentsMatchingCollectionQuery(e,a,n).next(e=>{e.forEach((e,t)=>{i=i.insert(e,t)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,t,n){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(i=>(r=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r))).next(e=>{r.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,nh.newInvalidDocument(r)))});let n=Jh();return e.forEach((e,i)=>{const o=r.get(e);void 0!==o&&Ad(o.mutation,i,Cu.empty(),Qc.now()),Hh(t,i)&&(n=n.insert(e,i))}),n})}}class ep{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return cu.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var n;return this.cs.set(t.id,{id:(n=t).id,version:n.version,createTime:bf(n.createTime)}),cu.resolve()}getNamedQuery(e,t){return cu.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,function(e){return{name:e.name,query:qf(e.bundledQuery),readTime:bf(e.readTime)}}(t)),cu.resolve()}}class tp{constructor(){this.overlays=new ku(eu.comparator),this.ls=new Map}getOverlay(e,t){return cu.resolve(this.overlays.get(t))}getOverlays(e,t){const n=ed();return cu.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.we(e,t,r)}),cu.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.ls.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.ls.delete(n)),cu.resolve()}getOverlaysForCollection(e,t,n){const r=ed(),i=t.length+1,o=new eu(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const e=a.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return cu.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new ku((e,t)=>e-t);const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=ed(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=ed(),s=i.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach((e,t)=>a.set(e,t)),!(a.size()>=r)););return cu.resolve(a)}we(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.ls.get(r.largestBatchId).delete(n.key);this.ls.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Bd(t,n));let i=this.ls.get(t);void 0===i&&(i=od(),this.ls.set(t,i)),this.ls.set(t,i.add(n.key))}}class np{constructor(){this.fs=new _u(rp.ds),this.ws=new _u(rp._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const n=new rp(e,t);this.fs=this.fs.add(n),this.ws=this.ws.add(n)}gs(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.ys(new rp(e,t))}ps(e,t){e.forEach(e=>this.removeReference(e,t))}Is(e){const t=new eu(new $c([])),n=new rp(t,e),r=new rp(t,e+1),i=[];return this.ws.forEachInRange([n,r],e=>{this.ys(e),i.push(e.key)}),i}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new eu(new $c([])),n=new rp(t,e),r=new rp(t,e+1);let i=od();return this.ws.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new rp(e,0),n=this.fs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class rp{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return eu.comparator(e.key,t.key)||Kc(e.As,t.As)}static _s(e,t){return Kc(e.As,t.As)||eu.comparator(e.key,t.key)}}class ip{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new _u(rp.ds)}checkEmpty(e){return cu.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Vd(i,t,n,r);this.mutationQueue.push(o);for(const a of r)this.Rs=this.Rs.add(new rp(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return cu.resolve(o)}lookupMutationBatch(e,t){return cu.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.bs(n),i=r<0?0:r;return cu.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return cu.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return cu.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new rp(t,0),r=new rp(t,Number.POSITIVE_INFINITY),i=[];return this.Rs.forEachInRange([n,r],e=>{const t=this.Ps(e.As);i.push(t)}),cu.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new _u(Kc);return t.forEach(e=>{const t=new rp(e,0),r=new rp(e,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([t,r],e=>{n=n.add(e.As)})}),cu.resolve(this.Vs(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;eu.isDocumentKey(i)||(i=i.child(""));const o=new rp(new eu(i),0);let a=new _u(Kc);return this.Rs.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.As)),!0)},o),cu.resolve(this.Vs(a))}Vs(e){const t=[];return e.forEach(e=>{const n=this.Ps(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){Rc(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let n=this.Rs;return cu.forEach(t.mutations,r=>{const i=new rp(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Rs=n})}Cn(e){}containsKey(e,t){const n=new rp(t,0),r=this.Rs.firstAfterOrEqual(n);return cu.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,cu.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class op{constructor(e){this.Ds=e,this.docs=new ku(eu.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.Ds(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return cu.resolve(n?n.document.mutableCopy():nh.newInvalidDocument(t))}getEntries(e,t){let n=Xh();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():nh.newInvalidDocument(e))}),cu.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Xh();const o=t.path,a=new eu(o.child("")),s=this.docs.getIteratorFrom(a);for(;s.hasNext();){const{key:e,value:{document:a}}=s.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||ou(ru(a),n)<=0||(r.has(a.key)||Hh(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return cu.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Ac()}Cs(e,t){return cu.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new ap(this)}getSize(e){return cu.resolve(this.size)}}class ap extends $f{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.os.addEntry(e,r)):this.os.removeEntry(n)}),cu.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class sp{constructor(e){this.persistence=e,this.xs=new Qh(e=>xh(e),Ih),this.lastRemoteSnapshotVersion=Yc.min(),this.highestTargetId=0,this.Ns=0,this.ks=new np,this.targetCount=0,this.Ms=Xf.kn()}forEachTarget(e,t){return this.xs.forEach((e,n)=>t(n)),cu.resolve()}getLastRemoteSnapshotVersion(e){return cu.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return cu.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),cu.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ns&&(this.Ns=t),cu.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Xf(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,cu.resolve()}updateTargetData(e,t){return this.Fn(t),cu.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,cu.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.xs.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),cu.waitFor(i).next(()=>r)}getTargetCount(e){return cu.resolve(this.targetCount)}getTargetData(e,t){const n=this.xs.get(t)||null;return cu.resolve(n)}addMatchingKeys(e,t,n){return this.ks.gs(t,n),cu.resolve()}removeMatchingKeys(e,t,n){this.ks.ps(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),cu.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),cu.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ks.Es(t);return cu.resolve(n)}containsKey(e,t){return cu.resolve(this.ks.containsKey(t))}}class lp{constructor(e,t){this.$s={},this.overlays={},this.Os=new hu(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new sp(this),this.indexManager=new Gf,this.remoteDocumentCache=function(e){return new op(e)}(e=>this.referenceDelegate.Ls(e)),this.serializer=new Hf(t),this.qs=new ep(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new tp,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.$s[e.toKey()];return n||(n=new ip(t,this.referenceDelegate),this.$s[e.toKey()]=n),n}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,n){Cc("MemoryPersistence","Starting transaction:",e);const r=new cp(this.Os.next());return this.referenceDelegate.Us(),n(r).next(e=>this.referenceDelegate.Ks(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Gs(e,t){return cu.or(Object.values(this.$s).map(n=>()=>n.containsKey(e,t)))}}class cp extends su{constructor(e){super(),this.currentSequenceNumber=e}}class up{constructor(e){this.persistence=e,this.Qs=new np,this.js=null}static zs(e){return new up(e)}get Ws(){if(this.js)return this.js;throw Ac()}addReference(e,t,n){return this.Qs.addReference(n,t),this.Ws.delete(n.toString()),cu.resolve()}removeReference(e,t,n){return this.Qs.removeReference(n,t),this.Ws.add(n.toString()),cu.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),cu.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(e=>this.Ws.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.Ws.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return cu.forEach(this.Ws,n=>{const r=eu.fromPath(n);return this.Hs(e,r).next(e=>{e||t.removeEntry(r,Yc.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(e=>{e?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return cu.or([()=>cu.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class hp{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Fi=n,this.Bi=r}static Li(e,t){let n=od(),r=od();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new hp(e,t.fromCache,n,r)}}class dp{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,n,r){return this.Ki(e,t).next(i=>i||this.Gi(e,t,r,n)).next(n=>n||this.Qi(e,t))}Ki(e,t){if(Oh(t))return cu.resolve(null);let n=Uh(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Vh(t,null,"F"),n=Uh(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=od(...r);return this.Ui.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const o=this.ji(t,r);return this.zi(t,o,i,n.readTime)?this.Ki(e,Vh(t,null,"F")):this.Wi(e,o,t,n)}))})))}Gi(e,t,n,r){return Oh(t)||r.isEqual(Yc.min())?this.Qi(e,t):this.Ui.getDocuments(e,n).next(i=>{const o=this.ji(t,i);return this.zi(t,o,n,r)?this.Qi(e,t):(Sc()<=Mr.DEBUG&&Cc("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Wh(t)),this.Wi(e,o,t,nu(r,-1)))})}ji(e,t){let n=new _u(Kh(e));return t.forEach((t,r)=>{Hh(e,r)&&(n=n.add(r))}),n}zi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Qi(e,t){return Sc()<=Mr.DEBUG&&Cc("QueryEngine","Using full collection scan to execute query:",Wh(t)),this.Ui.getDocumentsMatchingQuery(e,t,iu.min())}Wi(e,t,n,r){return this.Ui.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}class fp{constructor(e,t,n,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new ku(Kc),this.Yi=new Qh(e=>xh(e),Ih),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(n)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Zf(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function pp(e,t,n,r){return new fp(e,t,n,r)}async function mp(e,t){const n=Dc(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.tr(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],o=[];let a=od();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next(e=>({er:e,removedBatchIds:i,addedBatchIds:o}))})})}function gp(e){const t=Dc(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Bs.getLastRemoteSnapshotVersion(e))}function yp(e,t,n){let r=od(),i=od();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=Xh();return n.forEach((n,o)=>{const a=e.get(n);o.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(Yc.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):Cc("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)}),{nr:r,sr:i}})}function vp(e,t){const n=Dc(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function wp(e,t){const n=Dc(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Bs.getTargetData(e,t).next(i=>i?(r=i,cu.resolve(r)):n.Bs.allocateTargetId(e).next(i=>(r=new Wf(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Bs.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Ji.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e})}async function bp(e,t,n){const r=Dc(e),i=r.Ji.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!uu(e))throw e;Cc("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.Ji=r.Ji.remove(t),r.Yi.delete(i.target)}function kp(e,t,n){const r=Dc(e);let i=Yc.min(),o=od();return r.persistence.runTransaction("Execute query","readonly",e=>function(e,t,n){const r=Dc(e),i=r.Yi.get(n);return void 0!==i?cu.resolve(r.Ji.get(i)):r.Bs.getTargetData(t,n)}(r,e,Uh(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(e,t.targetId).next(e=>{o=e})}).next(()=>r.Hi.getDocumentsMatchingQuery(e,t,n?i:Yc.min(),n?o:od())).next(e=>(Ep(r,qh(t),e),{documents:e,ir:o})))}function Ep(e,t,n){let r=e.Xi.get(t)||Yc.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Xi.set(t,r)}class Tp{constructor(){this.activeTargetIds=sd()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _p{constructor(){this.Hr=new Tp,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,n){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Tp,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Sp{Yr(e){}shutdown(){}}class Cp{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Cc("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Cc("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let xp=null;function Ip(){return null===xp?xp=268435456+Math.round(2147483648*Math.random()):xp++,"0x"+xp.toString(16)}const Np={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ap{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Rp="WebChannelConnection";class Dp extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.mo=t+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,n,r,i){const o=Ip(),a=this.To(e,t);Cc("RestConnection","Sending RPC '".concat(e,"' ").concat(o,":"),a,n);const s={};return this.Eo(s,r,i),this.Ao(e,a,s,n).then(t=>(Cc("RestConnection","Received RPC '".concat(e,"' ").concat(o,": "),t),t),t=>{throw Ic("RestConnection","RPC '".concat(e,"' ").concat(o," failed with error: "),t,"url: ",a,"request:",n),t})}vo(e,t,n,r,i,o){return this.Io(e,t,n,r,i)}Eo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Tc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}To(e,t){const n=Np[e];return"".concat(this.mo,"/v1/").concat(t,":").concat(n)}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,n,r){const i=Ip();return new Promise((o,a)=>{const s=new vc;s.setWithCredentials(!0),s.listenOnce(fc.COMPLETE,()=>{try{switch(s.getLastErrorCode()){case dc.NO_ERROR:const t=s.getResponseJson();Cc(Rp,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),o(t);break;case dc.TIMEOUT:Cc(Rp,"RPC '".concat(e,"' ").concat(i," timed out")),a(new Pc(Oc.DEADLINE_EXCEEDED,"Request time out"));break;case dc.HTTP_ERROR:const n=s.getStatus();if(Cc(Rp,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",s.getResponseText()),n>0){let e=s.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Oc).indexOf(t)>=0?t:Oc.UNKNOWN}(t.status);a(new Pc(e,t.message))}else a(new Pc(Oc.UNKNOWN,"Server responded with status "+s.getStatus()))}else a(new Pc(Oc.UNAVAILABLE,"Connection failed."));break;default:Ac()}}finally{Cc(Rp,"RPC '".concat(e,"' ").concat(i," completed."))}});const l=JSON.stringify(r);Cc(Rp,"RPC '".concat(e,"' ").concat(i," sending request:"),r),s.send(t,"POST",l,n,15)})}Ro(e,t,n){const r=Ip(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=uc(),a=hc(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(s.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(s.xmlHttpFactory=new gc({})),this.Eo(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;const c=i.join("");Cc(Rp,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),s);const u=o.createWebChannel(c,s);let h=!1,d=!1;const f=new Ap({ro:t=>{d?Cc(Rp,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(Cc(Rp,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),h=!0),Cc(Rp,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},oo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return p(u,yc.EventType.OPEN,()=>{d||Cc(Rp,"RPC '".concat(e,"' stream ").concat(r," transport opened."))}),p(u,yc.EventType.CLOSE,()=>{d||(d=!0,Cc(Rp,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.wo())}),p(u,yc.EventType.ERROR,t=>{d||(d=!0,Ic(Rp,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.wo(new Pc(Oc.UNAVAILABLE,"The operation could not be completed")))}),p(u,yc.EventType.MESSAGE,t=>{var n;if(!d){const i=t.data[0];Rc(!!i);const o=i,a=o.error||(null===(n=o[0])||void 0===n?void 0:n.error);if(a){Cc(Rp,"RPC '".concat(e,"' stream ").concat(r," received error:"),a);const t=a.status;let n=function(e){const t=Hd[e];if(void 0!==t)return Gd(t)}(t),i=a.message;void 0===n&&(n=Oc.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),d=!0,f.wo(new Pc(n,i)),u.close()}else Cc(Rp,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f._o(i)}}),p(a,pc.STAT_EVENT,t=>{t.stat===mc.PROXY?Cc(Rp,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===mc.NOPROXY&&Cc(Rp,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{f.fo()},0),f}}function Op(){return"undefined"!=typeof document?document:null}function Pp(e){return new mf(e,!0)}class Lp{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ii=e,this.timerId=t,this.Po=n,this.bo=r,this.Vo=i,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),n=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-n);r>0&&Cc("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.So," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Mp{constructor(e,t,n,r,i,o,a,s){this.ii=e,this.$o=n,this.Oo=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=s,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Lp(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,t){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,4!==e?this.qo.reset():t&&t.code===Oc.RESOURCE_EXHAUSTED?(xc(t.toString()),xc("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):t&&t.code===Oc.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(t)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.Fo===t&&this.Zo(n,r)},t=>{e(()=>{const e=new Pc(Oc.UNKNOWN,"Fetching auth token failed: "+t.message);return this.tu(e)})})}Zo(e,t){const n=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{n(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(e=>{n(()=>this.tu(e))}),this.stream.onMessage(e=>{n(()=>this.onMessage(e))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return Cc("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Cc("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Fp extends Mp{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Ac()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(Rc(void 0===t||"string"==typeof t),Iu.fromBase64String(t||"")):(Rc(void 0===t||t instanceof Uint8Array),Iu.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,s=a&&function(e){const t=void 0===e.code?Oc.UNKNOWN:Gd(e.code);return new Pc(t,e.message||"")}(a);n=new sf(r,i,o,s||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=_f(e,r.document.name),o=bf(r.document.updateTime),a=r.document.createTime?bf(r.document.createTime):Yc.min(),s=new eh({mapValue:{fields:r.document.fields}}),l=nh.newFoundDocument(i,o,a,s),c=r.targetIds||[],u=r.removedTargetIds||[];n=new of(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=_f(e,r.document),o=r.readTime?bf(r.readTime):Yc.min(),a=nh.newNoDocument(i,o),s=r.removedTargetIds||[];n=new of([],s,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=_f(e,r.document),o=r.removedTargetIds||[];n=new of([],o,i,null)}else{if(!("filter"in t))return Ac();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new Wd(r,i),a=e.targetId;n=new af(a,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Yc.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Yc.min():t.readTime?bf(t.readTime):Yc.min()}(e);return this.listener.nu(t,n)}su(e){const t={};t.database=xf(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Nh(r)?{documents:Rf(e,r)}:{query:Df(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=vf(e,t.resumeToken);const r=gf(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Yc.min())>0){n.readTime=yf(e,t.snapshotVersion.toTimestamp());const r=gf(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ac()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Wo(t)}iu(e){const t={};t.database=xf(this.serializer),t.removeTarget=e,this.Wo(t)}}class Up extends Mp{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Rc(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function(e,t){return e&&e.length>0?(Rc(void 0!==t),e.map(e=>function(e,t){let n=e.updateTime?bf(e.updateTime):bf(t);return n.isEqual(Yc.min())&&(n=bf(t)),new _d(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=bf(e.commitTime);return this.listener.cu(n,t)}return Rc(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=xf(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>Af(this.serializer,e))};this.Wo(t)}}class jp extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new Pc(Oc.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,n){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(r=>{let[i,o]=r;return this.connection.Io(e,t,n,i,o)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Oc.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Pc(Oc.UNKNOWN,e.toString())})}vo(e,t,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[o,a]=i;return this.connection.vo(e,t,n,o,a,r)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Oc.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Pc(Oc.UNKNOWN,e.toString())})}terminate(){this.lu=!0}}class Vp{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.mu?(xc(t),this.mu=!1):Cc("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class zp{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=i,this.Pu.Yr(e=>{n.enqueueAndForget(async()=>{Xp(this)&&(Cc("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Dc(e);t.vu.add(4),await Wp(t),t.bu.set("Unknown"),t.vu.delete(4),await Bp(t)}(this))})}),this.bu=new Vp(n,r)}}async function Bp(e){if(Xp(e))for(const t of e.Ru)await t(!0)}async function Wp(e){for(const t of e.Ru)await t(!1)}function Hp(e,t){const n=Dc(e);n.Au.has(t.targetId)||(n.Au.set(t.targetId,t),Yp(n)?Qp(n):pm(n).Ko()&&Kp(n,t))}function qp(e,t){const n=Dc(e),r=pm(n);n.Au.delete(t),r.Ko()&&Gp(n,t),0===n.Au.size&&(r.Ko()?r.jo():Xp(n)&&n.bu.set("Unknown"))}function Kp(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Yc.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}pm(e).su(t)}function Gp(e,t){e.Vu.qt(t),pm(e).iu(t)}function Qp(e){e.Vu=new cf({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),le:t=>e.Au.get(t)||null,ue:()=>e.datastore.serializer.databaseId}),pm(e).start(),e.bu.gu()}function Yp(e){return Xp(e)&&!pm(e).Uo()&&e.Au.size>0}function Xp(e){return 0===Dc(e).vu.size}function $p(e){e.Vu=void 0}async function Jp(e){e.Au.forEach((t,n)=>{Kp(e,t)})}async function Zp(e,t){$p(e),Yp(e)?(e.bu.Iu(t),Qp(e)):e.bu.set("Unknown")}async function em(e,t,n){if(e.bu.set("Online"),t instanceof sf&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Au.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Au.delete(r),e.Vu.removeTarget(r))}(e,t)}catch(n){Cc("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await tm(e,n)}else if(t instanceof of?e.Vu.Ht(t):t instanceof af?e.Vu.ne(t):e.Vu.Xt(t),!n.isEqual(Yc.min()))try{const t=await gp(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Vu.ce(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Au.get(r);i&&e.Au.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Au.get(t);if(!r)return;e.Au.set(t,r.withResumeToken(Iu.EMPTY_BYTE_STRING,r.snapshotVersion)),Gp(e,t);const i=new Wf(r.target,t,n,r.sequenceNumber);Kp(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Cc("RemoteStore","Failed to raise snapshot:",t),await tm(e,t)}}async function tm(e,t,n){if(!uu(t))throw t;e.vu.add(1),await Wp(e),e.bu.set("Offline"),n||(n=()=>gp(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Cc("RemoteStore","Retrying IndexedDB access"),await n(),e.vu.delete(1),await Bp(e)})}function nm(e,t){return t().catch(n=>tm(e,n,t))}async function rm(e){const t=Dc(e),n=mm(t);let r=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;im(t);)try{const e=await vp(t.localStore,r);if(null===e){0===t.Eu.length&&n.jo();break}r=e.batchId,om(t,e)}catch(e){await tm(t,e)}am(t)&&sm(t)}function im(e){return Xp(e)&&e.Eu.length<10}function om(e,t){e.Eu.push(t);const n=mm(e);n.Ko()&&n.ou&&n.uu(t.mutations)}function am(e){return Xp(e)&&!mm(e).Uo()&&e.Eu.length>0}function sm(e){mm(e).start()}async function lm(e){mm(e).hu()}async function cm(e){const t=mm(e);for(const n of e.Eu)t.uu(n.mutations)}async function um(e,t,n){const r=e.Eu.shift(),i=zd.from(r,t,n);await nm(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await rm(e)}async function hm(e,t){t&&mm(e).ou&&await async function(e,t){if(Kd(n=t.code)&&n!==Oc.ABORTED){const n=e.Eu.shift();mm(e).Qo(),await nm(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await rm(e)}var n}(e,t),am(e)&&sm(e)}async function dm(e,t){const n=Dc(e);n.asyncQueue.verifyOperationInProgress(),Cc("RemoteStore","RemoteStore received new credentials");const r=Xp(n);n.vu.add(3),await Wp(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.vu.delete(3),await Bp(n)}async function fm(e,t){const n=Dc(e);t?(n.vu.delete(2),await Bp(n)):t||(n.vu.add(2),await Wp(n),n.bu.set("Unknown"))}function pm(e){return e.Su||(e.Su=function(e,t,n){const r=Dc(e);return r.fu(),new Fp(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:Jp.bind(null,e),ao:Zp.bind(null,e),nu:em.bind(null,e)}),e.Ru.push(async t=>{t?(e.Su.Qo(),Yp(e)?Qp(e):e.bu.set("Unknown")):(await e.Su.stop(),$p(e))})),e.Su}function mm(e){return e.Du||(e.Du=function(e,t,n){const r=Dc(e);return r.fu(),new Up(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:lm.bind(null,e),ao:hm.bind(null,e),au:cm.bind(null,e),cu:um.bind(null,e)}),e.Ru.push(async t=>{t?(e.Du.Qo(),await rm(e)):(await e.Du.stop(),e.Eu.length>0&&(Cc("RemoteStore","Stopping write stream with ".concat(e.Eu.length," pending writes")),e.Eu=[]))})),e.Du}class gm{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Lc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,a=new gm(e,t,o,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Pc(Oc.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ym(e,t){if(xc("AsyncQueue","".concat(t,": ").concat(e)),uu(e))return new Pc(Oc.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class vm{constructor(e){this.comparator=e?(t,n)=>e(t,n)||eu.comparator(t.key,n.key):(e,t)=>eu.comparator(e.key,t.key),this.keyedMap=Jh(),this.sortedSet=new ku(this.comparator)}static emptySet(e){return new vm(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof vm))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new vm;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class wm{constructor(){this.Cu=new ku(eu.comparator)}track(e){const t=e.doc.key,n=this.Cu.get(t);n?0!==e.type&&3===n.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==n.type?this.Cu=this.Cu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Cu=this.Cu.remove(t):1===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):Ac():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,n)=>{e.push(n)}),e}}class bm{constructor(e,t,n,r,i,o,a,s,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach(e=>{o.push({type:0,doc:e})}),new bm(e,t,vm.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class km{constructor(){this.Nu=void 0,this.listeners=[]}}class Em{constructor(){this.queries=new Qh(e=>Bh(e),zh),this.onlineState="Unknown",this.ku=new Set}}async function Tm(e,t){const n=Dc(e),r=t.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new km),i)try{o.Nu=await n.onListen(r)}catch(e){const n=ym(e,"Initialization of query '".concat(Wh(t.query),"' failed"));return void t.onError(n)}n.queries.set(r,o),o.listeners.push(t),t.Mu(n.onlineState),o.Nu&&t.$u(o.Nu)&&xm(n)}async function _m(e,t){const n=Dc(e),r=t.query;let i=!1;const o=n.queries.get(r);if(o){const e=o.listeners.indexOf(t);e>=0&&(o.listeners.splice(e,1),i=0===o.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function Sm(e,t){const n=Dc(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.listeners)e.$u(i)&&(r=!0);t.Nu=i}}r&&xm(n)}function Cm(e,t,n){const r=Dc(e),i=r.queries.get(t);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(t)}function xm(e){e.ku.forEach(e=>{e.next()})}class Im{constructor(e,t,n){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=n||{}}$u(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new bm(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.Ku||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){if(e.docChanges.length>0)return!0;const t=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Uu(e){e=bm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class Nm{constructor(e){this.key=e}}class Am{constructor(e){this.key=e}}class Rm{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=od(),this.mutatedKeys=od(),this.tc=Kh(e),this.ec=new vm(this.tc)}get nc(){return this.Yu}sc(e,t){const n=t?t.ic:new wm,r=t?t.ec:this.ec;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,a=!1;const s="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=Hh(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.rc(c,u)||(n.track({type:2,doc:u}),f=!0,(s&&this.tc(u,s)>0||l&&this.tc(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(s||l)&&(a=!0)),f&&(u?(o=o.add(u),i=d?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{ec:o,ic:n,zi:a,mutatedKeys:i}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const i=e.ic.xu();i.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ac()}};return n(e)-n(t)}(e.type,t.type)||this.tc(e.doc,t.doc)),this.oc(n);const o=t?this.uc():[],a=0===this.Zu.size&&this.current?1:0,s=a!==this.Xu;return this.Xu=a,0!==i.length||s?{snapshot:new bm(this.query,e.ec,r,i,e.mutatedKeys,0===a,s,!1,!!n&&n.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new wm,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(e=>this.Yu=this.Yu.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Yu=this.Yu.delete(e)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=od(),this.ec.forEach(e=>{this.ac(e.key)&&(this.Zu=this.Zu.add(e.key))});const t=[];return e.forEach(e=>{this.Zu.has(e)||t.push(new Am(e))}),this.Zu.forEach(n=>{e.has(n)||t.push(new Nm(n))}),t}hc(e){this.Yu=e.ir,this.Zu=od();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return bm.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Dm{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Om{constructor(e){this.key=e,this.fc=!1}}class Pm{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new Qh(e=>Bh(e),zh),this._c=new Map,this.mc=new Set,this.gc=new ku(eu.comparator),this.yc=new Map,this.Ic=new np,this.Tc={},this.Ec=new Map,this.Ac=Xf.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}async function Lm(e,t){const n=Zm(e);let r,i;const o=n.wc.get(t);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.lc();else{const e=await wp(n.localStore,Uh(t)),o=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await Mm(n,t,r,"current"===o,e.resumeToken),n.isPrimaryClient&&Hp(n.remoteStore,e)}return i}async function Mm(e,t,n,r,i){e.Rc=(t,n,r)=>async function(e,t,n,r){let i=t.view.sc(n);i.zi&&(i=await kp(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.sc(n,i)}));const o=r&&r.targetChanges.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o);return Gm(e,t.targetId,a.cc),a.snapshot}(e,t,n,r);const o=await kp(e.localStore,t,!0),a=new Rm(t,o.ir),s=a.sc(o.documents),l=rf.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=a.applyChanges(s,e.isPrimaryClient,l);Gm(e,n,c.cc);const u=new Dm(t,n,a);return e.wc.set(t,u),e._c.has(n)?e._c.get(n).push(t):e._c.set(n,[t]),c.snapshot}async function Fm(e,t){const n=Dc(e),r=n.wc.get(t),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(e=>!zh(e,t))),void n.wc.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await bp(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),qp(n.remoteStore,r.targetId),qm(n,r.targetId)}).catch(lu)):(qm(n,r.targetId),await bp(n.localStore,r.targetId,!0))}async function Um(e,t){const n=Dc(e);try{const e=await function(e,t){const n=Dc(e),r=t.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];t.targetChanges.forEach((o,s)=>{const l=i.get(s);if(!l)return;a.push(n.Bs.removeMatchingKeys(e,o.removedDocuments,s).next(()=>n.Bs.addMatchingKeys(e,o.addedDocuments,s)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(Iu.EMPTY_BYTE_STRING,Yc.min()).withLastLimboFreeSnapshotVersion(Yc.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,o)&&a.push(n.Bs.updateTargetData(e,c))});let s=Xh(),l=od();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),a.push(yp(e,o,t.documentUpdates).next(e=>{s=e.nr,l=e.sr})),!r.isEqual(Yc.min())){const t=n.Bs.getLastRemoteSnapshotVersion(e).next(t=>n.Bs.setTargetsMetadata(e,e.currentSequenceNumber,r));a.push(t)}return cu.waitFor(a).next(()=>o.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,s,l)).next(()=>s)}).then(e=>(n.Ji=i,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.yc.get(t);r&&(Rc(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.fc=!0:e.modifiedDocuments.size>0?Rc(r.fc):e.removedDocuments.size>0&&(Rc(r.fc),r.fc=!1))}),await Xm(n,e,t)}catch(e){await lu(e)}}function jm(e,t,n){const r=Dc(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.wc.forEach((n,r)=>{const i=r.view.Mu(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=Dc(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.listeners)i.Mu(t)&&(r=!0)}),r&&xm(n)}(r.eventManager,t),e.length&&r.dc.nu(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Vm(e,t,n){const r=Dc(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.yc.get(t),o=i&&i.key;if(o){let e=new ku(eu.comparator);e=e.insert(o,nh.newNoDocument(o,Yc.min()));const n=od().add(o),i=new nf(Yc.min(),new Map,new ku(Kc),e,n);await Um(r,i),r.gc=r.gc.remove(o),r.yc.delete(t),Ym(r)}else await bp(r.localStore,t,!1).then(()=>qm(r,t,n)).catch(lu)}async function zm(e,t){const n=Dc(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Dc(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let a=cu.resolve();return o.forEach(e=>{a=a.next(()=>r.getEntry(t,e)).next(t=>{const o=n.docVersions.get(e);Rc(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),a.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=od();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);Hm(n,r,null),Wm(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Xm(n,e)}catch(e){await lu(e)}}async function Bm(e,t,n){const r=Dc(e);try{const e=await function(e,t){const n=Dc(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(Rc(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);Hm(r,t,n),Wm(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Xm(r,e)}catch(n){await lu(n)}}function Wm(e,t){(e.Ec.get(t)||[]).forEach(e=>{e.resolve()}),e.Ec.delete(t)}function Hm(e,t,n){const r=Dc(e);let i=r.Tc[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Tc[r.currentUser.toKey()]=i}}function qm(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e._c.get(t))e.wc.delete(r),n&&e.dc.Pc(r,n);e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach(t=>{e.Ic.containsKey(t)||Km(e,t)})}function Km(e,t){e.mc.delete(t.path.canonicalString());const n=e.gc.get(t);null!==n&&(qp(e.remoteStore,n),e.gc=e.gc.remove(t),e.yc.delete(n),Ym(e))}function Gm(e,t,n){for(const r of n)r instanceof Nm?(e.Ic.addReference(r.key,t),Qm(e,r)):r instanceof Am?(Cc("SyncEngine","Document no longer in limbo: "+r.key),e.Ic.removeReference(r.key,t),e.Ic.containsKey(r.key)||Km(e,r.key)):Ac()}function Qm(e,t){const n=t.key,r=n.path.canonicalString();e.gc.get(n)||e.mc.has(r)||(Cc("SyncEngine","New document in limbo: "+n),e.mc.add(r),Ym(e))}function Ym(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){const t=e.mc.values().next().value;e.mc.delete(t);const n=new eu($c.fromString(t)),r=e.Ac.next();e.yc.set(r,new Om(n)),e.gc=e.gc.insert(n,r),Hp(e.remoteStore,new Wf(Uh(Dh(n.path)),r,"TargetPurposeLimboResolution",hu.ct))}}async function Xm(e,t,n){const r=Dc(e),i=[],o=[],a=[];r.wc.isEmpty()||(r.wc.forEach((e,s)=>{a.push(r.Rc(s,t,n).then(e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=hp.Li(s.targetId,e);o.push(t)}}))}),await Promise.all(a),r.dc.nu(i),await async function(e,t){const n=Dc(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>cu.forEach(t,t=>cu.forEach(t.Fi,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>cu.forEach(t.Bi,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!uu(e))throw e;Cc("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ji.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ji=n.Ji.insert(e,i)}}}(r.localStore,o))}async function $m(e,t){const n=Dc(e);if(!n.currentUser.isEqual(t)){Cc("SyncEngine","User change. New user:",t.toKey());const e=await mp(n.localStore,t);n.currentUser=t,function(e){e.Ec.forEach(e=>{e.forEach(e=>{e.reject(new Pc(Oc.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),e.Ec.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Xm(n,e.er)}}function Jm(e,t){const n=Dc(e),r=n.yc.get(t);if(r&&r.fc)return od().add(r.key);{let e=od();const r=n._c.get(t);if(!r)return e;for(const t of r){const r=n.wc.get(t);e=e.unionWith(r.view.nc)}return e}}function Zm(e){const t=Dc(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Um.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Jm.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Vm.bind(null,t),t.dc.nu=Sm.bind(null,t.eventManager),t.dc.Pc=Cm.bind(null,t.eventManager),t}function eg(e){const t=Dc(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=zm.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Bm.bind(null,t),t}class tg{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Pp(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return pp(this.persistence,new dp,e.initialUser,this.serializer)}createPersistence(e){return new lp(up.zs,this.serializer)}createSharedClientState(e){return new _p}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class ng{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>jm(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=$m.bind(null,this.syncEngine),await fm(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Em}createDatastore(e){const t=Pp(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new Dp(r));var r;return function(e,t,n,r){return new jp(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>jm(this.syncEngine,e,0),o=Cp.D()?new Cp:new Sp,new zp(t,n,r,i,o);var t,n,r,i,o}createSyncEngine(e,t){return function(e,t,n,r,i,o,a){const s=new Pm(e,t,n,r,i,o);return a&&(s.vc=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=Dc(e);Cc("RemoteStore","RemoteStore shutting down."),t.vu.add(5),await Wp(t),t.Pu.shutdown(),t.bu.set("Unknown")}(this.remoteStore)}}class rg{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):xc("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class ig{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Ec.UNAUTHENTICATED,this.clientId=qc.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,async e=>{Cc("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(Cc("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Pc(Oc.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Lc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(ze){const n=ym(ze,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function og(e,t){e.asyncQueue.verifyOperationInProgress(),Cc("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await mp(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function ag(e,t){e.asyncQueue.verifyOperationInProgress();const n=await lg(e);Cc("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(e=>dm(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>dm(t.remoteStore,n)),e._onlineComponents=t}function sg(e){return"FirebaseError"===e.name?e.code===Oc.FAILED_PRECONDITION||e.code===Oc.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function lg(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Cc("FirestoreClient","Using user provided OfflineComponentProvider");try{await og(e,e._uninitializedComponentsProvider._offline)}catch(ze){const n=ze;if(!sg(n))throw n;Ic("Error using user provided cache. Falling back to memory cache: "+n),await og(e,new tg)}}else Cc("FirestoreClient","Using default OfflineComponentProvider"),await og(e,new tg);return e._offlineComponents}async function cg(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Cc("FirestoreClient","Using user provided OnlineComponentProvider"),await ag(e,e._uninitializedComponentsProvider._online)):(Cc("FirestoreClient","Using default OnlineComponentProvider"),await ag(e,new ng))),e._onlineComponents}function ug(e){return cg(e).then(e=>e.syncEngine)}async function hg(e){const t=await cg(e),n=t.eventManager;return n.onListen=Lm.bind(null,t.syncEngine),n.onUnlisten=Fm.bind(null,t.syncEngine),n}function dg(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Lc;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const o=new rg({next:o=>{t.enqueueAndForget(()=>_m(e,a));const s=o.docs.has(n);!s&&o.fromCache?i.reject(new Pc(Oc.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new Pc(Oc.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),a=new Im(Dh(n.path),o,{includeMetadataChanges:!0,Ku:!0});return Tm(e,a)}(await hg(e),e.asyncQueue,t,n,r)),r.promise}function fg(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Lc;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const o=new rg({next:n=>{t.enqueueAndForget(()=>_m(e,a)),n.fromCache&&"server"===r.source?i.reject(new Pc(Oc.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new Im(n,o,{includeMetadataChanges:!0,Ku:!0});return Tm(e,a)}(await hg(e),e.asyncQueue,t,n,r)),r.promise}function pg(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const mg=new Map;function gg(e,t,n){if(!n)throw new Pc(Oc.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function yg(e){if(!eu.isDocumentKey(e))throw new Pc(Oc.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function vg(e){if(eu.isDocumentKey(e))throw new Pc(Oc.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function wg(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Ac()}function bg(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Pc(Oc.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=wg(e);throw new Pc(Oc.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}class kg{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Pc(Oc.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Pc(Oc.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Pc(Oc.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pg(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Pc(Oc.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Pc(Oc.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Pc(Oc.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}class Eg{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kg({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Pc(Oc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Pc(Oc.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kg(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Fc;switch(e.type){case"firstParty":return new zc(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Pc(Oc.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=mg.get(e);t&&(Cc("ComponentProvider","Removing Datastore"),mg.delete(e),t.terminate())}(this),Promise.resolve()}}class Tg{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Sg(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tg(this.firestore,e,this._key)}}class _g{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new _g(this.firestore,e,this._query)}}class Sg extends _g{constructor(e,t,n){super(e,t,Dh(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tg(this.firestore,null,new eu(e))}withConverter(e){return new Sg(this.firestore,e,this._path)}}function Cg(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ar(e),gg("collection","path",t),e instanceof Eg){const n=$c.fromString(t,...r);return vg(n),new Sg(e,null,n)}{if(!(e instanceof Tg||e instanceof Sg))throw new Pc(Oc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child($c.fromString(t,...r));return vg(n),new Sg(e.firestore,null,n)}}function xg(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ar(e),1===arguments.length&&(t=qc.A()),gg("doc","path",t),e instanceof Eg){const n=$c.fromString(t,...r);return yg(n),new Tg(e,null,new eu(n))}{if(!(e instanceof Tg||e instanceof Sg))throw new Pc(Oc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child($c.fromString(t,...r));return yg(n),new Tg(e.firestore,e instanceof Sg?e.converter:null,new eu(n))}}class Ig{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Lp(this,"async_queue_retry"),this.Xc=()=>{const e=Op();e&&Cc("AsyncQueue","Visibility state changed to "+e.visibilityState),this.qo.Mo()};const e=Op();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=Op();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Lc;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(0!==this.Qc.length){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(Be){if(!uu(Be))throw Be;Cc("AsyncQueue","Operation failed with retryable error: "+Be)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(e=>{this.Wc=e,this.Hc=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw xc("INTERNAL UNHANDLED ERROR: ",t),e}).then(e=>(this.Hc=!1,e))));return this.Gc=t,t}enqueueAfterDelay(e,t,n){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const r=gm.createAndSchedule(this,e,t,n,e=>this.na(e));return this.zc.push(r),r}Zc(){this.Wc&&Ac()}verifyOperationInProgress(){}async sa(){let e;do{e=this.Gc,await e}while(e!==this.Gc)}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class Ng extends Eg{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Ig,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Rg(this),this._firestoreClient.terminate()}}function Ag(e){return e._firestoreClient||Rg(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Rg(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new Mu(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,pg(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new ig(e._authCredentials,e._appCheckCredentials,e._queue,o),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class Dg{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Dg(Iu.fromBase64String(e))}catch(e){throw new Pc(Oc.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Dg(Iu.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Og{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Pc(Oc.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zc(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Pg{constructor(e){this._methodName=e}}class Lg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Pc(Oc.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Pc(Oc.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Kc(this._lat,e._lat)||Kc(this._long,e._long)}}const Mg=/^__.*__$/;class Fg{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Pd(e,this.data,this.fieldMask,t,this.fieldTransforms):new Od(e,this.data,t,this.fieldTransforms)}}class Ug{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Pd(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function jg(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ac()}}class Vg{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.ua(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Vg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.fa(e),r}da(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return ny(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(jg(this.ca)&&Mg.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class zg{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Pp(e)}ya(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Vg({ca:e,methodName:t,ga:n,path:Zc.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Bg(e){const t=e._freezeSettings(),n=Pp(e._databaseId);return new zg(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Wg(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.ya(o.merge||o.mergeFields?2:0,t,n,i);Jg("Data must be an object, but it was:",a,r);const s=Xg(r,a);let l,c;if(o.merge)l=new Cu(a.fieldMask),c=a.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=Zg(t,r,n);if(!a.contains(i))throw new Pc(Oc.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));ry(e,i)||e.push(i)}l=new Cu(e),c=a.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=a.fieldTransforms;return new Fg(new eh(s),l,c)}class Hg extends Pg{_toFieldTransform(e){if(2!==e.ca)throw 1===e.ca?e._a("".concat(this._methodName,"() can only appear at the top level of your update data")):e._a("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Hg}}class qg extends Pg{_toFieldTransform(e){return new Td(e.path,new md)}isEqual(e){return e instanceof qg}}function Kg(e,t,n,r){const i=e.ya(1,t,n);Jg("Data must be an object, but it was:",i,r);const o=[],a=eh.empty();wu(r,(e,r)=>{const s=ty(t,e,n);r=Ar(r);const l=i.da(s);if(r instanceof Hg)o.push(s);else{const e=Yg(r,l);null!=e&&(o.push(s),a.set(s,e))}});const s=new Cu(o);return new Ug(a,s,i.fieldTransforms)}function Gg(e,t,n,r,i,o){const a=e.ya(1,t,n),s=[Zg(t,r,n)],l=[i];if(o.length%2!=0)throw new Pc(Oc.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let d=0;d<o.length;d+=2)s.push(Zg(t,o[d])),l.push(o[d+1]);const c=[],u=eh.empty();for(let d=s.length-1;d>=0;--d)if(!ry(c,s[d])){const e=s[d];let t=l[d];t=Ar(t);const n=a.da(e);if(t instanceof Hg)c.push(e);else{const r=Yg(t,n);null!=r&&(c.push(e),u.set(e,r))}}const h=new Cu(c);return new Ug(u,h,a.fieldTransforms)}function Qg(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Yg(n,e.ya(r?4:3,t))}function Yg(e,t){if($g(e=Ar(e)))return Jg("Unsupported field value:",t,e),Xg(e,t);if(e instanceof Pg)return function(e,t){if(!jg(t.ca))throw t._a("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t._a("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Yg(i,t.wa(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Ar(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return ud(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Qc.fromDate(e);return{timestampValue:yf(t.serializer,n)}}if(e instanceof Qc){const n=new Qc(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:yf(t.serializer,n)}}if(e instanceof Lg)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Dg)return{bytesValue:vf(t.serializer,e._byteString)};if(e instanceof Tg){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t._a("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:kf(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a("Unsupported field value: ".concat(wg(e)))}(e,t)}function Xg(e,t){const n={};return bu(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):wu(e,(e,r)=>{const i=Yg(r,t.ha(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function $g(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Qc||e instanceof Lg||e instanceof Dg||e instanceof Tg||e instanceof Pg)}function Jg(e,t,n){if(!$g(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=wg(n);throw"an object"===r?t._a(e+" a custom object"):t._a(e+" "+r)}}function Zg(e,t,n){if((t=Ar(t))instanceof Og)return t._internalPath;if("string"==typeof t)return ty(e,t);throw ny("Field path arguments must be of type string or ",e,!1,void 0,n)}const ey=new RegExp("[~\\*/\\[\\]]");function ty(e,t,n){if(t.search(ey)>=0)throw ny("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new Og(...t.split("."))._internalPath}catch(Qe){throw ny("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function ny(e,t,n,r,i){const o=r&&!r.isEmpty(),a=void 0!==i;let s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(o||a)&&(l+=" (found",o&&(l+=" in field ".concat(r)),a&&(l+=" in document ".concat(i)),l+=")"),new Pc(Oc.INVALID_ARGUMENT,s+e+l)}function ry(e,t){return e.some(e=>e.isEqual(t))}class iy{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Tg(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new oy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ay("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class oy extends iy{data(){return super.data()}}function ay(e,t){return"string"==typeof t?ty(e,t):t instanceof Og?t._internalPath:t._delegate._internalPath}function sy(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Pc(Oc.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ly{}class cy extends ly{}function uy(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t instanceof ly&&n.push(t),n=n.concat(i),function(e){const t=e.filter(e=>e instanceof fy).length,n=e.filter(e=>e instanceof hy).length;if(t>1||t>0&&n>0)throw new Pc(Oc.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class hy extends cy{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new hy(e,t,n)}_apply(e){const t=this._parse(e);return vy(e._query,t),new _g(e.firestore,e.converter,jh(e._query,t))}_parse(e){const t=Bg(e.firestore),n=function(e,t,n,r,i,o,a){let s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Pc(Oc.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(o,"' queries on documentId()."));if("in"===o||"not-in"===o){yy(a,o);const t=[];for(const n of a)t.push(gy(r,e,n));s={arrayValue:{values:t}}}else s=gy(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||yy(a,o),s=Qg(n,"where",a,"in"===o||"not-in"===o);return ch.create(i,o,s)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function dy(e,t,n){const r=t,i=ay("where",e);return hy._create(i,r,n)}class fy extends ly{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new fy(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:uh.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)vy(n,i),n=jh(n,i)}(e._query,t),new _g(e.firestore,e.converter,jh(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class py extends cy{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new py(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Pc(Oc.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Pc(Oc.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new ah(t,n);return function(e,t){if(null===Ph(e)){const n=Lh(e);null!==n&&wy(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new _g(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Ah(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function my(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=ay("orderBy",e);return py._create(n,t)}function gy(e,t,n){if("string"==typeof(n=Ar(n))){if(""===n)throw new Pc(Oc.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Mh(t)&&-1!==n.indexOf("/"))throw new Pc(Oc.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child($c.fromString(n));if(!eu.isDocumentKey(r))throw new Pc(Oc.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Ku(e,new eu(r))}if(n instanceof Tg)return Ku(e,n._key);throw new Pc(Oc.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(wg(n),"."))}function yy(e,t){if(!Array.isArray(e)||0===e.length)throw new Pc(Oc.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function vy(e,t){if(t.isInequality()){const n=Lh(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new Pc(Oc.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));const i=Ph(e);null!==i&&wy(e,r,i)}const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Pc(Oc.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Pc(Oc.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}function wy(e,t,n){if(!n.isEqual(t))throw new Pc(Oc.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}class by{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(ju(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ru(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Du(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Ac()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return wu(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertGeoPoint(e){return new Lg(Ru(e.latitude),Ru(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Pu(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Lu(e));default:return null}}convertTimestamp(e){const t=Au(e);return new Qc(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=$c.fromString(e);Rc(Bf(n));const r=new Fu(n.get(1),n.get(3)),i=new eu(n.popFirst(5));return r.isEqual(t)||xc("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function ky(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Ey{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ty extends iy{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new _y(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(ay("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class _y extends Ty{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Sy{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Ey(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new _y(this._firestore,this._userDataWriter,n.key,n,new Ey(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Pc(Oc.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new _y(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Ey(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new _y(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Ey(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:Cy(t.type),doc:r,oldIndex:i,newIndex:o}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Cy(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ac()}}class xy extends by{constructor(e){super(),this.firestore=e}convertBytes(e){return new Dg(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Tg(this.firestore,null,t)}}function Iy(e){e=bg(e,_g);const t=bg(e.firestore,Ng),n=Ag(t),r=new xy(t);return sy(e._query),fg(n,e._query).then(n=>new Sy(t,r,e,n))}function Ny(e,t,n){e=bg(e,Tg);const r=bg(e.firestore,Ng),i=Bg(r);let o;for(var a=arguments.length,s=new Array(a>3?a-3:0),l=3;l<a;l++)s[l-3]=arguments[l];return o="string"==typeof(t=Ar(t))||t instanceof Og?Gg(i,"updateDoc",e._key,t,n,s):Kg(i,"updateDoc",e._key,t),Dy(r,[o.toMutation(e._key,Sd.exists(!0))])}function Ay(e){return Dy(bg(e.firestore,Ng),[new Ud(e._key,Sd.none())])}function Ry(e,t){const n=bg(e.firestore,Ng),r=xg(e),i=ky(e.converter,t);return Dy(n,[Wg(Bg(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Sd.exists(!1))]).then(()=>r)}function Dy(e,t){return function(e,t){const n=new Lc;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=eg(e);try{const e=await function(e,t){const n=Dc(e),r=Qc.now(),i=t.reduce((e,t)=>e.add(t.key),od());let o,a;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let s=Xh(),l=od();return n.Zi.getEntries(e,i).next(e=>{s=e,s.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,s)).next(i=>{o=i;const a=[];for(const e of t){const t=Rd(e,o.get(e.key).overlayedDocument);null!=t&&a.push(new Pd(e.key,t,th(t.value.mapValue),Sd.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)}).next(t=>{a=t;const r=t.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:a.batchId,changes:Zh(o)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Tc[e.currentUser.toKey()];r||(r=new ku(Kc)),r=r.insert(t,n),e.Tc[e.currentUser.toKey()]=r}(r,e.batchId,n),await Xm(r,e.changes),await rm(r.remoteStore)}catch(e){const t=ym(e,"Failed to persist write");n.reject(t)}}(await ug(e),t,n)),n.promise}(Ag(e),t)}function Oy(e,t,n){const r=n.docs.get(t._key),i=new xy(e);return new Ty(e,i,t._key,r,new Ey(n.hasPendingWrites,n.fromCache),t.converter)}function Py(){return new qg("serverTimestamp")}!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Tc=e}(zi),Fi(new Rr("firestore",(e,n)=>{let{instanceIdentifier:r,options:i}=n;const o=e.getProvider("app").getImmediate(),a=new Ng(new jc(e.getProvider("auth-internal")),new Wc(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Pc(Oc.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fu(e.options.projectId,t)}(o,r),o);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Hi(kc,"3.13.0",e),Hi(kc,"3.13.0","esm2017")}();Hi("firebase","9.23.0","app");function Ly(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function My(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Fy=My,Uy=new kr("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),jy=new zr("@firebase/auth");function Vy(e){if(jy.logLevel<=Mr.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];jy.error("Auth (".concat(zi,"): ").concat(e),...n)}}function zy(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Hy(e,...n)}function By(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Hy(e,...n)}function Wy(e,t,n){const r=Object.assign(Object.assign({},Fy()),{[t]:n});return new kr("auth","Firebase",r).create(t,{appName:e.name})}function Hy(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Uy.create(e,...n)}function qy(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Hy(t,...r)}}function Ky(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Vy(t),new Error(t)}function Gy(e,t){e||Ky(t)}function Qy(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Yy(){return"http:"===Xy()||"https:"===Xy()}function Xy(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function $y(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Yy()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Jy{constructor(e,t){this.shortDelay=e,this.longDelay=t,Gy(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vr())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return $y()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Zy(e,t){Gy(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class ev{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Ky("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Ky("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Ky("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const tv={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},nv=new Jy(3e4,6e4);function rv(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function iv(e,t,n,r){return ov(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const a=Sr(Object.assign({key:e.config.apiKey},o)).slice(1),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/json",e.languageCode&&(s["X-Firebase-Locale"]=e.languageCode),ev.fetch()(sv(e,e.config.apiHost,n,a),Object.assign({method:t,headers:s,referrerPolicy:"no-referrer"},i))})}async function ov(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},tv),t);try{const t=new lv(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw cv(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw cv(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw cv(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw cv(e,"user-disabled",o);const s=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw Wy(e,s,a);zy(e,s)}}catch(ze){if(ze instanceof br)throw ze;zy(e,"network-request-failed",{message:String(ze)})}}async function av(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await iv(e,t,n,r,i);return"mfaPendingCredential"in o&&zy(e,"multi-factor-auth-required",{_serverResponse:o}),o}function sv(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Zy(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}class lv{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(By(this.auth,"network-request-failed")),nv.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function cv(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=By(e,t,r);return i.customData._tokenResponse=n,i}function uv(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(ze){}}function hv(e){return 1e3*Number(e)}function dv(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Vy("JWT malformed, contained fewer than 3 sections"),null;try{const e=cr(n);return e?JSON.parse(e):(Vy("Failed to decode base64 JWT payload"),null)}catch(ze){return Vy("Caught error parsing JWT payload as JSON",null===ze||void 0===ze?void 0:ze.toString()),null}}async function fv(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(ze){throw ze instanceof br&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(ze)&&e.auth.currentUser===e&&await e.auth.signOut(),ze}}class pv{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(ze){return void((null===ze||void 0===ze?void 0:ze.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class mv{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=uv(this.lastLoginAt),this.creationTime=uv(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function gv(e){var t;const n=e.auth,r=await e.getIdToken(),i=await fv(e,async function(e,t){return iv(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));qy(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const a=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?o.providerUserInfo.map(e=>{var{providerId:t}=e,n=Ly(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}):[];const s=function(e,t){const n=e.filter(e=>!t.some(t=>t.providerId===e.providerId));return[...n,...t]}(e.providerData,a),l=e.isAnonymous,c=!(e.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),u=!!l&&c,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new mv(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(e,h)}class yv{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){qy(e.idToken,"internal-error"),qy("undefined"!==typeof e.idToken,"internal-error"),qy("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=dv(e);return qy(t,"internal-error"),qy("undefined"!==typeof t.exp,"internal-error"),qy("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return qy(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await ov(e,{},async()=>{const n=Sr({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=sv(e,r,"/v1/token","key=".concat(i)),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",ev.fetch()(o,{method:"POST",headers:a,body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new yv;return n&&(qy("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(qy("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(qy("number"===typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new yv,this.toJSON())}_performRefresh(){return Ky("not implemented")}}function vv(e,t){qy("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class wv{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=Ly(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new pv(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new mv(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await fv(this,this.stsTokenManager.getToken(this.auth,e));return qy(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Ar(e),r=await n.getIdToken(t),i=dv(r);qy(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"===typeof i.firebase?i.firebase:void 0,a=null===o||void 0===o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:uv(hv(i.auth_time)),issuedAtTime:uv(hv(i.iat)),expirationTime:uv(hv(i.exp)),signInProvider:a||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Ar(e);await gv(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(qy(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new wv(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){qy(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await gv(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await fv(this,async function(e,t){return iv(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,a,s,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(s=t._redirectEventId)&&void 0!==s?s:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:w,isAnonymous:b,providerData:k,stsTokenManager:E}=t;qy(v&&E,e,"internal-error");const T=yv.fromJSON(this.name,E);qy("string"===typeof v,e,"internal-error"),vv(u,e.name),vv(h,e.name),qy("boolean"===typeof w,e,"internal-error"),qy("boolean"===typeof b,e,"internal-error"),vv(d,e.name),vv(f,e.name),vv(p,e.name),vv(m,e.name),vv(g,e.name),vv(y,e.name);const _=new wv({uid:v,auth:e,email:h,emailVerified:w,displayName:u,isAnonymous:b,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:T,createdAt:g,lastLoginAt:y});return k&&Array.isArray(k)&&(_.providerData=k.map(e=>Object.assign({},e))),m&&(_._redirectEventId=m),_}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new yv;r.updateFromServerResponse(t);const i=new wv({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await gv(i),i}}const bv=new Map;function kv(e){Gy(e instanceof Function,"Expected a class definition");let t=bv.get(e);return t?(Gy(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,bv.set(e,t),t)}class Ev{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Ev.type="NONE";const Tv=Ev;function _v(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class Sv{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=_v(this.userKey,r.apiKey,i),this.fullPersistenceKey=_v("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?wv._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Sv(kv(Tv),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||kv(Tv);const o=_v(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(o);if(t){const n=wv._fromJSON(e,t);c!==i&&(a=n),i=c;break}}catch(l){}const s=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&s.length?(i=s[0],a&&await i._set(o,a.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(o)}catch(l){}})),new Sv(i,e,n)):new Sv(i,e,n)}}function Cv(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Av(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(xv(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Dv(t))return"Blackberry";if(Ov(t))return"Webos";if(Iv(t))return"Safari";if((t.includes("chrome/")||Nv(t))&&!t.includes("edge/"))return"Chrome";if(Rv(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function xv(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vr();return/firefox\//i.test(e)}function Iv(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:vr()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Nv(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vr();return/crios\//i.test(e)}function Av(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vr();return/iemobile/i.test(e)}function Rv(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vr();return/android/i.test(e)}function Dv(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vr();return/blackberry/i.test(e)}function Ov(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vr();return/webos/i.test(e)}function Pv(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vr();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Lv(){return function(){const e=vr();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Mv(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vr();return Pv(e)||Rv(e)||Ov(e)||Dv(e)||/windows phone/i.test(e)||Av(e)}function Fv(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Cv(vr());break;case"Worker":t="".concat(Cv(vr()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(zi,"/").concat(r)}async function Uv(e,t){return iv(e,"GET","/v2/recaptchaConfig",rv(e,t))}function jv(e){return void 0!==e&&void 0!==e.enterprise}class Vv{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(e=>"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState)}}function zv(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=By("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})}function Bv(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Wv{constructor(e){this.type="recaptcha-enterprise",this.auth=Gv(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;jv(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n("NO_RECAPTCHA")})}):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{Uv(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new Vv(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(i=>{if(!t&&jv(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));zv("https://www.google.com/recaptcha/enterprise.js?render="+i).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function Hv(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new Wv(e);let o;try{o=await i.verify(n)}catch(s){o=await i.verify(n,!0)}const a=Object.assign({},t);return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}class qv{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(ze){r(ze)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(ze){t.reverse();for(const n of t)try{n()}catch(xt){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===ze||void 0===ze?void 0:ze.message})}}}class Kv{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Qv(this),this.idTokenSubscription=new Qv(this),this.beforeStateQueue=new qv(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Uy,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=kv(t)),this._initializationPromise=this.queue(async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await Sv.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(ze){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null===r||void 0===r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==o||!(null===a||void 0===a?void 0:a.user)||(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(ze){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(ze))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return qy(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(ze){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await gv(e)}catch(ze){if((null===ze||void 0===ze?void 0:ze.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?Ar(e):null;return t&&qy(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&qy(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(kv(e))})}async initializeRecaptchaConfig(){const e=await Uv(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),t=new Vv(e);if(null==this.tenantId?this._agentRecaptchaConfig=t:this._tenantRecaptchaConfigs[this.tenantId]=t,t.emailPasswordEnabled){new Wv(this).verify()}}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new kr("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&kv(e)||this._popupRedirectResolver;qy(t,this,"argument-error"),this.redirectPersistenceManager=await Sv.create(this,[kv(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return qy(o,this,"internal-error"),o.then(()=>i(this.currentUser)),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return qy(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Fv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(jy.logLevel<=Mr.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];jy.warn("Auth (".concat(zi,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Gv(e){return Ar(e)}class Qv{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new Ir(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return qy(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Yv(e,t,n){const r=Gv(e);qy(r._canInitEmulator,r,"emulator-config-failed"),qy(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=Xv(t),{host:a,port:s}=function(e){const t=Xv(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:$v(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:$v(t)}}}(t),l=null===s?"":":".concat(s);r.config.emulator={url:"".concat(o,"//").concat(a).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:s,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Xv(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function $v(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Jv{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ky("not implemented")}_getIdTokenResponse(e){return Ky("not implemented")}_linkToIdToken(e,t){return Ky("not implemented")}_getReauthenticationResolver(e){return Ky("not implemented")}}async function Zv(e,t){return iv(e,"POST","/v1/accounts:update",t)}async function ew(e,t){return av(e,"POST","/v1/accounts:signInWithPassword",rv(e,t))}class tw extends Jv{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new tw(e,t,"password")}static _fromEmailAndCode(e,t){return new tw(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){var t;switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(null===(t=e._getRecaptchaConfig())||void 0===t?void 0:t.emailPasswordEnabled){const t=await Hv(e,n,"signInWithPassword");return ew(e,t)}return ew(e,n).catch(async t=>{if(t.code==="auth/".concat("missing-recaptcha-token")){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const t=await Hv(e,n,"signInWithPassword");return ew(e,t)}return Promise.reject(t)});case"emailLink":return async function(e,t){return av(e,"POST","/v1/accounts:signInWithEmailLink",rv(e,t))}(e,{email:this._email,oobCode:this._password});default:zy(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Zv(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return av(e,"POST","/v1/accounts:signInWithEmailLink",rv(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:zy(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function nw(e,t){return av(e,"POST","/v1/accounts:signInWithIdp",rv(e,t))}class rw extends Jv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new rw(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):zy("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=Ly(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new rw(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return nw(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,nw(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,nw(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Sr(t)}return e}}const iw={USER_NOT_FOUND:"user-not-found"};class ow extends Jv{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new ow({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new ow({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return av(e,"POST","/v1/accounts:signInWithPhoneNumber",rv(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await av(e,"POST","/v1/accounts:signInWithPhoneNumber",rv(e,t));if(n.temporaryProof)throw cv(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return av(e,"POST","/v1/accounts:signInWithPhoneNumber",rv(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),iw)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new ow({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class aw{constructor(e){var t,n,r,i,o,a;const s=Cr(xr(e)),l=null!==(t=s.apiKey)&&void 0!==t?t:null,c=null!==(n=s.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=s.mode)&&void 0!==r?r:null);qy(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=s.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=s.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=Cr(xr(e)).link,n=t?Cr(xr(t)).deep_link_id:null,r=Cr(xr(e)).deep_link_id;return(r?Cr(xr(r)).link:null)||r||n||t||e}(e);try{return new aw(t)}catch(n){return null}}}class sw{constructor(){this.providerId=sw.PROVIDER_ID}static credential(e,t){return tw._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=aw.parseLink(t);return qy(n,"argument-error"),tw._fromEmailAndCode(e,n.code,n.tenantId)}}sw.PROVIDER_ID="password",sw.EMAIL_PASSWORD_SIGN_IN_METHOD="password",sw.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class lw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class cw extends lw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class uw extends cw{constructor(){super("facebook.com")}static credential(e){return rw._fromParams({providerId:uw.PROVIDER_ID,signInMethod:uw.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return uw.credentialFromTaggedObject(e)}static credentialFromError(e){return uw.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return uw.credential(t.oauthAccessToken)}catch(n){return null}}}uw.FACEBOOK_SIGN_IN_METHOD="facebook.com",uw.PROVIDER_ID="facebook.com";class hw extends cw{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return rw._fromParams({providerId:hw.PROVIDER_ID,signInMethod:hw.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return hw.credentialFromTaggedObject(e)}static credentialFromError(e){return hw.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return hw.credential(n,r)}catch(i){return null}}}hw.GOOGLE_SIGN_IN_METHOD="google.com",hw.PROVIDER_ID="google.com";class dw extends cw{constructor(){super("github.com")}static credential(e){return rw._fromParams({providerId:dw.PROVIDER_ID,signInMethod:dw.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return dw.credentialFromTaggedObject(e)}static credentialFromError(e){return dw.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return dw.credential(t.oauthAccessToken)}catch(n){return null}}}dw.GITHUB_SIGN_IN_METHOD="github.com",dw.PROVIDER_ID="github.com";class fw extends cw{constructor(){super("twitter.com")}static credential(e,t){return rw._fromParams({providerId:fw.PROVIDER_ID,signInMethod:fw.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return fw.credentialFromTaggedObject(e)}static credentialFromError(e){return fw.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return fw.credential(n,r)}catch(i){return null}}}fw.TWITTER_SIGN_IN_METHOD="twitter.com",fw.PROVIDER_ID="twitter.com";class pw{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await wv._fromIdTokenResponse(e,n,r),o=mw(n);return new pw({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=mw(n);return new pw({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function mw(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class gw extends br{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,gw.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new gw(e,t,n,r)}}function yw(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw gw._fromErrorAndOperation(e,n,t,r);throw n})}async function vw(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await fv(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return pw._forOperation(e,"link",r)}async function ww(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e,i="reauthenticate";try{const o=await fv(e,yw(r,i,t,e),n);qy(o.idToken,r,"internal-error");const a=dv(o.idToken);qy(a,r,"internal-error");const{sub:s}=a;return qy(e.uid===s,r,"user-mismatch"),pw._forOperation(e,i,o)}catch(ze){throw(null===ze||void 0===ze?void 0:ze.code)==="auth/".concat("user-not-found")&&zy(r,"user-mismatch"),ze}}async function bw(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="signIn",i=await yw(e,r,t),o=await pw._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}new WeakMap;const kw="__sak";class Ew{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(kw,"1"),this.storage.removeItem(kw),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Tw extends Ew{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=vr();return Iv(e)||Pv(e)}()&&function(){try{return!(!window||window===window.top)}catch(ze){return!1}}(),this.fallbackToPolling=Mv(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Lv()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Tw.type="LOCAL";const _w=Tw;class Sw extends Ew{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Sw.type="SESSION";const Cw=Sw;class xw{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new xw(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null===o||void 0===o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(o).map(async e=>e(t.origin,i)),s=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:s})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Iw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}xw.receivers=[];class Nw{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise((a,s)=>{const l=Iw("",20);r.port1.start();const c=setTimeout(()=>{s(new Error("unsupported_event"))},n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{s(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(c),clearTimeout(i),s(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}function Aw(){return window}function Rw(){return"undefined"!==typeof Aw().WorkerGlobalScope&&"function"===typeof Aw().importScripts}const Dw="firebaseLocalStorageDb",Ow="firebaseLocalStorage",Pw="fbase_key";class Lw{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Mw(e,t){return e.transaction([Ow],t?"readwrite":"readonly").objectStore(Ow)}function Fw(){const e=indexedDB.open(Dw,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(Ow,{keyPath:Pw})}catch(ze){n(ze)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(Ow)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Dw);return new Lw(e).toPromise()}(),t(await Fw()))})})}async function Uw(e,t,n){const r=Mw(e,!0).put({[Pw]:t,value:n});return new Lw(r).toPromise()}function jw(e,t){const n=Mw(e,!0).delete(t);return new Lw(n).toPromise()}class Vw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await Fw()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(ze){if(t++>3)throw ze;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Rw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=xw._getInstance(Rw()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Nw(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Fw();return await Uw(e,kw,"1"),await jw(e,kw),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Uw(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=Mw(e,!1).get(t),r=await new Lw(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>jw(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=Mw(e,!1).getAll();return new Lw(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Vw.type="LOCAL";const zw=Vw;Bv("rcb"),new Jy(3e4,6e4);const Bw="recaptcha";async function Ww(e,t,n){var r;const i=await n.verify();try{let o;if(qy("string"===typeof i,e,"argument-error"),qy(n.type===Bw,e,"argument-error"),o="string"===typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){qy("enroll"===t.type,e,"internal-error");const n=await function(e,t){return iv(e,"POST","/v2/accounts/mfaEnrollment:start",rv(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{qy("signin"===t.type,e,"internal-error");const n=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;qy(n,e,"missing-multi-factor-info");const a=await function(e,t){return iv(e,"POST","/v2/accounts/mfaSignIn:start",rv(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return a.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return iv(e,"POST","/v1/accounts:sendVerificationCode",rv(e,t))}(e,{phoneNumber:o.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class Hw{constructor(e){this.providerId=Hw.PROVIDER_ID,this.auth=Gv(e)}verifyPhoneNumber(e,t){return Ww(this.auth,e,Ar(t))}static credential(e,t){return ow._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Hw.credentialFromTaggedObject(t)}static credentialFromError(e){return Hw.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?ow._fromTokenResponse(n,r):null}}function qw(e,t){return t?kv(t):(qy(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Hw.PROVIDER_ID="phone",Hw.PHONE_SIGN_IN_METHOD="phone";class Kw extends Jv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return nw(e,this._buildIdpRequest())}_linkToIdToken(e,t){return nw(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return nw(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Gw(e){return bw(e.auth,new Kw(e),e.bypassAuthState)}function Qw(e){const{auth:t,user:n}=e;return qy(n,t,"internal-error"),ww(n,new Kw(e),e.bypassAuthState)}async function Yw(e){const{auth:t,user:n}=e;return qy(n,t,"internal-error"),vw(n,new Kw(e),e.bypassAuthState)}class Xw{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(ze){this.reject(ze)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:a}=e;if(o)return void this.reject(o);const s={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(s))}catch(ze){this.reject(ze)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Gw;case"linkViaPopup":case"linkViaRedirect":return Yw;case"reauthViaPopup":case"reauthViaRedirect":return Qw;default:zy(this.auth,"internal-error")}}resolve(e){Gy(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Gy(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const $w=new Jy(2e3,1e4);class Jw extends Xw{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Jw.currentPopupAction&&Jw.currentPopupAction.cancel(),Jw.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return qy(e,this.auth,"internal-error"),e}async onExecution(){Gy(1===this.filter.length,"Popup operations only handle one event");const e=Iw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(By(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(By(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Jw.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(By(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,$w.get())};e()}}Jw.currentPopupAction=null;const Zw=new Map;class eb extends Xw{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Zw.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=rb(t),r=nb(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(ze){e=()=>Promise.reject(ze)}Zw.set(this.auth._key(),e)}return this.bypassAuthState||Zw.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function tb(e,t){Zw.set(e._key(),t)}function nb(e){return kv(e._redirectPersistence)}function rb(e){return _v("pendingRedirect",e.config.apiKey,e.name)}async function ib(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=Gv(e),i=qw(r,t),o=new eb(r,i,n),a=await o.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class ob{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sb(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!sb(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(By(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ab(e))}saveEventToCache(e){this.cachedEventUids.add(ab(e)),this.lastProcessedEventTime=Date.now()}}function ab(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function sb(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const lb=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cb=/^https?/;async function ub(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return iv(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(hb(r))return}catch(n){}zy(e,"unauthorized-domain")}function hb(e){const t=Qy(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!cb.test(n))return!1;if(lb.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const db=new Jy(3e4,6e4);function fb(){const e=Aw().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let pb=null;function mb(e){return pb=pb||function(e){return new Promise((t,n)=>{var r,i,o;function a(){fb(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{fb(),n(By(e,"network-request-failed"))},timeout:db.get()})}if(null===(i=null===(r=Aw().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=Aw().gapi)||void 0===o?void 0:o.load)){const t=Bv("iframefcb");return Aw()[t]=()=>{gapi.load?a():n(By(e,"network-request-failed"))},zv("https://apis.google.com/js/api.js?onload=".concat(t)).catch(e=>n(e))}a()}}).catch(e=>{throw pb=null,e})}(e),pb}const gb=new Jy(5e3,15e3),yb={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vb=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wb(e){const t=e.config;qy(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Zy(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:zi},i=vb.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),"".concat(n,"?").concat(Sr(r).slice(1))}const bb={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class kb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(ze){}}}function Eb(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l=Object.assign(Object.assign({},bb),{width:r.toString(),height:i.toString(),top:o,left:a}),c=vr().toLowerCase();n&&(s=Nv(c)?"_blank":n),xv(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return Pv(arguments.length>0&&void 0!==arguments[0]?arguments[0]:vr())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==s)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new kb(null);const h=window.open(t||"",s,u);qy(h,e,"popup-blocked");try{h.focus()}catch(ze){}return new kb(h)}const Tb="__/auth/handler",_b="emulator/auth/handler",Sb=encodeURIComponent("fac");async function Cb(e,t,n,r,i,o){qy(e.config.authDomain,e,"auth-domain-config-required"),qy(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:zi,eventId:i};if(t instanceof lw){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))a[e]=t}if(t instanceof cw){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const s=a;for(const u of Object.keys(s))void 0===s[u]&&delete s[u];const l=await e._getAppCheckToken(),c=l?"#".concat(Sb,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Tb);return Zy(t,_b)}(e),"?").concat(Sr(s).slice(1)).concat(c)}const xb="webStorageSupport";const Ib=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Cw,this._completeRedirectFn=ib,this._overrideRedirectResult=tb}async _openPopup(e,t,n,r){var i;Gy(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Eb(e,await Cb(e,t,n,Qy(),r),Iw())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Aw().location.href=e}(await Cb(e,t,n,Qy(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Gy(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await async function(e){const t=await mb(e),n=Aw().gapi;return qy(n,e,"internal-error"),t.open({where:document.body,url:wb(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yb,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=By(e,"network-request-failed"),o=Aw().setTimeout(()=>{r(i)},gb.get());function a(){Aw().clearTimeout(o),n(t)}t.ping(a).then(a,()=>{r(i)})}))}(e),n=new ob(e);return t.register("authEvent",t=>{qy(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(xb,{type:xb},n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[xb];void 0!==i&&t(!!i),zy(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=ub(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Mv()||Iv()||Pv()}};var Nb="@firebase/auth",Ab="0.23.2";class Rb{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){qy(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Db=mr("authIdTokenMaxAge")||300;let Ob=null;var Pb;Pb="Browser",Fi(new Rr("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:s}=r.options;qy(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:s,clientPlatform:Pb,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Fv(Pb)},c=new Kv(r,i,o,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(kv);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Fi(new Rr("auth-internal",e=>(e=>new Rb(e))(Gv(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),Hi(Nb,Ab,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Pb)),Hi(Nb,Ab,"esm2017");const Lb="firebasestorage.googleapis.com",Mb="storageBucket";class Fb extends br{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(Vb(e),"Firebase Storage: ".concat(t," (").concat(Vb(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Fb.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Vb(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var Ub,jb;function Vb(e){return"storage/"+e}function zb(){return new Fb(Ub.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Bb(){return new Fb(Ub.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Wb(){return new Fb(Ub.CANCELED,"User canceled the upload/download.")}function Hb(e){return new Fb(Ub.INVALID_ARGUMENT,e)}function qb(){return new Fb(Ub.APP_DELETED,"The Firebase app was deleted.")}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(Ub||(Ub={}));class Kb{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=Kb.makeFromUrl(e,t)}catch(ze){return new Kb(e,"")}if(""===n.path)return n;throw r=e,new Fb(Ub.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}const a=t.replace(/[.]/g,"\\."),s=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(a,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(t===Lb?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}];for(let l=0;l<s.length;l++){const t=s[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new Kb(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new Fb(Ub.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class Gb{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function Qb(e,t,n,r){if(r<t)throw Hb("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw Hb("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function Yb(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function Xb(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(jb||(jb={}));class $b{constructor(e,t,n,r,i,o,a,s,l,c,u){let h=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=s,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()})}start_(){const e=(e,t)=>{if(t)return void e(!1,new Jb(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===jb.NO_ERROR,i=n.getStatus();if(!t||Xb(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===jb.ABORT;return void e(!1,new Jb(!1,null,t))}const o=-1!==this.successCodes_.indexOf(i);e(!0,new Jb(o,n))})},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(ze){r(ze)}else if(null!==i){const e=zb();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?qb():Wb())}else{r(Bb())}};this.canceled_?t(0,new Jb(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,o=null,a=!1,s=0;function l(){return 2===s}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function h(t){i=setTimeout(()=>{i=null,e(f,l())},t)}function d(){o&&clearTimeout(o)}function f(e){if(c)return void d();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return d(),void u.call(null,e,...n);if(l()||a)return d(),void u.call(null,e,...n);let o;r<64&&(r*=2),1===s?(s=2,o=0):o=1e3*(r+Math.random()),h(o)}let p=!1;function m(e){p||(p=!0,d(),c||(null!==i?(e||(s=2),clearTimeout(i),h(0)):e||(s=1)))}return h(0),o=setTimeout(()=>{a=!0,m(!0)},n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Jb{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function Zb(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}class ek{constructor(e,t){this._service=e,this._location=t instanceof Kb?t:Kb.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new ek(e,t)}get root(){const e=new Kb(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Zb(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new Kb(this._location.bucket,e);return new ek(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new Fb(Ub.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function tk(e,t){const n=null===t||void 0===t?void 0:t[Mb];return null==n?null:Kb.makeFromBucketSpec(n,e)}class nk{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=Lb,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Kb.makeFromBucketSpec(r,this._host):tk(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=Kb.makeFromBucketSpec(this._url,e):this._bucket=tk(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Qb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Qb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ek(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new Gb(qb());{const o=function(e,t,n,r,i,o){let a=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const s=Yb(e.urlParams),l=e.url+s,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new $b(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,a)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const rk="@firebase/storage",ik="0.11.2",ok="storage";function ak(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new nk(r,i,o,n,zi)}Fi(new Rr(ok,ak,"PUBLIC").setMultipleInstances(!0)),Hi(rk,ik,""),Hi(rk,ik,"esm2017");const sk=Bi({apiKey:"AIzaSyAbnjelTLvylcsfks_BukE2i2SKsoZtVog",authDomain:"magx-portal-c03d8.firebaseapp.com",projectId:"magx-portal-c03d8",storageBucket:"magx-portal-c03d8.firebasestorage.app",messagingSenderId:"1076489415753",appId:"1:1076489415753:web:0406e2db52cb5db647e398"}),lk=function(e,t){const n="string"==typeof e?e:t||"(default)",r=Ui("object"==typeof e?e:Wi(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=fr("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const o=(e=bg(e,Eg))._getSettings(),a="".concat(t,":").concat(n);if("firestore.googleapis.com"!==o.host&&o.host!==a&&Ic("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Ec.MOCK_USER;else{t=yr(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new Pc(Oc.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Ec(o)}e._authCredentials=new Uc(new Mc(t,n))}}(r,...e)}return r}(sk),ck=(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wi();const t=Ui(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Ui(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Tr(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;zy(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Ib,persistence:[zw,_w,Cw]}),r=mr("authTokenSyncURL");if(r){const e=(i=r,async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Db)return;const r=null===t||void 0===t?void 0:t.token;Ob!==r&&(Ob=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){Ar(e).beforeAuthStateChanged(t,n)}(n,e,()=>e(n.currentUser)),function(e,t,n,r){Ar(e).onIdTokenChanged(t,n,r)}(n,t=>e(t))}var i;const o=dr("auth");o&&Yv(n,"http://".concat(o))}(sk),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wi(),t=arguments.length>1?arguments[1]:void 0;e=Ar(e);const n=Ui(e,ok).getImmediate({identifier:t}),r=fr("storage");r&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:yr(i,e.app.options.projectId))}(e,t,n,r)}(n,...r)}(sk),async()=>{try{const e=uy(Cg(lk,"teachers"),my("fullname","asc"));return(await Iy(e)).docs.map(e=>u({id:e.id},e.data()))}catch(e){throw console.error("Error getting teachers:",e),e}}),uk=async e=>{try{const t=xg(lk,"teachers",e),n=await function(e){e=bg(e,Tg);const t=bg(e.firestore,Ng);return dg(Ag(t),e._key).then(n=>Oy(t,e,n))}(t);if(n.exists())return u({id:n.id},n.data());throw new Error("Teacher not found")}catch(t){throw console.error("Error getting teacher by ID:",t),t}},hk=async()=>{try{const e=(await Iy(Cg(lk,"teachers"))).docs.map(e=>e.data()),t=[...new Set(e.map(e=>e.department))];return{totalTeachers:e.length,totalDepartments:t.length}}catch(e){throw console.error("Error getting teacher statistics:",e),e}},dk=()=>{const[e,t]=(0,r.useState)([]),[n,i]=(0,r.useState)(!1),[o,a]=(0,r.useState)(null),[s,l]=(0,r.useState)({totalTeachers:0,totalDepartments:0}),c=(0,r.useCallback)(async e=>{i(!0),a(null);try{return await e()}catch(t){return console.error("Database operation error:",t),a(t.message||"An error occurred"),null}finally{i(!1)}},[]),h=(0,r.useCallback)(async()=>{const e=await c(ck);e&&t(e)},[c]),d=(0,r.useCallback)(async e=>{const t=await c(()=>(async e=>{try{return(await Ry(Cg(lk,"teachers"),u(u({},e),{},{createdAt:Py(),updatedAt:Py()}))).id}catch(o){throw console.error("Error adding teacher:",o),o}})(e));return t&&await h(),t},[c,h]),f=(0,r.useCallback)(async(e,t)=>{const n=await c(()=>(async(e,t)=>{try{const n=xg(lk,"teachers",e);return await Ny(n,u(u({},t),{},{updatedAt:Py()})),!0}catch(o){throw console.error("Error updating teacher:",o),o}})(e,t));return n&&await h(),n},[c,h]),p=(0,r.useCallback)(async e=>{const n=await c(()=>(async e=>{try{const t=uy(Cg(lk,"attendance"),dy("teacherId","==",e)),n=(await Iy(t)).docs.map(e=>Ay(e.ref));return await Promise.all(n),await Ay(xg(lk,"teachers",e)),!0}catch(o){throw console.error("Error deleting teacher:",o),o}})(e));return n&&t(t=>t.filter(t=>t.id!==e)),n},[c]),m=(0,r.useCallback)(async e=>{if(!e.trim())return void await h();const n=await c(()=>(async e=>{try{const t=uy(Cg(lk,"teachers"),dy("fullname",">=",e),dy("fullname","<=",e+"\uf8ff"),my("fullname","asc"));return(await Iy(t)).docs.map(e=>u({id:e.id},e.data()))}catch(o){throw console.error("Error searching teachers:",o),o}})(e));n&&t(n)},[c,h]),g=(0,r.useCallback)(async()=>{const e=await c(hk);e&&l(e)},[c]);return(0,r.useEffect)(()=>{h(),g()},[h,g]),{teachers:e,loading:n,error:o,stats:s,fetchTeachers:h,addTeacher:d,updateTeacher:f,deleteTeacher:p,searchTeachers:m,fetchTeacherStats:g}};function fk(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function pk(e){fk(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===a(e)&&"[object Date]"===t?new Date(e.getTime()):"number"===typeof e||"[object Number]"===t?new Date(e):("string"!==typeof e&&"[object String]"!==t||"undefined"===typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function mk(e){if(fk(1,arguments),!function(e){return fk(1,arguments),e instanceof Date||"object"===a(e)&&"[object Date]"===Object.prototype.toString.call(e)}(e)&&"number"!==typeof e)return!1;var t=pk(e);return!isNaN(Number(t))}function gk(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function yk(e,t){return fk(2,arguments),function(e,t){fk(2,arguments);var n=pk(e).getTime(),r=gk(t);return new Date(n+r)}(e,-gk(t))}function vk(e){fk(1,arguments);var t=pk(e),n=t.getUTCDay(),r=(n<1?7:0)+n-1;return t.setUTCDate(t.getUTCDate()-r),t.setUTCHours(0,0,0,0),t}function wk(e){fk(1,arguments);var t=pk(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=vk(r),o=new Date(0);o.setUTCFullYear(n,0,4),o.setUTCHours(0,0,0,0);var a=vk(o);return t.getTime()>=i.getTime()?n+1:t.getTime()>=a.getTime()?n:n-1}function bk(e){fk(1,arguments);var t=pk(e),n=vk(t).getTime()-function(e){fk(1,arguments);var t=wk(e),n=new Date(0);return n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0),vk(n)}(t).getTime();return Math.round(n/6048e5)+1}var kk={};function Ek(){return kk}function Tk(e,t){var n,r,i,o,a,s,l,c;fk(1,arguments);var u=Ek(),h=gk(null!==(n=null!==(r=null!==(i=null!==(o=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==o?o:null===t||void 0===t||null===(a=t.locale)||void 0===a||null===(s=a.options)||void 0===s?void 0:s.weekStartsOn)&&void 0!==i?i:u.weekStartsOn)&&void 0!==r?r:null===(l=u.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==n?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var d=pk(e),f=d.getUTCDay(),p=(f<h?7:0)+f-h;return d.setUTCDate(d.getUTCDate()-p),d.setUTCHours(0,0,0,0),d}function _k(e,t){var n,r,i,o,a,s,l,c;fk(1,arguments);var u=pk(e),h=u.getUTCFullYear(),d=Ek(),f=gk(null!==(n=null!==(r=null!==(i=null!==(o=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==o?o:null===t||void 0===t||null===(a=t.locale)||void 0===a||null===(s=a.options)||void 0===s?void 0:s.firstWeekContainsDate)&&void 0!==i?i:d.firstWeekContainsDate)&&void 0!==r?r:null===(l=d.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==n?n:1);if(!(f>=1&&f<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=new Date(0);p.setUTCFullYear(h+1,0,f),p.setUTCHours(0,0,0,0);var m=Tk(p,t),g=new Date(0);g.setUTCFullYear(h,0,f),g.setUTCHours(0,0,0,0);var y=Tk(g,t);return u.getTime()>=m.getTime()?h+1:u.getTime()>=y.getTime()?h:h-1}function Sk(e,t){fk(1,arguments);var n=pk(e),r=Tk(n,t).getTime()-function(e,t){var n,r,i,o,a,s,l,c;fk(1,arguments);var u=Ek(),h=gk(null!==(n=null!==(r=null!==(i=null!==(o=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==o?o:null===t||void 0===t||null===(a=t.locale)||void 0===a||null===(s=a.options)||void 0===s?void 0:s.firstWeekContainsDate)&&void 0!==i?i:u.firstWeekContainsDate)&&void 0!==r?r:null===(l=u.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==n?n:1),d=_k(e,t),f=new Date(0);return f.setUTCFullYear(d,0,h),f.setUTCHours(0,0,0,0),Tk(f,t)}(n,t).getTime();return Math.round(r/6048e5)+1}function Ck(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}const xk={y:function(e,t){var n=e.getUTCFullYear(),r=n>0?n:1-n;return Ck("yy"===t?r%100:r,t.length)},M:function(e,t){var n=e.getUTCMonth();return"M"===t?String(n+1):Ck(n+1,2)},d:function(e,t){return Ck(e.getUTCDate(),t.length)},a:function(e,t){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:function(e,t){return Ck(e.getUTCHours()%12||12,t.length)},H:function(e,t){return Ck(e.getUTCHours(),t.length)},m:function(e,t){return Ck(e.getUTCMinutes(),t.length)},s:function(e,t){return Ck(e.getUTCSeconds(),t.length)},S:function(e,t){var n=t.length,r=e.getUTCMilliseconds();return Ck(Math.floor(r*Math.pow(10,n-3)),t.length)}};var Ik="midnight",Nk="noon",Ak="morning",Rk="afternoon",Dk="evening",Ok="night",Pk={G:function(e,t,n){var r=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){var r=e.getUTCFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return xk.y(e,t)},Y:function(e,t,n,r){var i=_k(e,r),o=i>0?i:1-i;return"YY"===t?Ck(o%100,2):"Yo"===t?n.ordinalNumber(o,{unit:"year"}):Ck(o,t.length)},R:function(e,t){return Ck(wk(e),t.length)},u:function(e,t){return Ck(e.getUTCFullYear(),t.length)},Q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Ck(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Ck(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){var r=e.getUTCMonth();switch(t){case"M":case"MM":return xk.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){var r=e.getUTCMonth();switch(t){case"L":return String(r+1);case"LL":return Ck(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){var i=Sk(e,r);return"wo"===t?n.ordinalNumber(i,{unit:"week"}):Ck(i,t.length)},I:function(e,t,n){var r=bk(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):Ck(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):xk.d(e,t)},D:function(e,t,n){var r=function(e){fk(1,arguments);var t=pk(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=n-t.getTime();return Math.floor(r/864e5)+1}(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):Ck(r,t.length)},E:function(e,t,n){var r=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){var i=e.getUTCDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return Ck(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){var i=e.getUTCDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return Ck(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){var r=e.getUTCDay(),i=0===r?7:r;switch(t){case"i":return String(i);case"ii":return Ck(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){var r,i=e.getUTCHours();switch(r=12===i?Nk:0===i?Ik:i/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){var r,i=e.getUTCHours();switch(r=i>=17?Dk:i>=12?Rk:i>=4?Ak:Ok,t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){var r=e.getUTCHours()%12;return 0===r&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return xk.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):xk.H(e,t)},K:function(e,t,n){var r=e.getUTCHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):Ck(r,t.length)},k:function(e,t,n){var r=e.getUTCHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):Ck(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):xk.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):xk.s(e,t)},S:function(e,t){return xk.S(e,t)},X:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();if(0===i)return"Z";switch(t){case"X":return Mk(i);case"XXXX":case"XX":return Fk(i);default:return Fk(i,":")}},x:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"x":return Mk(i);case"xxxx":case"xx":return Fk(i);default:return Fk(i,":")}},O:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Lk(i,":");default:return"GMT"+Fk(i,":")}},z:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Lk(i,":");default:return"GMT"+Fk(i,":")}},t:function(e,t,n,r){var i=r._originalDate||e;return Ck(Math.floor(i.getTime()/1e3),t.length)},T:function(e,t,n,r){return Ck((r._originalDate||e).getTime(),t.length)}};function Lk(e,t){var n=e>0?"-":"+",r=Math.abs(e),i=Math.floor(r/60),o=r%60;if(0===o)return n+String(i);var a=t||"";return n+String(i)+a+Ck(o,2)}function Mk(e,t){return e%60===0?(e>0?"-":"+")+Ck(Math.abs(e)/60,2):Fk(e,t)}function Fk(e,t){var n=t||"",r=e>0?"-":"+",i=Math.abs(e);return r+Ck(Math.floor(i/60),2)+n+Ck(i%60,2)}const Uk=Pk;var jk=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},Vk=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},zk={p:Vk,P:function(e,t){var n,r=e.match(/(P+)(p+)?/)||[],i=r[1],o=r[2];if(!o)return jk(e,t);switch(i){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",jk(i,t)).replace("{{time}}",Vk(o,t))}};const Bk=zk;var Wk=["D","DD"],Hk=["YY","YYYY"];function qk(e,t,n){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===e)throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===e)throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===e)throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Kk={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};const Gk=function(e,t,n){var r,i=Kk[e];return r="string"===typeof i?i:1===t?i.one:i.other.replace("{{count}}",t.toString()),null!==n&&void 0!==n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Qk(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}var Yk={date:Qk({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:Qk({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:Qk({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})};var Xk={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function $k(e){return function(t,n){var r;if("formatting"===(null!==n&&void 0!==n&&n.context?String(n.context):"standalone")&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,o=null!==n&&void 0!==n&&n.width?String(n.width):i;r=e.formattingValues[o]||e.formattingValues[i]}else{var a=e.defaultWidth,s=null!==n&&void 0!==n&&n.width?String(n.width):e.defaultWidth;r=e.values[s]||e.values[a]}return r[e.argumentCallback?e.argumentCallback(t):t]}}function Jk(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;var a,s=o[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n;return}(l,function(e){return e.test(s)}):function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n;return}(l,function(e){return e.test(s)});return a=e.valueCallback?e.valueCallback(c):c,{value:a=n.valueCallback?n.valueCallback(a):a,rest:t.slice(s.length)}}}var Zk;const eE={code:"en-US",formatDistance:Gk,formatLong:Yk,formatRelative:function(e,t,n,r){return Xk[e]},localize:{ordinalNumber:function(e,t){var n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:$k({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:$k({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:$k({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:$k({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:$k({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(Zk={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.match(Zk.matchPattern);if(!n)return null;var r=n[0],i=e.match(Zk.parsePattern);if(!i)return null;var o=Zk.valueCallback?Zk.valueCallback(i[0]):i[0];return{value:o=t.valueCallback?t.valueCallback(o):o,rest:e.slice(r.length)}}),era:Jk({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:Jk({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Jk({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:Jk({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:Jk({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};var tE=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,nE=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,rE=/^'([^]*?)'?$/,iE=/''/g,oE=/[a-zA-Z]/;function aE(e,t,n){var r,i,o,a,s,l,c,u,h,d,f,p,m,g,y,v,w,b;fk(2,arguments);var k=String(t),E=Ek(),T=null!==(r=null!==(i=null===n||void 0===n?void 0:n.locale)&&void 0!==i?i:E.locale)&&void 0!==r?r:eE,_=gk(null!==(o=null!==(a=null!==(s=null!==(l=null===n||void 0===n?void 0:n.firstWeekContainsDate)&&void 0!==l?l:null===n||void 0===n||null===(c=n.locale)||void 0===c||null===(u=c.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==s?s:E.firstWeekContainsDate)&&void 0!==a?a:null===(h=E.locale)||void 0===h||null===(d=h.options)||void 0===d?void 0:d.firstWeekContainsDate)&&void 0!==o?o:1);if(!(_>=1&&_<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var S=gk(null!==(f=null!==(p=null!==(m=null!==(g=null===n||void 0===n?void 0:n.weekStartsOn)&&void 0!==g?g:null===n||void 0===n||null===(y=n.locale)||void 0===y||null===(v=y.options)||void 0===v?void 0:v.weekStartsOn)&&void 0!==m?m:E.weekStartsOn)&&void 0!==p?p:null===(w=E.locale)||void 0===w||null===(b=w.options)||void 0===b?void 0:b.weekStartsOn)&&void 0!==f?f:0);if(!(S>=0&&S<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!T.localize)throw new RangeError("locale must contain localize property");if(!T.formatLong)throw new RangeError("locale must contain formatLong property");var C=pk(e);if(!mk(C))throw new RangeError("Invalid time value");var x=function(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}(C),I=yk(C,x),N={firstWeekContainsDate:_,weekStartsOn:S,locale:T,_originalDate:C};return k.match(nE).map(function(e){var t=e[0];return"p"===t||"P"===t?(0,Bk[t])(e,T.formatLong):e}).join("").match(tE).map(function(r){if("''"===r)return"'";var i=r[0];if("'"===i)return function(e){var t=e.match(rE);if(!t)return e;return t[1].replace(iE,"'")}(r);var o,a=Uk[i];if(a)return null!==n&&void 0!==n&&n.useAdditionalWeekYearTokens||(o=r,-1===Hk.indexOf(o))||qk(r,t,String(e)),null!==n&&void 0!==n&&n.useAdditionalDayOfYearTokens||!function(e){return-1!==Wk.indexOf(e)}(r)||qk(r,t,String(e)),a(I,r,T.localize,N);if(i.match(oE))throw new RangeError("Format string contains an unescaped latin alphabet character `"+i+"`");return r}).join("")}const sE={container:{maxWidth:"1200px",margin:"0 auto",padding:"0 16px"},welcomeSection:u(u({display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:2*Fn,padding:Fn,backgroundColor:On,borderRadius:Bn},Xn),{},{flexDirection:"column",gap:Un}),welcomeTitle:{fontSize:Wn,fontWeight:Yn,color:Rn,margin:0,marginBottom:Vn,fontFamily:Gn},welcomeSubtitle:{fontSize:qn,color:Dn,margin:0,marginBottom:Vn,fontFamily:Gn},welcomeTime:{fontSize:Kn,color:_n,margin:0,fontFamily:Gn,fontWeight:Qn},notificationButton:u(u({backgroundColor:On,width:"44px",height:"44px",borderRadius:"22px",display:"flex",justifyContent:"center",alignItems:"center"},Xn),{},{border:"1px solid ".concat(Mn),alignSelf:"flex-end"}),statsContainer:{marginBottom:2*Fn},sectionTitle:{fontSize:Hn,fontWeight:Yn,color:Cn,marginBottom:Un,fontFamily:Gn},statsGrid:{display:"grid",gap:Un},statCard:u({backgroundColor:On,borderRadius:Bn,padding:Fn,display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",borderLeft:"4px solid"},Xn),statValue:{fontSize:Wn,fontWeight:Yn,margin:"".concat(Vn,"px 0"),color:Rn,fontFamily:Gn},statLabel:{fontSize:qn,color:Dn,margin:0,marginBottom:Vn,fontFamily:Gn,fontWeight:Qn},statSubtext:{fontSize:Kn,color:Dn,margin:0,fontFamily:Gn},quickActionsContainer:{marginBottom:2*Fn},quickActionsGrid:{display:"grid",gap:Un},quickActionCard:u(u({backgroundColor:On,borderRadius:Bn,padding:Fn,textAlign:"center"},Xn),{},{transition:"transform 0.2s ease",cursor:"pointer"}),actionIcon:{width:"48px",height:"48px",borderRadius:"24px",display:"flex",justifyContent:"center",alignItems:"center",margin:"0 auto",marginBottom:Un},actionTitle:{fontSize:qn,fontWeight:Yn,color:Rn,margin:0,marginBottom:Vn,fontFamily:Gn},actionDescription:{fontSize:Kn,color:Dn,margin:0,fontFamily:Gn},recentActivityContainer:{marginBottom:2*Fn},activityList:u({backgroundColor:On,borderRadius:Bn},Xn),activityItem:{display:"flex",alignItems:"center",padding:Fn,borderBottom:"1px solid ".concat(Mn)},activityIcon:{width:"32px",height:"32px",borderRadius:"16px",backgroundColor:Ln,display:"flex",justifyContent:"center",alignItems:"center",marginRight:Un,flexShrink:0},activityContent:{flex:1},activityText:{fontSize:Kn,color:Rn,margin:0,marginBottom:Vn,fontFamily:Gn,fontWeight:Qn},activityTime:{fontSize:Kn,color:Dn,margin:0,fontFamily:Gn}},lE=()=>{const{stats:e}=dk(),[t,n]=(0,r.useState)(new Date),[i,o]=(0,r.useState)(!1);(0,r.useEffect)(()=>{const e=()=>{o(window.innerWidth<=parseInt(Zn))};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,r.useEffect)(()=>{const e=setInterval(()=>{n(new Date)},6e4);return()=>clearInterval(e)},[]);const a=[{icon:En,value:(null===e||void 0===e?void 0:e.totalTeachers)||0,label:"Teachers",subtext:"Active staff",color:_n,borderColor:_n},{icon:hn,value:"92%",label:"Attendance",subtext:"This week",color:xn,borderColor:xn},{icon:un,value:(null===e||void 0===e?void 0:e.totalDepartments)||0,label:"Classes",subtext:"Active classes",color:An,borderColor:An},{icon:fn,value:"GH\u20b52.4K",label:"Allowance",subtext:"This month",color:In,borderColor:In}],s=[{icon:En,label:"Add Teacher",description:"Register new teacher",color:_n},{icon:hn,label:"Mark Attendance",description:"Record daily attendance",color:xn},{icon:fn,label:"Calculate Allowance",description:"Weekly allowance calculation",color:In},{icon:dn,label:"Canteen Payment",description:"Record canteen payments",color:An}];return(0,er.jsxs)("div",{style:sE.container,children:[(0,er.jsxs)("div",{style:sE.welcomeSection,children:[(0,er.jsxs)("div",{children:[(0,er.jsx)("h1",{style:sE.welcomeTitle,children:"Welcome Back!"}),(0,er.jsx)("p",{style:sE.welcomeSubtitle,children:(l=t,aE(l,"EEEE, MMMM do, yyyy"))}),(0,er.jsx)("p",{style:sE.welcomeTime,children:(e=>aE(e,"h:mm a"))(t)})]}),(0,er.jsx)("div",{style:sE.notificationButton,children:(0,er.jsx)(kn,{size:24,color:_n})})]}),(0,er.jsxs)("div",{style:sE.statsContainer,children:[(0,er.jsx)("h2",{style:sE.sectionTitle,children:"Overview"}),(0,er.jsx)("div",{style:u(u({},sE.statsGrid),{},{gridTemplateColumns:i?"1fr":"repeat(auto-fit, minmax(250px, 1fr))",gap:i?Vn:Un}),children:a.map((e,t)=>(0,er.jsxs)("div",{style:u(u({},sE.statCard),{},{borderLeftColor:e.borderColor}),children:[(0,er.jsx)(e.icon,{size:i?24:28,color:e.color}),(0,er.jsx)("h3",{style:sE.statValue,children:e.value}),(0,er.jsx)("p",{style:sE.statLabel,children:e.label}),(0,er.jsx)("p",{style:sE.statSubtext,children:e.subtext})]},t))})]}),(0,er.jsxs)("div",{style:sE.quickActionsContainer,children:[(0,er.jsx)("h2",{style:sE.sectionTitle,children:"Quick Actions"}),(0,er.jsx)("div",{style:u(u({},sE.quickActionsGrid),{},{gridTemplateColumns:i?"repeat(2, 1fr)":"repeat(auto-fit, minmax(250px, 1fr))",gap:i?Vn:Un}),children:s.map((e,t)=>(0,er.jsxs)("div",{style:sE.quickActionCard,children:[(0,er.jsx)("div",{style:u(u({},sE.actionIcon),{},{backgroundColor:e.color}),children:(0,er.jsx)(e.icon,{size:i?20:24,color:On})}),(0,er.jsx)("h3",{style:sE.actionTitle,children:e.label}),(0,er.jsx)("p",{style:sE.actionDescription,children:e.description})]},t))})]}),(0,er.jsxs)("div",{style:sE.recentActivityContainer,children:[(0,er.jsx)("h2",{style:sE.sectionTitle,children:"Recent Activity"}),(0,er.jsxs)("div",{style:sE.activityList,children:[(0,er.jsxs)("div",{style:sE.activityItem,children:[(0,er.jsx)("div",{style:sE.activityIcon,children:(0,er.jsx)(En,{size:16,color:_n})}),(0,er.jsxs)("div",{style:sE.activityContent,children:[(0,er.jsx)("p",{style:sE.activityText,children:"New teacher registered: John Doe"}),(0,er.jsx)("p",{style:sE.activityTime,children:"2 hours ago"})]})]}),(0,er.jsxs)("div",{style:sE.activityItem,children:[(0,er.jsx)("div",{style:sE.activityIcon,children:(0,er.jsx)(hn,{size:16,color:xn})}),(0,er.jsxs)("div",{style:sE.activityContent,children:[(0,er.jsx)("p",{style:sE.activityText,children:"Attendance marked for today"}),(0,er.jsx)("p",{style:sE.activityTime,children:"4 hours ago"})]})]}),(0,er.jsxs)("div",{style:sE.activityItem,children:[(0,er.jsx)("div",{style:sE.activityIcon,children:(0,er.jsx)(fn,{size:16,color:In})}),(0,er.jsxs)("div",{style:sE.activityContent,children:[(0,er.jsx)("p",{style:sE.activityText,children:"Allowance calculated for Week 3"}),(0,er.jsx)("p",{style:sE.activityTime,children:"1 day ago"})]})]})]})]})]});var l},cE={container:{maxWidth:"1200px",margin:"0 auto",padding:"0 16px"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:2*Fn},title:{fontSize:Wn,fontWeight:Yn,color:Rn,margin:0,fontFamily:Gn},addButton:{display:"flex",alignItems:"center",justifyContent:"center",gap:Vn,backgroundColor:_n,color:On,border:"none",borderRadius:zn,padding:"".concat(jn,"px ").concat(Fn,"px"),fontSize:Kn,fontWeight:Qn,cursor:"pointer",fontFamily:Gn,transition:"background-color 0.2s ease"},searchContainer:{marginBottom:2*Fn},searchInput:u({display:"flex",alignItems:"center",backgroundColor:On,borderRadius:zn,padding:"".concat(jn,"px ").concat(Fn,"px"),border:"1px solid ".concat(Mn)},Xn),input:{flex:1,border:"none",outline:"none",fontSize:Kn,fontFamily:Gn,marginLeft:Vn},modalOverlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,padding:"16px"},modal:u({backgroundColor:On,borderRadius:Bn,padding:2*Fn,width:"90%",maxWidth:"500px",maxHeight:"80vh",overflow:"auto"},Jn),modalHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:2*Fn,paddingBottom:Fn,borderBottom:"1px solid ".concat(Mn)},modalTitle:{fontSize:Hn,fontWeight:Yn,color:Rn,margin:0,fontFamily:Gn},closeButton:{background:"none",border:"none",cursor:"pointer",color:Pn},form:{display:"flex",flexDirection:"column",gap:Fn},formGroup:{display:"flex",flexDirection:"column",gap:Vn},label:{fontSize:Kn,fontWeight:Qn,color:Rn,fontFamily:Gn},select:{padding:"".concat(jn,"px ").concat(Fn,"px"),border:"1px solid ".concat(Mn),borderRadius:zn,fontSize:Kn,fontFamily:Gn,backgroundColor:On},formActions:{display:"flex",gap:Un,marginTop:Fn},cancelButton:{flex:1,padding:"".concat(jn,"px ").concat(Fn,"px"),border:"1px solid ".concat(Mn),borderRadius:zn,backgroundColor:On,color:Rn,fontSize:Kn,fontWeight:Qn,cursor:"pointer",fontFamily:Gn},submitButton:{flex:1,padding:"".concat(jn,"px ").concat(Fn,"px"),border:"none",borderRadius:zn,backgroundColor:_n,color:On,fontSize:Kn,fontWeight:Qn,cursor:"pointer",fontFamily:Gn},teachersList:{marginTop:2*Fn},loading:{textAlign:"center",padding:2*Fn,color:Dn,fontFamily:Gn},error:{textAlign:"center",padding:2*Fn,color:Nn,fontFamily:Gn},empty:{textAlign:"center",padding:2*Fn,color:Dn,fontFamily:Gn},grid:{display:"grid",gap:Un},teacherCard:u(u({backgroundColor:On,borderRadius:Bn,padding:Fn,display:"flex",justifyContent:"space-between",alignItems:"center"},Xn),{},{border:"1px solid ".concat(Mn)}),teacherInfo:{flex:1},teacherName:{fontSize:qn,fontWeight:Yn,color:Rn,margin:0,marginBottom:Vn,fontFamily:Gn},teacherDepartment:{fontSize:Kn,color:Dn,margin:0,fontFamily:Gn},teacherActions:{display:"flex",gap:Vn},actionButton:{width:"36px",height:"36px",border:"none",borderRadius:zn,backgroundColor:Ln,color:Rn,cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center",transition:"background-color 0.2s ease"},deleteButton:{backgroundColor:Nn,color:On}},uE=()=>{const{teachers:e,loading:t,error:n,addTeacher:i,updateTeacher:o,deleteTeacher:a,searchTeachers:s}=dk(),[l,c]=(0,r.useState)(!1),[h,d]=(0,r.useState)(null),[f,p]=(0,r.useState)(""),[m,g]=(0,r.useState)(!1),[y,v]=(0,r.useState)({fullname:"",department:""});(0,r.useEffect)(()=>{const e=()=>{g(window.innerWidth<=parseInt(Zn))};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);const w=()=>{c(!1),d(null),v({fullname:"",department:""})};return(0,er.jsxs)("div",{style:cE.container,children:[(0,er.jsxs)("div",{style:u(u({},cE.header),{},{flexDirection:m?"column":"row",gap:m?Un:0,alignItems:m?"stretch":"center"}),children:[(0,er.jsx)("h1",{style:cE.title,children:"Teachers Management"}),(0,er.jsxs)("button",{style:u(u({},cE.addButton),{},{width:m?"100%":"auto"}),onClick:()=>c(!0),children:[(0,er.jsx)(gn,{size:20}),"Add Teacher"]})]}),(0,er.jsx)("div",{style:cE.searchContainer,children:(0,er.jsxs)("div",{style:cE.searchInput,children:[(0,er.jsx)(vn,{size:20,color:Pn}),(0,er.jsx)("input",{type:"text",placeholder:"Search teachers...",value:f,onChange:e=>{const t=e.target.value;p(t),s(t)},style:cE.input})]})}),l&&(0,er.jsx)("div",{style:cE.modalOverlay,children:(0,er.jsxs)("div",{style:u(u({},cE.modal),{},{width:m?"95%":"90%",maxWidth:m?"400px":"500px",margin:m?"20px":"0"}),children:[(0,er.jsxs)("div",{style:cE.modalHeader,children:[(0,er.jsx)("h2",{style:cE.modalTitle,children:h?"Edit Teacher":"Add New Teacher"}),(0,er.jsx)("button",{style:cE.closeButton,onClick:w,children:(0,er.jsx)(Tn,{size:24})})]}),(0,er.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),y.fullname.trim()&&y.department.trim())try{h?(await o(h.id,y),tn.success("Teacher updated successfully")):(await i(y),tn.success("Teacher added successfully")),c(!1),d(null),v({fullname:"",department:""})}catch(n){tn.error(n.message||"An error occurred")}else tn.error("Please fill in all required fields")},style:cE.form,children:[(0,er.jsxs)("div",{style:cE.formGroup,children:[(0,er.jsx)("label",{style:cE.label,children:"Full Name *"}),(0,er.jsx)("input",{type:"text",value:y.fullname,onChange:e=>v(u(u({},y),{},{fullname:e.target.value})),style:cE.input,placeholder:"Enter teacher's full name",required:!0})]}),(0,er.jsxs)("div",{style:cE.formGroup,children:[(0,er.jsx)("label",{style:cE.label,children:"Department *"}),(0,er.jsxs)("select",{value:y.department,onChange:e=>v(u(u({},y),{},{department:e.target.value})),style:cE.select,required:!0,children:[(0,er.jsx)("option",{value:"",children:"Select Department"}),["Creche","Nursery","Kindergarten","Basic 1","Basic 2","Basic 3","Basic 4","Basic 5","Basic 6","Basic 7","Basic 8","Basic 9"].map(e=>(0,er.jsx)("option",{value:e,children:e},e))]})]}),(0,er.jsxs)("div",{style:u(u({},cE.formActions),{},{flexDirection:m?"column":"row"}),children:[(0,er.jsx)("button",{type:"button",style:cE.cancelButton,onClick:w,children:"Cancel"}),(0,er.jsx)("button",{type:"submit",style:cE.submitButton,children:h?"Update":"Add Teacher"})]})]})]})}),(0,er.jsx)("div",{style:cE.teachersList,children:t?(0,er.jsx)("div",{style:cE.loading,children:"Loading teachers..."}):n?(0,er.jsxs)("div",{style:cE.error,children:["Error: ",n]}):0===e.length?(0,er.jsxs)("div",{style:cE.empty,children:[(0,er.jsx)("p",{children:"No teachers found"}),(0,er.jsx)("button",{style:cE.addButton,onClick:()=>c(!0),children:"Add your first teacher"})]}):(0,er.jsx)("div",{style:u(u({},cE.grid),{},{gridTemplateColumns:m?"1fr":"repeat(auto-fill, minmax(300px, 1fr))",gap:m?Vn:Un}),children:e.map(e=>(0,er.jsxs)("div",{style:u(u({},cE.teacherCard),{},{flexDirection:m?"column":"row",alignItems:m?"stretch":"center",gap:m?Vn:0}),children:[(0,er.jsxs)("div",{style:cE.teacherInfo,children:[(0,er.jsx)("h3",{style:cE.teacherName,children:e.fullname}),(0,er.jsx)("p",{style:cE.teacherDepartment,children:e.department})]}),(0,er.jsxs)("div",{style:u(u({},cE.teacherActions),{},{justifyContent:m?"center":"flex-end"}),children:[(0,er.jsx)("button",{style:cE.actionButton,onClick:()=>(e=>{d(e),v({fullname:e.fullname,department:e.department}),c(!0)})(e),children:(0,er.jsx)(pn,{size:16})}),(0,er.jsx)("button",{style:u(u({},cE.actionButton),cE.deleteButton),onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete ".concat(e.fullname,"?")))try{await a(e.id),tn.success("Teacher deleted successfully")}catch(n){tn.error(n.message||"An error occurred")}})(e),children:(0,er.jsx)(bn,{size:16})})]})]},e.id))})})]})},hE=(e,t)=>{if(!e||!t)return 0;try{const[n,r]=e.split(":").map(Number),[i,o]=t.split(":").map(Number),a=60*n+r,s=60*i+o,l=s>=a?s-a:1440-a+s;return Math.round(l/60*100)/100}catch(n){return 0}},dE=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"08:00";if(!e)return"Absent";try{const[n,r]=e.split(":").map(Number),[i,o]=t.split(":").map(Number),a=60*n+r,s=60*i+o;return a<=s?"Present":a<=s+30?"Late":"Very Late"}catch(n){return"Unknown"}},fE=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"2024-09-01";try{const n=new Date(e),r=new Date(t),i=n.getTime()-r.getTime(),o=Math.ceil(i/864e5),a=Math.ceil(o/7);return Math.max(1,Math.min(16,a))}catch(n){return 1}},pE=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text";if("string"!==typeof e)return"";let n=e.trim();switch(t){case"name":n=n.replace(/[^a-zA-Z\s'-]/g,"");break;case"time":if(!/^([01]?[0-9]|2[0-3]):[0-5][0-9]$/.test(n))return"";break;case"date":if(!/^\d{4}-\d{2}-\d{2}$/.test(n))return"";break;default:n=n.replace(/[<>"']/g,"")}return n},mE=async e=>{let{teacherId:t,date:n,checkInTime:r,checkOutTime:i,status:o,remarks:a}=e;const s=pE(String(t||""),"text"),l=pE(n||"","date"),c=pE(r||"","time"),h=pE(i||"","time"),d=o||dE(c),f=fE(l),p=hE(c,h),m={teacherId:s,fullname:(await uk(s)).fullname,date:l,weekNum:f,checkInTime:c||null,checkOutTime:h||null,workHours:Number.isFinite(p)?p:0,status:d,remarks:(a||"").trim()};return await(async e=>{try{return(await Ry(Cg(lk,"attendance"),u(u({},e),{},{createdAt:Py(),updatedAt:Py()}))).id}catch(t){throw console.error("Error adding attendance:",t),t}})(m)},gE=async(e,t)=>{const n=u(u(u(u({},void 0!==t.checkInTime?{checkInTime:pE(t.checkInTime||"","time")||null}:{}),void 0!==t.checkOutTime?{checkOutTime:pE(t.checkOutTime||"","time")||null}:{}),void 0!==t.status?{status:t.status}:{}),void 0!==t.remarks?{remarks:(t.remarks||"").trim()}:{});if(void 0!==n.checkInTime||void 0!==n.checkOutTime){const e=hE(n.checkInTime,n.checkOutTime);n.workHours=Number.isFinite(e)?e:0,!n.status&&n.checkInTime&&(n.status=dE(n.checkInTime))}return await(async(e,t)=>{try{const n=xg(lk,"attendance",e);return await Ny(n,u(u({},t),{},{updatedAt:Py()})),!0}catch(n){throw console.error("Error updating attendance:",n),n}})(e,n),!0},yE=async e=>{const t=pE(e||"","date"),n=await(async e=>{try{const t=uy(Cg(lk,"attendance"),dy("date","==",e),my("createdAt","desc"));return(await Iy(t)).docs.map(e=>u({id:e.id},e.data()))}catch(t){throw console.error("Error getting attendance by date:",t),t}})(t);return n.map(kE)},vE=async(e,t,n)=>{const r=await(async(e,t,n)=>{try{const r=uy(Cg(lk,"attendance"),dy("teacherId","==",e),dy("date",">=",t),dy("date","<=",n),my("date","desc"));return(await Iy(r)).docs.map(e=>u({id:e.id},e.data()))}catch(r){throw console.error("Error getting attendance by teacher:",r),r}})(e,t,n);return r.map(kE)},wE=e=>{const t={totalRecords:e.length,presentCount:0,absentCount:0,lateCount:0,halfDayCount:0,avgWorkHours:0};let n=0;return e.forEach(e=>{"Present"===e.status&&(t.presentCount+=1),"Absent"===e.status&&(t.absentCount+=1),"Late"!==e.status&&"Very Late"!==e.status||(t.lateCount+=1),"Half Day"===e.status&&(t.halfDayCount+=1),n+=e.workHours||0}),t.avgWorkHours=e.length>0?Number((n/e.length).toFixed(2)):0,t},bE=e=>{const t=new Map;for(const n of e){const e=n.teacherId||"unknown";t.has(e)||t.set(e,{fullname:n.fullname||"Unknown",department:n.department||"Unknown",daysTracked:0,presentDays:0,totalWorkHours:0,avgWorkHours:0});const r=t.get(e);r.daysTracked+=1,"Present"===n.status&&(r.presentDays+=1),r.totalWorkHours+=n.workHours||0}return t.forEach(e=>{e.avgWorkHours=e.daysTracked>0?Number((e.totalWorkHours/e.daysTracked).toFixed(2)):0}),Array.from(t.values()).sort((e,t)=>e.fullname.localeCompare(t.fullname))},kE=e=>({id:e.id,teacherId:e.teacherId,fullname:e.fullname,department:e.department,date:e.date,weekNum:e.weekNum,checkInTime:e.checkInTime||null,checkOutTime:e.checkOutTime||null,workHours:e.workHours||0,status:e.status,remarks:e.remarks||""}),EE=()=>{const[e,t]=(0,r.useState)([]),[n,i]=(0,r.useState)(!1),[o,a]=(0,r.useState)(null),[s,l]=(0,r.useState)({date:null,teacherId:null,startDate:null,endDate:null}),c=(0,r.useCallback)(async e=>{i(!0),a(null);try{const n=await yE(e);t(n)}catch(ze){a(ze.message||"Failed to load attendance")}finally{i(!1)}},[]),h=(0,r.useCallback)(async(e,n,r)=>{i(!0),a(null);try{const i=await vE(e,n,r);t(i)}catch(ze){a(ze.message||"Failed to load attendance")}finally{i(!1)}},[]),d=(0,r.useCallback)(async(e,n)=>{i(!0),a(null);try{const r=await(async(e,t)=>{try{const n=uy(Cg(lk,"attendance"),dy("date",">=",e),dy("date","<=",t),my("date","desc"));return(await Iy(n)).docs.map(e=>u({id:e.id},e.data()))}catch(o){throw console.error("Error getting attendance by date range:",o),o}})(e,n);t(r)}catch(ze){a(ze.message||"Failed to load attendance")}finally{i(!1)}},[]),f=(0,r.useCallback)(async e=>{i(!0),a(null);try{const t=await mE(e);return e.date&&await c(e.date),t}catch(ze){throw a(ze.message||"Failed to save attendance"),ze}finally{i(!1)}},[c]),p=(0,r.useCallback)(async(e,t)=>{i(!0),a(null);try{await gE(e,t),s.date&&await c(s.date)}catch(ze){throw a(ze.message||"Failed to update attendance"),ze}finally{i(!1)}},[s,c]),m=(0,r.useMemo)(()=>({daily:wE(e),weekly:bE(e)}),[e]),g=(0,r.useCallback)(e=>l(t=>u(u({},t),e)),[]),y=(0,r.useCallback)(e=>fE(e),[]);return{records:e,loading:n,error:o,filters:s,loadByDate:c,loadByTeacherRange:h,loadByDateRange:d,saveRecord:f,updateRecord:p,updateFilters:g,stats:m,getWeekNumber:y}},TE=e=>{let{label:t,value:n}=e;return(0,er.jsxs)("div",{style:_E.kpiItem,children:[(0,er.jsx)("div",{style:_E.kpiValue,children:n}),(0,er.jsx)("div",{style:_E.kpiLabel,children:t})]})},_E={container:{maxWidth:"1200px",margin:"0 auto",padding:"0 16px"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:2*Fn},title:{fontSize:Wn,fontWeight:Yn,color:Rn,margin:0,fontFamily:Gn},headerActions:{display:"flex",gap:Un,alignItems:"center"},dateInputWrap:u({display:"flex",alignItems:"center",background:On,border:"1px solid ".concat(Mn),borderRadius:zn,padding:"8px 12px"},Xn),dateInput:{border:"none",outline:"none",marginLeft:8},searchWrap:u({display:"flex",alignItems:"center",background:On,border:"1px solid ".concat(Mn),borderRadius:zn,padding:"8px 12px"},Xn),searchInput:{border:"none",outline:"none",marginLeft:8},contentGrid:{display:"grid",gridTemplateColumns:"2fr 1fr",gap:Un},leftPane:{display:"flex",flexDirection:"column",gap:Un},rightPane:{display:"flex",flexDirection:"column",gap:Un},card:u({background:On,border:"1px solid ".concat(Mn),borderRadius:Bn,padding:Fn},Xn),sectionTitle:{margin:0,marginBottom:Un,fontSize:Hn,fontWeight:Yn,color:Cn},form:{display:"flex",flexDirection:"column",gap:Vn},row2:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:Vn},select:{padding:"10px 12px",borderRadius:zn,border:"1px solid ".concat(Mn)},input:{padding:"10px 12px",borderRadius:zn,border:"1px solid ".concat(Mn)},primaryBtn:{display:"flex",alignItems:"center",justifyContent:"center",gap:8,padding:"12px 16px",borderRadius:zn,background:_n,color:On,border:"none"},secondaryBtn:{display:"flex",alignItems:"center",gap:6,padding:"10px 12px",borderRadius:zn,background:On,color:Rn,border:"1px solid ".concat(Mn)},tableWrap:{width:"100%"},tableHeader:{display:"flex",padding:"10px 12px",background:Ln,borderRadius:zn,color:Dn,fontWeight:Qn},tableRow:{display:"flex",padding:"12px",borderBottom:"1px solid ".concat(Mn)},kpiGrid:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:Vn},kpiItem:{background:Ln,borderRadius:zn,padding:"12px",textAlign:"center"},kpiValue:{fontSize:Hn,fontWeight:Yn,color:Rn},kpiLabel:{fontSize:Kn,color:Dn},muted:{color:Dn},error:{color:Nn},"@media (max-width: 768px)":{}},SE=()=>{const{records:e,loading:t,error:n,loadByDate:i,saveRecord:o,updateRecord:a,stats:s,getWeekNumber:l}=EE(),{teachers:c}=dk(),[h,d]=(0,r.useState)(()=>(new Date).toISOString().slice(0,10)),[f,p]=(0,r.useState)(""),[m,g]=(0,r.useState)({teacherId:"",checkInTime:"",checkOutTime:"",status:"",remarks:""});(0,r.useEffect)(()=>{i(h)},[h,i]);const y=(0,r.useMemo)(()=>{if(!f)return e;const t=f.toLowerCase();return e.filter(e=>(e.fullname||"").toLowerCase().includes(t)||(e.department||"").toLowerCase().includes(t))},[e,f]);return(0,er.jsxs)("div",{style:_E.container,children:[(0,er.jsxs)("div",{style:_E.header,children:[(0,er.jsx)("h1",{style:_E.title,children:"Attendance"}),(0,er.jsxs)("div",{style:_E.headerActions,children:[(0,er.jsxs)("div",{style:_E.dateInputWrap,children:[(0,er.jsx)(hn,{size:18,color:Pn}),(0,er.jsx)("input",{type:"date",value:h,onChange:e=>d(e.target.value),style:_E.dateInput})]}),(0,er.jsxs)("div",{style:_E.searchWrap,children:[(0,er.jsx)(vn,{size:18,color:Pn}),(0,er.jsx)("input",{placeholder:"Search by name or department",value:f,onChange:e=>p(e.target.value),style:_E.searchInput})]}),(0,er.jsxs)("button",{onClick:async()=>{const e={reportType:"all",startDate:h,endDate:h};await(async(e,t)=>{const n='\n    <html>\n      <head>\n        <style>\n          body { font-family: Arial, sans-serif; padding: 20px; background-color: #f8f9fa; }\n          .container { max-width: 1200px; margin: 0 auto; background-color: white; padding: 30px; border-radius: 12px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); }\n          h1 { color: #333; text-align: center; margin-bottom: 30px; font-size: 28px; }\n          h3 { color: #333; margin-bottom: 15px; }\n          .header { margin-bottom: 30px; padding-bottom: 20px; border-bottom: 2px solid #e9ecef; }\n          .filter-info { margin-bottom: 20px; font-size: 14px; color: #555; }\n          .filter-info p { margin: 8px 0; }\n          table { width: 100%; border-collapse: collapse; margin-top: 20px; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }\n          th, td { border: 1px solid #dee2e6; padding: 12px; text-align: left; }\n          th { background-color: #f8f9fa; font-weight: 600; color: #495057; }\n          tr:nth-child(even) { background-color: #f8f9fa; }\n          tr:hover { background-color: #e9ecef; }\n          .summary-section { margin-top: 30px; }\n          .footer { margin-top: 40px; text-align: right; font-size: 12px; color: #6c757d; border-top: 1px solid #e9ecef; padding-top: 20px; }\n        </style>\n      </head>\n      <body>\n        <div class="container">\n          <div class="header">\n            <h1>'.concat((()=>{switch(t.reportType){case"all":return"All Teachers Attendance Report";case"teacher":return"Individual Teacher Attendance Report";case"week":return"Weekly Attendance Report";default:return"Teacher Attendance Report"}})(),'</h1>\n            <div class="filter-info">\n              ').concat((()=>{var n;let r="";return t.startDate&&t.endDate&&"N/A"!==t.startDate&&(r+="<p><strong>Date Range:</strong> ".concat(t.startDate," to ").concat(t.endDate,"</p>")),t.teacherId&&null!==(n=e[0])&&void 0!==n&&n.fullname&&(r+="<p><strong>Teacher:</strong> ".concat(e[0].fullname,"</p>")),t.weekNum&&(r+="<p><strong>Week:</strong> ".concat(t.weekNum,"</p>")),r})(),"\n            </div>\n          </div>\n          \n          <table>\n            <thead>\n              ").concat("week"===t.reportType?"\n        <tr>\n          <th>Teacher</th>\n          <th>Department</th>\n          <th>Days Tracked</th>\n          <th>Present Days</th>\n          <th>Total Work Hours</th>\n          <th>Average Hours</th>\n        </tr>\n      ":"\n      <tr>\n        <th>Teacher</th>\n        <th>Department</th>\n        <th>Date</th>\n        <th>Check-In</th>\n        <th>Check-Out</th>\n        <th>Work Hours</th>\n        <th>Status</th>\n      </tr>\n    ","\n            </thead>\n            <tbody>\n              ").concat("week"===t.reportType?e.map(e=>"\n        <tr>\n          <td>".concat(e.fullname,"</td>\n          <td>").concat(e.department,"</td>\n          <td>").concat(e.daysTracked||0,"</td>\n          <td>").concat(e.presentDays||0,"</td>\n          <td>").concat(e.totalWorkHours?"".concat(e.totalWorkHours.toFixed(1)," hrs"):"-","</td>\n          <td>").concat(e.avgWorkHours?"".concat(e.avgWorkHours.toFixed(1)," hrs"):"-","</td>\n        </tr>\n      ")).join(""):e.map(e=>"\n      <tr>\n        <td>".concat(e.fullname,"</td>\n        <td>").concat(e.department,"</td>\n        <td>").concat(e.date,"</td>\n        <td>").concat(e.checkInTime||"-","</td>\n        <td>").concat(e.checkOutTime||"-","</td>\n        <td>").concat(e.workHours>0?"".concat(e.workHours.toFixed(2)," hrs"):"-","</td>\n        <td>").concat(e.status,"</td>\n      </tr>\n    ")).join(""),'\n            </tbody>\n          </table>\n          \n          <div class="summary-section">\n            ').concat((()=>{if("week"===t.reportType){const t=e.length,n=e.reduce((e,t)=>e+(t.daysTracked||0),0),r=e.reduce((e,t)=>e+(t.presentDays||0),0),i=e.reduce((e,t)=>e+(t.totalWorkHours||0),0),o=n>0?i/n:0,a=n>0?Math.round(r/n*100):0;return'\n        <div style="margin-top: 20px; padding: 15px; background-color: #f8f9fa; border-radius: 8px;">\n          <h3 style="margin-top: 0; color: #333;">Weekly Summary</h3>\n          <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px;">\n            <div><strong>Total Teachers:</strong> '.concat(t,"</div>\n            <div><strong>Total Days Tracked:</strong> ").concat(n,"</div>\n            <div><strong>Total Present Days:</strong> ").concat(r,"</div>\n            <div><strong>Total Work Hours:</strong> ").concat(i.toFixed(1)," hrs</div>\n            <div><strong>Average Work Hours:</strong> ").concat(o.toFixed(1)," hrs</div>\n            <div><strong>Attendance Rate:</strong> ").concat(a,"%</div>\n          </div>\n        </div>\n      ")}const n=e.length,r=e.filter(e=>"Present"===e.status).length,i=e.filter(e=>"Absent"===e.status).length,o=e.filter(e=>"Late"===e.status).length,a=e.filter(e=>"Half Day"===e.status).length,s=e.reduce((e,t)=>e+(t.workHours||0),0),l=n>0?s/n:0,c=n>0?Math.round(r/n*100):0;return'\n      <div style="margin-top: 20px; padding: 15px; background-color: #f8f9fa; border-radius: 8px;">\n        <h3 style="margin-top: 0; color: #333;">Report Summary</h3>\n        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px;">\n          <div><strong>Total Records:</strong> '.concat(n,"</div>\n          <div><strong>Present:</strong> ").concat(r,"</div>\n          <div><strong>Absent:</strong> ").concat(i,"</div>\n          <div><strong>Late:</strong> ").concat(o,"</div>\n          <div><strong>Half Day:</strong> ").concat(a,"</div>\n          <div><strong>Total Work Hours:</strong> ").concat(s.toFixed(1)," hrs</div>\n          <div><strong>Average Work Hours:</strong> ").concat(l.toFixed(1)," hrs</div>\n          <div><strong>Attendance Rate:</strong> ").concat(c,"%</div>\n        </div>\n      </div>\n    ")})(),'\n          </div>\n          \n          <div class="footer">\n            <p>Generated on ').concat((new Date).toLocaleDateString()," at ").concat((new Date).toLocaleTimeString(),"</p>\n            <p>Total Records: ").concat(e.length,"</p>\n          </div>\n        </div>\n      </body>\n    </html>\n  "),r=window.open("","_blank","noopener,noreferrer");return r?(r.document.open(),r.document.write(n),r.document.close(),r.focus(),setTimeout(()=>{r.print()},300),!0):null})(y,e)},style:_E.secondaryBtn,children:[(0,er.jsx)(yn,{size:16}),"Export"]})]})]}),(0,er.jsxs)("div",{style:_E.contentGrid,children:[(0,er.jsxs)("div",{style:_E.leftPane,children:[(0,er.jsxs)("div",{style:_E.card,children:[(0,er.jsx)("h2",{style:_E.sectionTitle,children:"Mark Attendance"}),(0,er.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),m.teacherId&&(await o(u(u({},m),{},{date:h})),g({teacherId:"",checkInTime:"",checkOutTime:"",status:"",remarks:""}))},style:_E.form,children:[(0,er.jsxs)("select",{value:m.teacherId,onChange:e=>g(u(u({},m),{},{teacherId:e.target.value})),style:_E.select,required:!0,children:[(0,er.jsx)("option",{value:"",children:"Select teacher"}),c.map(e=>(0,er.jsx)("option",{value:e.id,children:e.fullname},e.id))]}),(0,er.jsxs)("div",{style:_E.row2,children:[(0,er.jsx)("input",{type:"time",value:m.checkInTime,onChange:e=>g(u(u({},m),{},{checkInTime:e.target.value})),style:_E.input,placeholder:"Check-in"}),(0,er.jsx)("input",{type:"time",value:m.checkOutTime,onChange:e=>g(u(u({},m),{},{checkOutTime:e.target.value})),style:_E.input,placeholder:"Check-out"})]}),(0,er.jsx)("input",{type:"text",value:m.remarks,onChange:e=>g(u(u({},m),{},{remarks:e.target.value})),style:_E.input,placeholder:"Remarks (optional)"}),(0,er.jsxs)("button",{type:"submit",style:_E.primaryBtn,children:[(0,er.jsx)(gn,{size:18}),"Save Attendance"]})]})]}),(0,er.jsxs)("div",{style:_E.card,children:[(0,er.jsx)("h2",{style:_E.sectionTitle,children:"Today's Records"}),t?(0,er.jsx)("div",{style:_E.muted,children:"Loading..."}):n?(0,er.jsxs)("div",{style:_E.error,children:["Error: ",n]}):(0,er.jsxs)("div",{style:_E.tableWrap,children:[(0,er.jsxs)("div",{style:_E.tableHeader,children:[(0,er.jsx)("div",{style:{flex:2},children:"Teacher"}),(0,er.jsx)("div",{style:{flex:1},children:"Department"}),(0,er.jsx)("div",{style:{flex:1},children:"Check-in"}),(0,er.jsx)("div",{style:{flex:1},children:"Check-out"}),(0,er.jsx)("div",{style:{flex:1},children:"Hours"}),(0,er.jsx)("div",{style:{flex:1},children:"Status"})]}),y.map(e=>(0,er.jsxs)("div",{style:_E.tableRow,children:[(0,er.jsx)("div",{style:{flex:2},children:e.fullname}),(0,er.jsx)("div",{style:{flex:1},children:e.department}),(0,er.jsx)("div",{style:{flex:1},children:e.checkInTime||"-"}),(0,er.jsx)("div",{style:{flex:1},children:e.checkOutTime||"-"}),(0,er.jsx)("div",{style:{flex:1},children:(e.workHours||0).toFixed(2)}),(0,er.jsx)("div",{style:{flex:1},children:e.status})]},e.id)),0===y.length&&(0,er.jsx)("div",{style:_E.muted,children:"No records"})]})]})]}),(0,er.jsxs)("div",{style:_E.rightPane,children:[(0,er.jsxs)("div",{style:_E.card,children:[(0,er.jsx)("h2",{style:_E.sectionTitle,children:"Daily Stats"}),(0,er.jsxs)("div",{style:_E.kpiGrid,children:[(0,er.jsx)(TE,{label:"Total",value:s.daily.totalRecords}),(0,er.jsx)(TE,{label:"Present",value:s.daily.presentCount}),(0,er.jsx)(TE,{label:"Absent",value:s.daily.absentCount}),(0,er.jsx)(TE,{label:"Late",value:s.daily.lateCount}),(0,er.jsx)(TE,{label:"Half Day",value:s.daily.halfDayCount}),(0,er.jsx)(TE,{label:"Avg Hours",value:s.daily.avgWorkHours})]})]}),(0,er.jsxs)("div",{style:_E.card,children:[(0,er.jsx)("h2",{style:_E.sectionTitle,children:"Week Number"}),(0,er.jsxs)("div",{style:_E.muted,children:["Week ",l(h)]})]})]})]})]})},CE=e=>{let{title:t,description:n}=e;return(0,er.jsxs)("div",{style:u(u({padding:Fn,textAlign:"center",maxWidth:"600px",margin:"0 auto",backgroundColor:On,borderRadius:Bn},Xn),{},{marginTop:2*Fn}),children:[(0,er.jsx)("h1",{style:{fontSize:Wn,fontWeight:Yn,color:Rn,marginBottom:Un,fontFamily:Gn},children:t}),(0,er.jsx)("p",{style:{fontSize:Kn,color:Dn,fontFamily:Gn,lineHeight:1.6},children:n})]})},xE=()=>(0,er.jsx)(CE,{title:"Allowance Management",description:"Calculate and manage teacher allowances, overtime payments, and other financial compensations with detailed reporting."}),IE=()=>(0,er.jsx)(CE,{title:"Students Management",description:"Manage student records, class assignments, academic performance tracking, and parent communication."}),NE=()=>(0,er.jsx)(CE,{title:"Canteen Management",description:"Track canteen sales, manage inventory, handle payments, and generate sales reports for the school canteen."}),AE=()=>(0,er.jsx)(CE,{title:"Settings",description:"Configure system preferences, manage user accounts, customize notifications, and adjust application settings."});const RE=function(){return(0,er.jsx)(De,{children:(0,er.jsxs)("div",{className:"App",children:[(0,er.jsx)(ir,{children:(0,er.jsxs)(_e,{children:[(0,er.jsx)(Ee,{path:"/",element:(0,er.jsx)(lE,{})}),(0,er.jsx)(Ee,{path:"/teachers",element:(0,er.jsx)(uE,{})}),(0,er.jsx)(Ee,{path:"/attendance",element:(0,er.jsx)(SE,{})}),(0,er.jsx)(Ee,{path:"/allowance",element:(0,er.jsx)(xE,{})}),(0,er.jsx)(Ee,{path:"/students",element:(0,er.jsx)(IE,{})}),(0,er.jsx)(Ee,{path:"/canteen",element:(0,er.jsx)(NE,{})}),(0,er.jsx)(Ee,{path:"/settings",element:(0,er.jsx)(AE,{})})]})}),(0,er.jsx)(en,{position:"top-center",toastOptions:{duration:4e3,style:{background:On,color:Rn,border:"1px solid ".concat(Mn),borderRadius:"8px",padding:"16px",fontSize:"14px",maxWidth:"90vw",wordBreak:"break-word"},success:{iconTheme:{primary:xn,secondary:On}},error:{iconTheme:{primary:Nn,secondary:On}}}})]})})};o.createRoot(document.getElementById("root")).render((0,er.jsx)(r.StrictMode,{children:(0,er.jsx)(RE,{})}))})();
//# sourceMappingURL=main.714dc5c4.js.map