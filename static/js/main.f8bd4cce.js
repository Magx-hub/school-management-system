/*! For license information please see main.f8bd4cce.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},153:(e,t,n)=>{var r=n(43),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,o={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:c,props:o,_owner:a.current}}t.jsx=u,t.jsxs=u},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function w(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var b=w.prototype=new v;b.constructor=w,m(b,y.prototype),b.isPureReactComponent=!0;var E=Array.isArray,k=Object.prototype.hasOwnProperty,_={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var i,o={},s=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)k.call(t,i)&&!T.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];o.children=u}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:s,ref:a,props:o,_owner:_.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function x(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function N(e,t,i,o,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return s=s(l=e),e=""===o?"."+x(l,0):o,E(s)?(i="",null!=e&&(i=e.replace(I,"$&/")+"/"),N(s,t,i,"",function(e){return e})):null!=s&&(C(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,i+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(I,"$&/")+"/")+e)),t.push(s)),1;if(l=0,o=""===o?".":o+":",E(e))for(var u=0;u<e.length;u++){var c=o+x(a=e[u],u);l+=N(a,t,i,c,s)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(a=e.next()).done;)l+=N(a=a.value,t,i,c=o+x(a,u++),s);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",function(e){return t.call(n,e,i++)}),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},P={transition:null},O={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:P,ReactCurrentOwner:_};function L(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:A,forEach:function(e,t,n){A(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return A(e,function(){t++}),t},toArray:function(e){return A(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=s,t.PureComponent=w,t.StrictMode=o,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.act=L,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),o=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=_.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)k.call(t,u)&&!T.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:n,type:e.type,key:o,ref:s,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=L,t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var a=2*(r+1)-1,l=e[a],u=a+1,c=e[u];if(0>o(l,n))u<i&&0>o(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[a]=n,r=a);else{if(!(u<i&&0>o(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],c=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function E(e){if(g=!1,b(e),!m)if(null!==r(u))m=!0,P(k);else{var t=r(c);null!==t&&O(E,t.startTime-e)}}function k(e,n){m=!1,g&&(g=!1,v(C),C=-1),p=!0;var o=f;try{for(b(n),d=r(u);null!==d&&(!(d.expirationTime>n)||e&&!N());){var s=d.callback;if("function"===typeof s){d.callback=null,f=d.priorityLevel;var a=s(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?d.callback=a:d===r(u)&&i(u),b(n)}else i(u);d=r(u)}if(null!==d)var l=!0;else{var h=r(c);null!==h&&O(E,h.startTime-n),l=!1}return l}finally{d=null,f=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,T=!1,S=null,C=-1,I=5,x=-1;function N(){return!(t.unstable_now()-x<I)}function A(){if(null!==S){var e=t.unstable_now();x=e;var n=!0;try{n=S(!0,e)}finally{n?_():(T=!1,S=null)}}else T=!1}if("function"===typeof w)_=function(){w(A)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,D=R.port2;R.port1.onmessage=A,_=function(){D.postMessage(null)}}else _=function(){y(A,0)};function P(e){S=e,T||(T=!0,_())}function O(e,n){C=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,P(k))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(e.sortIndex=o,n(c,e),null===r(u)&&e===r(c)&&(g?(v(C),C=-1):g=!0,O(E,o-s))):(e.sortIndex=a,n(u,e),m||p||(m=!0,P(k))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},579:(e,t,n)=>{e.exports=n(153)},730:(e,t,n)=>{var r=n(43),i=n(853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(a[e]=t,e=0;e<t.length;e++)s.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),k=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),I=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var M,F=Object.assign;function U(e){if(void 0===M)try{throw Error()}catch(Ge){var t=Ge.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var j=!1;function V(e,t){if(!e||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(qe){var r=qe}Reflect.construct(e,[],t)}else{try{t.call()}catch(qe){r=qe}e.call(t.prototype)}else{try{throw Error()}catch(qe){r=qe}e()}}catch(qe){if(qe&&r&&"string"===typeof qe.stack){for(var i=qe.stack.split("\n"),o=r.stack.split("\n"),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||i[s]!==o[a]){var l="\n"+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=a);break}}}finally{j=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function z(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case k:return"Portal";case S:return"Profiler";case T:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case x:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return B(e(t))}catch(Ge){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function J(e,t){$(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function oe(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n)})}:e}(function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function pe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=pe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach(function(e){fe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]})});var ge=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function ve(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function be(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ee=null,ke=null,_e=null;function Te(e){if(e=xi(e)){if("function"!==typeof Ee)throw Error(o(280));var t=e.stateNode;t&&(t=Ai(t),Ee(e.stateNode,e.type,t))}}function Se(e){ke?_e?_e.push(e):_e=[e]:ke=e}function Ce(){if(ke){var e=ke,t=_e;if(_e=ke=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function Ie(e,t){return e(t)}function xe(){}var Ne=!1;function Ae(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Ie(e,t,n)}finally{Ne=!1,(null!==ke||null!==_e)&&(xe(),Ce())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=Ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var De=!1;if(c)try{var Pe={};Object.defineProperty(Pe,"passive",{get:function(){De=!0}}),window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch(We){De=!1}function Oe(e,t,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Le=!1,Me=null,Fe=!1,Ue=null,je={onError:function(e){Le=!0,Me=e}};function Ve(e,t,n,r,i,o,s,a,l){Le=!1,Me=null,Oe.apply(je,arguments)}function He(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ke(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Qe(e){if(He(e)!==e)throw Error(o(188))}function Ye(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=He(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Qe(i),e;if(s===r)return Qe(i),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),null!==e?Xe(e):null}function Xe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Xe(e);if(null!==t)return t;e=e.sibling}return null}var Ze=i.unstable_scheduleCallback,tt=i.unstable_cancelCallback,nt=i.unstable_shouldYield,rt=i.unstable_requestPaint,it=i.unstable_now,ot=i.unstable_getCurrentPriorityLevel,st=i.unstable_ImmediatePriority,at=i.unstable_UserBlockingPriority,lt=i.unstable_NormalPriority,ut=i.unstable_LowPriority,ct=i.unstable_IdlePriority,ht=null,dt=null;var ft=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(pt(e)/mt|0)|0},pt=Math.log,mt=Math.LN2;var gt=64,yt=4194304;function vt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function wt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=268435455&n;if(0!==s){var a=s&~i;0!==a?r=vt(a):0!==(o&=s)&&(r=vt(o))}else 0!==(s=n&~i)?r=vt(s):0!==o&&(r=vt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ft(t)),r|=e[n],t&=~i;return r}function bt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function kt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function _t(){var e=gt;return 0===(4194240&(gt<<=1))&&(gt=64),e}function Tt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function St(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ft(t)]=n}function Ct(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ft(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var It=0;function xt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var Nt,At,Rt,Dt,Pt,Ot=!1,Lt=[],Mt=null,Ft=null,jt=null,Vt=new Map,zt=new Map,Bt=[],qt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wt(e,t){switch(e){case"focusin":case"focusout":Mt=null;break;case"dragenter":case"dragleave":Ft=null;break;case"mouseover":case"mouseout":jt=null;break;case"pointerover":case"pointerout":Vt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":zt.delete(t.pointerId)}}function Ht(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=xi(t))&&At(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Kt(e){var t=Ii(e.target);if(null!==t){var n=He(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ke(n)))return e.blockedOn=t,void Pt(e.priority,function(){Rt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=on(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=xi(n))&&At(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Qt(e,t,n){Gt(e)&&n.delete(t)}function Yt(){Ot=!1,null!==Mt&&Gt(Mt)&&(Mt=null),null!==Ft&&Gt(Ft)&&(Ft=null),null!==jt&&Gt(jt)&&(jt=null),Vt.forEach(Qt),zt.forEach(Qt)}function Xt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ot||(Ot=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Yt)))}function $t(e){function t(t){return Xt(t,e)}if(0<Lt.length){Xt(Lt[0],e);for(var n=1;n<Lt.length;n++){var r=Lt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Mt&&Xt(Mt,e),null!==Ft&&Xt(Ft,e),null!==jt&&Xt(jt,e),Vt.forEach(t),zt.forEach(t),n=0;n<Bt.length;n++)(r=Bt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Bt.length&&null===(n=Bt[0]).blockedOn;)Kt(n),null===n.blockedOn&&Bt.shift()}var Jt=b.ReactCurrentBatchConfig,Zt=!0;function en(e,t,n,r){var i=It,o=Jt.transition;Jt.transition=null;try{It=1,nn(e,t,n,r)}finally{It=i,Jt.transition=o}}function tn(e,t,n,r){var i=It,o=Jt.transition;Jt.transition=null;try{It=4,nn(e,t,n,r)}finally{It=i,Jt.transition=o}}function nn(e,t,n,r){if(Zt){var i=on(e,t,n,r);if(null===i)Zr(e,t,r,rn,n),Wt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Mt=Ht(Mt,e,t,n,r,i),!0;case"dragenter":return Ft=Ht(Ft,e,t,n,r,i),!0;case"mouseover":return jt=Ht(jt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Vt.set(o,Ht(Vt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,zt.set(o,Ht(zt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Wt(e,r),4&t&&-1<qt.indexOf(e)){for(;null!==i;){var o=xi(i);if(null!==o&&Nt(o),null===(o=on(e,t,n,r))&&Zr(e,t,r,rn,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Zr(e,t,r,null,n)}}var rn=null;function on(e,t,n,r){if(rn=null,null!==(e=Ii(e=be(r))))if(null===(t=He(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ke(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return rn=e,null}function sn(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ot()){case st:return 1;case at:return 4;case lt:case ut:return 16;case ct:return 536870912;default:return 16}default:return 16}}var an=null,ln=null,un=null;function cn(){if(un)return un;var e,t,n=ln,r=n.length,i="value"in an?an.value:an.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return un=i.slice(e,1<t?1-t:void 0)}function hn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function dn(){return!0}function fn(){return!1}function pn(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?dn:fn,this.isPropagationStopped=fn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=dn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=dn)},persist:function(){},isPersistent:dn}),t}var mn,gn,yn,vn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wn=pn(vn),bn=F({},vn,{view:0,detail:0}),En=pn(bn),kn=F({},bn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:On,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yn&&(yn&&"mousemove"===e.type?(mn=e.screenX-yn.screenX,gn=e.screenY-yn.screenY):gn=mn=0,yn=e),mn)},movementY:function(e){return"movementY"in e?e.movementY:gn}}),_n=pn(kn),Tn=pn(F({},kn,{dataTransfer:0})),Sn=pn(F({},bn,{relatedTarget:0})),Cn=pn(F({},vn,{animationName:0,elapsedTime:0,pseudoElement:0})),In=F({},vn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=pn(In),Nn=pn(F({},vn,{data:0})),An={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Dn[e])&&!!t[e]}function On(){return Pn}var Ln=F({},bn,{key:function(e){if(e.key){var t=An[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=hn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Rn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:On,charCode:function(e){return"keypress"===e.type?hn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?hn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Mn=pn(Ln),Fn=pn(F({},kn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Un=pn(F({},bn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:On})),jn=pn(F({},vn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Vn=F({},kn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),zn=pn(Vn),Bn=[9,13,27,32],qn=c&&"CompositionEvent"in window,Wn=null;c&&"documentMode"in document&&(Wn=document.documentMode);var Hn=c&&"TextEvent"in window&&!Wn,Kn=c&&(!qn||Wn&&8<Wn&&11>=Wn),Gn=String.fromCharCode(32),Qn=!1;function Yn(e,t){switch(e){case"keyup":return-1!==Bn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var $n=!1;var Jn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Jn[e.type]:"textarea"===t}function er(e,t,n,r){Se(r),0<(t=ti(t,"onChange")).length&&(n=new wn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var tr=null,nr=null;function rr(e){Gr(e,0)}function ir(e){if(G(Ni(e)))return e}function or(e,t){if("change"===e)return t}var sr=!1;if(c){var ar;if(c){var lr="oninput"in document;if(!lr){var ur=document.createElement("div");ur.setAttribute("oninput","return;"),lr="function"===typeof ur.oninput}ar=lr}else ar=!1;sr=ar&&(!document.documentMode||9<document.documentMode)}function cr(){tr&&(tr.detachEvent("onpropertychange",hr),nr=tr=null)}function hr(e){if("value"===e.propertyName&&ir(nr)){var t=[];er(t,nr,e,be(e)),Ae(rr,t)}}function dr(e,t,n){"focusin"===e?(cr(),nr=n,(tr=t).attachEvent("onpropertychange",hr)):"focusout"===e&&cr()}function fr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return ir(nr)}function pr(e,t){if("click"===e)return ir(t)}function mr(e,t){if("input"===e||"change"===e)return ir(t)}var gr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function yr(e,t){if(gr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!gr(e[i],t[i]))return!1}return!0}function vr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function wr(e,t){var n,r=vr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=vr(r)}}function br(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?br(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Er(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch($e){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function kr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function _r(e){var t=Er(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&br(n.ownerDocument.documentElement,n)){if(null!==r&&kr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=wr(n,o);var s=wr(n,r);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Tr=c&&"documentMode"in document&&11>=document.documentMode,Sr=null,Cr=null,Ir=null,xr=!1;function Nr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==Sr||Sr!==Q(r)||("selectionStart"in(r=Sr)&&kr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},Ir&&yr(Ir,r)||(Ir=r,0<(r=ti(Cr,"onSelect")).length&&(t=new wn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Sr)))}function Ar(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Rr={animationend:Ar("Animation","AnimationEnd"),animationiteration:Ar("Animation","AnimationIteration"),animationstart:Ar("Animation","AnimationStart"),transitionend:Ar("Transition","TransitionEnd")},Dr={},Pr={};function Or(e){if(Dr[e])return Dr[e];if(!Rr[e])return e;var t,n=Rr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Pr)return Dr[e]=n[t];return e}c&&(Pr=document.createElement("div").style,"AnimationEvent"in window||(delete Rr.animationend.animation,delete Rr.animationiteration.animation,delete Rr.animationstart.animation),"TransitionEvent"in window||delete Rr.transitionend.transition);var Lr=Or("animationend"),Mr=Or("animationiteration"),Fr=Or("animationstart"),Ur=Or("transitionend"),jr=new Map,Vr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zr(e,t){jr.set(e,t),l(t,[e])}for(var Br=0;Br<Vr.length;Br++){var qr=Vr[Br];zr(qr.toLowerCase(),"on"+(qr[0].toUpperCase()+qr.slice(1)))}zr(Lr,"onAnimationEnd"),zr(Mr,"onAnimationIteration"),zr(Fr,"onAnimationStart"),zr("dblclick","onDoubleClick"),zr("focusin","onFocus"),zr("focusout","onBlur"),zr(Ur,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wr));function Kr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,a,l,u){if(Ve.apply(this,arguments),Le){if(!Le)throw Error(o(198));var c=Me;Le=!1,Me=null,Fe||(Fe=!0,Ue=c)}}(r,t,void 0,e),e.currentTarget=null}function Gr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Kr(i,a,u),o=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Kr(i,a,u),o=l}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Qr(e,t){var n=t[Ti];void 0===n&&(n=t[Ti]=new Set);var r=e+"__bubble";n.has(r)||(Jr(t,e,2,!1),n.add(r))}function Yr(e,t,n){var r=0;t&&(r|=4),Jr(n,e,r,t)}var Xr="_reactListening"+Math.random().toString(36).slice(2);function $r(e){if(!e[Xr]){e[Xr]=!0,s.forEach(function(t){"selectionchange"!==t&&(Hr.has(t)||Yr(t,!1,e),Yr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Xr]||(t[Xr]=!0,Yr("selectionchange",!1,t))}}function Jr(e,t,n,r){switch(sn(t)){case 1:var i=en;break;case 4:i=tn;break;default:i=nn}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Zr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;s=s.return}for(;null!==a;){if(null===(s=Ii(a)))return;if(5===(l=s.tag)||6===l){r=o=s;continue e}a=a.parentNode}}r=r.return}Ae(function(){var r=o,i=be(n),s=[];e:{var a=jr.get(e);if(void 0!==a){var l=wn,u=e;switch(e){case"keypress":if(0===hn(n))break e;case"keydown":case"keyup":l=Mn;break;case"focusin":u="focus",l=Sn;break;case"focusout":u="blur",l=Sn;break;case"beforeblur":case"afterblur":l=Sn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=_n;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=Tn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Un;break;case Lr:case Mr:case Fr:l=Cn;break;case Ur:l=jn;break;case"scroll":l=En;break;case"wheel":l=zn;break;case"copy":case"cut":case"paste":l=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Fn}var c=0!==(4&t),h=!c&&"scroll"===e,d=c?null!==a?a+"Capture":null:a;c=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=Re(p,d))&&c.push(ei(p,m,f)))),h)break;p=p.return}0<c.length&&(a=new l(a,u,null,n,i),s.push({event:a,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===we||!(u=n.relatedTarget||n.fromElement)||!Ii(u)&&!u[_i])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?Ii(u):null)&&(u!==(h=He(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=_n,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Fn,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?a:Ni(l),f=null==u?a:Ni(u),(a=new c(m,p+"leave",l,n,i)).target=h,a.relatedTarget=f,m=null,Ii(i)===r&&((c=new c(d,p+"enter",u,n,i)).target=f,c.relatedTarget=h,m=c),h=m,l&&u)e:{for(d=u,p=0,f=c=l;f;f=ni(f))p++;for(f=0,m=d;m;m=ni(m))f++;for(;0<p-f;)c=ni(c),p--;for(;0<f-p;)d=ni(d),f--;for(;p--;){if(c===d||null!==d&&c===d.alternate)break e;c=ni(c),d=ni(d)}c=null}else c=null;null!==l&&ri(s,a,l,c,!1),null!==u&&null!==h&&ri(s,h,u,c,!0)}if("select"===(l=(a=r?Ni(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=or;else if(Zn(a))if(sr)g=mr;else{g=fr;var y=dr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=pr);switch(g&&(g=g(e,r))?er(s,g,n,i):(y&&y(e,a,r),"focusout"===e&&(y=a._wrapperState)&&y.controlled&&"number"===a.type&&ee(a,"number",a.value)),y=r?Ni(r):window,e){case"focusin":(Zn(y)||"true"===y.contentEditable)&&(Sr=y,Cr=r,Ir=null);break;case"focusout":Ir=Cr=Sr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,Nr(s,n,i);break;case"selectionchange":if(Tr)break;case"keydown":case"keyup":Nr(s,n,i)}var v;if(qn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else $n?Yn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Kn&&"ko"!==n.locale&&($n||"onCompositionStart"!==w?"onCompositionEnd"===w&&$n&&(v=cn()):(ln="value"in(an=i)?an.value:an.textContent,$n=!0)),0<(y=ti(r,w)).length&&(w=new Nn(w,e,null,n,i),s.push({event:w,listeners:y}),v?w.data=v:null!==(v=Xn(n))&&(w.data=v))),(v=Hn?function(e,t){switch(e){case"compositionend":return Xn(t);case"keypress":return 32!==t.which?null:(Qn=!0,Gn);case"textInput":return(e=t.data)===Gn&&Qn?null:e;default:return null}}(e,n):function(e,t){if($n)return"compositionend"===e||!qn&&Yn(e,t)?(e=cn(),un=ln=an=null,$n=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Kn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=ti(r,"onBeforeInput")).length&&(i=new Nn("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=v))}Gr(s,t)})}function ei(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ti(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Re(e,n))&&r.unshift(ei(e,o,i)),null!=(o=Re(e,t))&&r.push(ei(e,o,i))),e=e.return}return r}function ni(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function ri(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==u&&(a=u,i?null!=(l=Re(n,o))&&s.unshift(ei(n,l,a)):i||null!=(l=Re(n,o))&&s.push(ei(n,l,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var ii=/\r\n?/g,oi=/\u0000|\uFFFD/g;function si(e){return("string"===typeof e?e:""+e).replace(ii,"\n").replace(oi,"")}function ai(e,t,n){if(t=si(t),si(e)!==t&&n)throw Error(o(425))}function li(){}var ui=null,ci=null;function hi(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var di="function"===typeof setTimeout?setTimeout:void 0,fi="function"===typeof clearTimeout?clearTimeout:void 0,pi="function"===typeof Promise?Promise:void 0,mi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof pi?function(e){return pi.resolve(null).then(e).catch(gi)}:di;function gi(e){setTimeout(function(){throw e})}function yi(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void $t(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);$t(t)}function vi(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function wi(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var bi=Math.random().toString(36).slice(2),Ei="__reactFiber$"+bi,ki="__reactProps$"+bi,_i="__reactContainer$"+bi,Ti="__reactEvents$"+bi,Si="__reactListeners$"+bi,Ci="__reactHandles$"+bi;function Ii(e){var t=e[Ei];if(t)return t;for(var n=e.parentNode;n;){if(t=n[_i]||n[Ei]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=wi(e);null!==e;){if(n=e[Ei])return n;e=wi(e)}return t}n=(e=n).parentNode}return null}function xi(e){return!(e=e[Ei]||e[_i])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Ni(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function Ai(e){return e[ki]||null}var Ri=[],Di=-1;function Pi(e){return{current:e}}function Oi(e){0>Di||(e.current=Ri[Di],Ri[Di]=null,Di--)}function Li(e,t){Di++,Ri[Di]=e.current,e.current=t}var Mi={},Fi=Pi(Mi),Ui=Pi(!1),ji=Mi;function Vi(e,t){var n=e.type.contextTypes;if(!n)return Mi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function zi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Bi(){Oi(Ui),Oi(Fi)}function qi(e,t,n){if(Fi.current!==Mi)throw Error(o(168));Li(Fi,t),Li(Ui,n)}function Wi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,q(e)||"Unknown",i));return F({},n,r)}function Hi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Mi,ji=Fi.current,Li(Fi,e),Li(Ui,Ui.current),!0}function Ki(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Wi(e,t,ji),r.__reactInternalMemoizedMergedChildContext=e,Oi(Ui),Oi(Fi),Li(Fi,e)):Oi(Ui),Li(Ui,n)}var Gi=null,Qi=!1,Yi=!1;function Xi(e){null===Gi?Gi=[e]:Gi.push(e)}function $i(){if(!Yi&&null!==Gi){Yi=!0;var e=0,t=It;try{var n=Gi;for(It=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Gi=null,Qi=!1}catch(ze){throw null!==Gi&&(Gi=Gi.slice(e+1)),Ze(st,$i),ze}finally{It=t,Yi=!1}}return null}var Ji=[],Zi=0,eo=null,to=0,no=[],ro=0,io=null,oo=1,so="";function ao(e,t){Ji[Zi++]=to,Ji[Zi++]=eo,eo=e,to=t}function lo(e,t,n){no[ro++]=oo,no[ro++]=so,no[ro++]=io,io=e;var r=oo;e=so;var i=32-ft(r)-1;r&=~(1<<i),n+=1;var o=32-ft(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,oo=1<<32-ft(t)+i|n<<i|r,so=o+e}else oo=1<<o|n<<i|r,so=e}function uo(e){null!==e.return&&(ao(e,1),lo(e,1,0))}function co(e){for(;e===eo;)eo=Ji[--Zi],Ji[Zi]=null,to=Ji[--Zi],Ji[Zi]=null;for(;e===io;)io=no[--ro],no[ro]=null,so=no[--ro],no[ro]=null,oo=no[--ro],no[ro]=null}var ho=null,fo=null,po=!1,mo=null;function go(e,t){var n=zu(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function vo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ho=e,fo=vi(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ho=e,fo=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==io?{id:oo,overflow:so}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=zu(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ho=e,fo=null,!0);default:return!1}}function wo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function bo(e){if(po){var t=fo;if(t){var n=t;if(!vo(e,t)){if(wo(e))throw Error(o(418));t=vi(n.nextSibling);var r=ho;t&&vo(e,t)?go(r,n):(e.flags=-4097&e.flags|2,po=!1,ho=e)}}else{if(wo(e))throw Error(o(418));e.flags=-4097&e.flags|2,po=!1,ho=e}}}function Eo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ho=e}function ko(e){if(e!==ho)return!1;if(!po)return Eo(e),po=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!hi(e.type,e.memoizedProps)),t&&(t=fo)){if(wo(e))throw _o(),Error(o(418));for(;t;)go(e,t),t=vi(t.nextSibling)}if(Eo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){fo=vi(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}fo=null}}else fo=ho?vi(e.stateNode.nextSibling):null;return!0}function _o(){for(var e=fo;e;)e=vi(e.nextSibling)}function To(){fo=ho=null,po=!1}function So(e){null===mo?mo=[e]:mo.push(e)}var Co=b.ReactCurrentBatchConfig;function Io(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=i.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function xo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function No(e){return(0,e._init)(e._payload)}function Ao(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=qu(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Gu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var o=n.type;return o===_?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===D&&No(o)===t.type)?((r=i(t,n.props)).ref=Io(e,t,n),r.return=e,r):((r=Wu(n.type,n.key,n.props,null,e.mode,r)).ref=Io(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Qu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,o){return null===t||7!==t.tag?((t=Hu(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Gu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case E:return(n=Wu(t.type,t.key,t.props,null,e.mode,n)).ref=Io(e,null,t),n.return=e,n;case k:return(t=Qu(t,e.mode,n)).return=e,t;case D:return d(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Hu(t,e.mode,n,null)).return=e,t;xo(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===i?u(e,t,n,r):null;case k:return n.key===i?c(e,t,n,r):null;case D:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:h(e,t,n,r,null);xo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case E:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case k:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case D:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return h(t,e=e.get(n)||null,r,i,null);xo(t,r)}return null}function m(i,o,a,l){for(var u=null,c=null,h=o,m=o=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var y=f(i,h,a[m],l);if(null===y){null===h&&(h=g);break}e&&h&&null===y.alternate&&t(i,h),o=s(y,o,m),null===c?u=y:c.sibling=y,c=y,h=g}if(m===a.length)return n(i,h),po&&ao(i,m),u;if(null===h){for(;m<a.length;m++)null!==(h=d(i,a[m],l))&&(o=s(h,o,m),null===c?u=h:c.sibling=h,c=h);return po&&ao(i,m),u}for(h=r(i,h);m<a.length;m++)null!==(g=p(h,i,m,a[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),o=s(g,o,m),null===c?u=g:c.sibling=g,c=g);return e&&h.forEach(function(e){return t(i,e)}),po&&ao(i,m),u}function g(i,a,l,u){var c=L(l);if("function"!==typeof c)throw Error(o(150));if(null==(l=c.call(l)))throw Error(o(151));for(var h=c=null,m=a,g=a=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var w=f(i,m,v.value,u);if(null===w){null===m&&(m=y);break}e&&m&&null===w.alternate&&t(i,m),a=s(w,a,g),null===h?c=w:h.sibling=w,h=w,m=y}if(v.done)return n(i,m),po&&ao(i,g),c;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=d(i,v.value,u))&&(a=s(v,a,g),null===h?c=v:h.sibling=v,h=v);return po&&ao(i,g),c}for(m=r(i,m);!v.done;g++,v=l.next())null!==(v=p(m,i,g,v.value,u))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),a=s(v,a,g),null===h?c=v:h.sibling=v,h=v);return e&&m.forEach(function(e){return t(i,e)}),po&&ao(i,g),c}return function e(r,o,s,l){if("object"===typeof s&&null!==s&&s.type===_&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case E:e:{for(var u=s.key,c=o;null!==c;){if(c.key===u){if((u=s.type)===_){if(7===c.tag){n(r,c.sibling),(o=i(c,s.props.children)).return=r,r=o;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===D&&No(u)===c.type){n(r,c.sibling),(o=i(c,s.props)).ref=Io(r,c,s),o.return=r,r=o;break e}n(r,c);break}t(r,c),c=c.sibling}s.type===_?((o=Hu(s.props.children,r.mode,l,s.key)).return=r,r=o):((l=Wu(s.type,s.key,s.props,null,r.mode,l)).ref=Io(r,o,s),l.return=r,r=l)}return a(r);case k:e:{for(c=s.key;null!==o;){if(o.key===c){if(4===o.tag&&o.stateNode.containerInfo===s.containerInfo&&o.stateNode.implementation===s.implementation){n(r,o.sibling),(o=i(o,s.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Qu(s,r.mode,l)).return=r,r=o}return a(r);case D:return e(r,o,(c=s._init)(s._payload),l)}if(te(s))return m(r,o,s,l);if(L(s))return g(r,o,s,l);xo(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,s)).return=r,r=o):(n(r,o),(o=Gu(s,r.mode,l)).return=r,r=o),a(r)):n(r,o)}}var Ro=Ao(!0),Do=Ao(!1),Po=Pi(null),Oo=null,Lo=null,Mo=null;function Fo(){Mo=Lo=Oo=null}function Uo(e){var t=Po.current;Oi(Po),e._currentValue=t}function jo(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Vo(e,t){Oo=e,Mo=Lo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Na=!0),e.firstContext=null)}function zo(e){var t=e._currentValue;if(Mo!==e)if(e={context:e,memoizedValue:t,next:null},null===Lo){if(null===Oo)throw Error(o(308));Lo=e,Oo.dependencies={lanes:0,firstContext:e}}else Lo=Lo.next=e;return t}var Bo=null;function qo(e){null===Bo?Bo=[e]:Bo.push(e)}function Wo(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,qo(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ho(e,r)}function Ho(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ko=!1;function Go(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Yo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Xo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ul)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ho(e,n)}return null===(i=r.interleaved)?(t.next=t,qo(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ho(e,n)}function $o(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ct(e,n)}}function Jo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Zo(e,t,n,r){var i=e.updateQueue;Ko=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,u=l.next;l.next=null,null===s?o=u:s.next=u,s=l;var c=e.alternate;null!==c&&((a=(c=c.updateQueue).lastBaseUpdate)!==s&&(null===a?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(null!==o){var h=i.baseState;for(s=0,c=u=l=null,a=o;;){var d=a.lane,f=a.eventTime;if((r&d)===d){null!==c&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(d=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(f,h,d):p)||void 0===d)break e;h=F({},h,d);break e;case 2:Ko=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===c?(u=c=f,l=h):c=c.next=f,s|=d;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(d=a).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===c&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Kl|=s,e.lanes=s,e.memoizedState=h}}function es(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var ts={},ns=Pi(ts),rs=Pi(ts),is=Pi(ts);function os(e){if(e===ts)throw Error(o(174));return e}function ss(e,t){switch(Li(is,t),Li(rs,e),Li(ns,ts),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Oi(ns),Li(ns,t)}function as(){Oi(ns),Oi(rs),Oi(is)}function ls(e){os(is.current);var t=os(ns.current),n=le(t,e.type);t!==n&&(Li(rs,e),Li(ns,n))}function us(e){rs.current===e&&(Oi(ns),Oi(rs))}var cs=Pi(0);function hs(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ds=[];function fs(){for(var e=0;e<ds.length;e++)ds[e]._workInProgressVersionPrimary=null;ds.length=0}var ps=b.ReactCurrentDispatcher,ms=b.ReactCurrentBatchConfig,gs=0,ys=null,vs=null,ws=null,bs=!1,Es=!1,ks=0,_s=0;function Ts(){throw Error(o(321))}function Ss(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!gr(e[n],t[n]))return!1;return!0}function Cs(e,t,n,r,i,s){if(gs=s,ys=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ps.current=null===e||null===e.memoizedState?ua:ca,e=n(r,i),Es){s=0;do{if(Es=!1,ks=0,25<=s)throw Error(o(301));s+=1,ws=vs=null,t.updateQueue=null,ps.current=ha,e=n(r,i)}while(Es)}if(ps.current=la,t=null!==vs&&null!==vs.next,gs=0,ws=vs=ys=null,bs=!1,t)throw Error(o(300));return e}function Is(){var e=0!==ks;return ks=0,e}function xs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ws?ys.memoizedState=ws=e:ws=ws.next=e,ws}function Ns(){if(null===vs){var e=ys.alternate;e=null!==e?e.memoizedState:null}else e=vs.next;var t=null===ws?ys.memoizedState:ws.next;if(null!==t)ws=t,vs=e;else{if(null===e)throw Error(o(310));e={memoizedState:(vs=e).memoizedState,baseState:vs.baseState,baseQueue:vs.baseQueue,queue:vs.queue,next:null},null===ws?ys.memoizedState=ws=e:ws=ws.next=e}return ws}function As(e,t){return"function"===typeof t?t(e):t}function Rs(e){var t=Ns(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=vs,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,r=r.baseState;var l=a=null,u=null,c=s;do{var h=c.lane;if((gs&h)===h)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=d,a=r):u=u.next=d,ys.lanes|=h,Kl|=h}c=c.next}while(null!==c&&c!==s);null===u?a=r:u.next=l,gr(r,t.memoizedState)||(Na=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{s=i.lane,ys.lanes|=s,Kl|=s,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ds(e){var t=Ns(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{s=e(s,a.action),a=a.next}while(a!==i);gr(s,t.memoizedState)||(Na=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Ps(){}function Os(e,t){var n=ys,r=Ns(),i=t(),s=!gr(r.memoizedState,i);if(s&&(r.memoizedState=i,Na=!0),r=r.queue,Ks(Fs.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==ws&&1&ws.memoizedState.tag){if(n.flags|=2048,zs(9,Ms.bind(null,n,r,i,t),void 0,null),null===jl)throw Error(o(349));0!==(30&gs)||Ls(n,t,i)}return i}function Ls(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ys.updateQueue)?(t={lastEffect:null,stores:null},ys.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ms(e,t,n,r){t.value=n,t.getSnapshot=r,Us(t)&&js(e)}function Fs(e,t,n){return n(function(){Us(t)&&js(e)})}function Us(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!gr(e,n)}catch($e){return!0}}function js(e){var t=Ho(e,1);null!==t&&du(t,e,1,-1)}function Vs(e){var t=xs();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:As,lastRenderedState:e},t.queue=e,e=e.dispatch=ia.bind(null,ys,e),[t.memoizedState,e]}function zs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ys.updateQueue)?(t={lastEffect:null,stores:null},ys.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Bs(){return Ns().memoizedState}function qs(e,t,n,r){var i=xs();ys.flags|=e,i.memoizedState=zs(1|t,n,void 0,void 0===r?null:r)}function Ws(e,t,n,r){var i=Ns();r=void 0===r?null:r;var o=void 0;if(null!==vs){var s=vs.memoizedState;if(o=s.destroy,null!==r&&Ss(r,s.deps))return void(i.memoizedState=zs(t,n,o,r))}ys.flags|=e,i.memoizedState=zs(1|t,n,o,r)}function Hs(e,t){return qs(8390656,8,e,t)}function Ks(e,t){return Ws(2048,8,e,t)}function Gs(e,t){return Ws(4,2,e,t)}function Qs(e,t){return Ws(4,4,e,t)}function Ys(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Xs(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ws(4,4,Ys.bind(null,t,e),n)}function $s(){}function Js(e,t){var n=Ns();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ss(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Zs(e,t){var n=Ns();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ss(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ea(e,t,n){return 0===(21&gs)?(e.baseState&&(e.baseState=!1,Na=!0),e.memoizedState=n):(gr(n,t)||(n=_t(),ys.lanes|=n,Kl|=n,e.baseState=!0),t)}function ta(e,t){var n=It;It=0!==n&&4>n?n:4,e(!0);var r=ms.transition;ms.transition={};try{e(!1),t()}finally{It=n,ms.transition=r}}function na(){return Ns().memoizedState}function ra(e,t,n){var r=hu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},oa(e))sa(t,n);else if(null!==(n=Wo(e,t,n,r))){du(n,e,r,cu()),aa(n,t,r)}}function ia(e,t,n){var r=hu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(oa(e))sa(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,gr(a,s)){var l=t.interleaved;return null===l?(i.next=i,qo(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(qe){}null!==(n=Wo(e,t,i,r))&&(du(n,e,r,i=cu()),aa(n,t,r))}}function oa(e){var t=e.alternate;return e===ys||null!==t&&t===ys}function sa(e,t){Es=bs=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function aa(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ct(e,n)}}var la={readContext:zo,useCallback:Ts,useContext:Ts,useEffect:Ts,useImperativeHandle:Ts,useInsertionEffect:Ts,useLayoutEffect:Ts,useMemo:Ts,useReducer:Ts,useRef:Ts,useState:Ts,useDebugValue:Ts,useDeferredValue:Ts,useTransition:Ts,useMutableSource:Ts,useSyncExternalStore:Ts,useId:Ts,unstable_isNewReconciler:!1},ua={readContext:zo,useCallback:function(e,t){return xs().memoizedState=[e,void 0===t?null:t],e},useContext:zo,useEffect:Hs,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,qs(4194308,4,Ys.bind(null,t,e),n)},useLayoutEffect:function(e,t){return qs(4194308,4,e,t)},useInsertionEffect:function(e,t){return qs(4,2,e,t)},useMemo:function(e,t){var n=xs();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=xs();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ra.bind(null,ys,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},xs().memoizedState=e},useState:Vs,useDebugValue:$s,useDeferredValue:function(e){return xs().memoizedState=e},useTransition:function(){var e=Vs(!1),t=e[0];return e=ta.bind(null,e[1]),xs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ys,i=xs();if(po){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===jl)throw Error(o(349));0!==(30&gs)||Ls(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Hs(Fs.bind(null,r,s,e),[e]),r.flags|=2048,zs(9,Ms.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=xs(),t=jl.identifierPrefix;if(po){var n=so;t=":"+t+"R"+(n=(oo&~(1<<32-ft(oo)-1)).toString(32)+n),0<(n=ks++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=_s++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ca={readContext:zo,useCallback:Js,useContext:zo,useEffect:Ks,useImperativeHandle:Xs,useInsertionEffect:Gs,useLayoutEffect:Qs,useMemo:Zs,useReducer:Rs,useRef:Bs,useState:function(){return Rs(As)},useDebugValue:$s,useDeferredValue:function(e){return ea(Ns(),vs.memoizedState,e)},useTransition:function(){return[Rs(As)[0],Ns().memoizedState]},useMutableSource:Ps,useSyncExternalStore:Os,useId:na,unstable_isNewReconciler:!1},ha={readContext:zo,useCallback:Js,useContext:zo,useEffect:Ks,useImperativeHandle:Xs,useInsertionEffect:Gs,useLayoutEffect:Qs,useMemo:Zs,useReducer:Ds,useRef:Bs,useState:function(){return Ds(As)},useDebugValue:$s,useDeferredValue:function(e){var t=Ns();return null===vs?t.memoizedState=e:ea(t,vs.memoizedState,e)},useTransition:function(){return[Ds(As)[0],Ns().memoizedState]},useMutableSource:Ps,useSyncExternalStore:Os,useId:na,unstable_isNewReconciler:!1};function da(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function fa(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var pa={isMounted:function(e){return!!(e=e._reactInternals)&&He(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=cu(),i=hu(e),o=Yo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Xo(e,o,i))&&(du(t,e,i,r),$o(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=cu(),i=hu(e),o=Yo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Xo(e,o,i))&&(du(t,e,i,r),$o(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=cu(),r=hu(e),i=Yo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Xo(e,i,r))&&(du(t,e,r,n),$o(t,e,r))}};function ma(e,t,n,r,i,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!yr(n,r)||!yr(i,o))}function ga(e,t,n){var r=!1,i=Mi,o=t.contextType;return"object"===typeof o&&null!==o?o=zo(o):(i=zi(t)?ji:Fi.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Vi(e,i):Mi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=pa,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function ya(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&pa.enqueueReplaceState(t,t.state,null)}function va(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Go(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=zo(o):(o=zi(t)?ji:Fi.current,i.context=Vi(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(fa(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&pa.enqueueReplaceState(i,i.state,null),Zo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function wa(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(Je){i="\nError generating stack: "+Je.message+"\n"+Je.stack}return{value:e,source:t,stack:i,digest:null}}function ba(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function Ea(e,t){try{console.error(t.value)}catch(Ge){setTimeout(function(){throw Ge})}}var ka="function"===typeof WeakMap?WeakMap:Map;function _a(e,t,n){(n=Yo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){eu||(eu=!0,tu=r),Ea(0,t)},n}function Ta(e,t,n){(n=Yo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Ea(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){Ea(0,t),"function"!==typeof r&&(null===nu?nu=new Set([this]):nu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function Sa(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ka;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Lu.bind(null,e,t,n),t.then(e,e))}function Ca(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function Ia(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Yo(-1,1)).tag=2,Xo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var xa=b.ReactCurrentOwner,Na=!1;function Aa(e,t,n,r){t.child=null===e?Do(t,null,n,r):Ro(t,e.child,n,r)}function Ra(e,t,n,r,i){n=n.render;var o=t.ref;return Vo(t,i),r=Cs(e,t,n,r,o,i),n=Is(),null===e||Na?(po&&n&&uo(t),t.flags|=1,Aa(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,el(e,t,i))}function Da(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Bu(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Wu(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Pa(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:yr)(s,r)&&e.ref===t.ref)return el(e,t,i)}return t.flags|=1,(e=qu(o,r)).ref=t.ref,e.return=t,t.child=e}function Pa(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(yr(o,r)&&e.ref===t.ref){if(Na=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,el(e,t,i);0!==(131072&e.flags)&&(Na=!0)}}return Ma(e,t,n,r,i)}function Oa(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Li(ql,Bl),Bl|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Li(ql,Bl),Bl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Li(ql,Bl),Bl|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Li(ql,Bl),Bl|=r;return Aa(e,t,i,n),t.child}function La(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ma(e,t,n,r,i){var o=zi(n)?ji:Fi.current;return o=Vi(t,o),Vo(t,i),n=Cs(e,t,n,r,o,i),r=Is(),null===e||Na?(po&&r&&uo(t),t.flags|=1,Aa(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,el(e,t,i))}function Fa(e,t,n,r,i){if(zi(n)){var o=!0;Hi(t)}else o=!1;if(Vo(t,i),null===t.stateNode)Za(e,t),ga(t,n,r),va(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,u=n.contextType;"object"===typeof u&&null!==u?u=zo(u):u=Vi(t,u=zi(n)?ji:Fi.current);var c=n.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof s.getSnapshotBeforeUpdate;h||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||l!==u)&&ya(t,s,r,u),Ko=!1;var d=t.memoizedState;s.state=d,Zo(t,r,s,i),l=t.memoizedState,a!==r||d!==l||Ui.current||Ko?("function"===typeof c&&(fa(t,n,c,r),l=t.memoizedState),(a=Ko||ma(t,n,a,r,d,l,u))?(h||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Qo(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:da(t.type,a),s.props=u,h=t.pendingProps,d=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=zo(l):l=Vi(t,l=zi(n)?ji:Fi.current);var f=n.getDerivedStateFromProps;(c="function"===typeof f||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==h||d!==l)&&ya(t,s,r,l),Ko=!1,d=t.memoizedState,s.state=d,Zo(t,r,s,i);var p=t.memoizedState;a!==h||d!==p||Ui.current||Ko?("function"===typeof f&&(fa(t,n,f,r),p=t.memoizedState),(u=Ko||ma(t,n,u,r,d,p,l)||!1)?(c||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=u):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Ua(e,t,n,r,o,i)}function Ua(e,t,n,r,i,o){La(e,t);var s=0!==(128&t.flags);if(!r&&!s)return i&&Ki(t,n,!1),el(e,t,o);r=t.stateNode,xa.current=t;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=Ro(t,e.child,null,o),t.child=Ro(t,null,a,o)):Aa(e,t,a,o),t.memoizedState=r.state,i&&Ki(t,n,!0),t.child}function ja(e){var t=e.stateNode;t.pendingContext?qi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&qi(0,t.context,!1),ss(e,t.containerInfo)}function Va(e,t,n,r,i){return To(),So(i),t.flags|=256,Aa(e,t,n,r),t.child}var za,Ba,qa,Wa,Ha={dehydrated:null,treeContext:null,retryLane:0};function Ka(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ga(e,t,n){var r,i=t.pendingProps,s=cs.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Li(cs,1&s),null===e)return bo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Ku(l,i,0,null),e=Hu(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ka(n),t.memoizedState=Ha,e):Qa(t,l));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,i,s,a){if(n)return 256&t.flags?(t.flags&=-257,Ya(e,t,a,r=ba(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Ku({mode:"visible",children:r.children},i,0,null),(s=Hu(s,i,a,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&Ro(t,e.child,null,a),t.child.memoizedState=Ka(a),t.memoizedState=Ha,s);if(0===(1&t.mode))return Ya(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Ya(e,t,a,r=ba(s=Error(o(419)),r,void 0))}if(l=0!==(a&e.childLanes),Na||l){if(null!==(r=jl)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==s.retryLane&&(s.retryLane=i,Ho(e,i),du(r,e,i,-1))}return Su(),Ya(e,t,a,r=ba(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Fu.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,fo=vi(i.nextSibling),ho=t,po=!0,mo=null,null!==e&&(no[ro++]=oo,no[ro++]=so,no[ro++]=io,oo=e.id,so=e.overflow,io=t),t=Qa(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,s,n);if(a){a=i.fallback,l=t.mode,r=(s=e.child).sibling;var u={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==s?((i=t.child).childLanes=0,i.pendingProps=u,t.deletions=null):(i=qu(s,u)).subtreeFlags=14680064&s.subtreeFlags,null!==r?a=qu(r,a):(a=Hu(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?Ka(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Ha,i}return e=(a=e.child).sibling,i=qu(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Qa(e,t){return(t=Ku({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ya(e,t,n,r){return null!==r&&So(r),Ro(t,e.child,null,n),(e=Qa(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Xa(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),jo(e.return,t,n)}function $a(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Ja(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Aa(e,t,r.children,n),0!==(2&(r=cs.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Xa(e,n,t);else if(19===e.tag)Xa(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Li(cs,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===hs(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),$a(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===hs(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}$a(t,!0,n,null,o);break;case"together":$a(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Za(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function el(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Kl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=qu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=qu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function tl(e,t){if(!po)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function nl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function rl(e,t,n){var r=t.pendingProps;switch(co(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nl(t),null;case 1:case 17:return zi(t.type)&&Bi(),nl(t),null;case 3:return r=t.stateNode,as(),Oi(Ui),Oi(Fi),fs(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ko(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==mo&&(gu(mo),mo=null))),Ba(e,t),nl(t),null;case 5:us(t);var i=os(is.current);if(n=t.type,null!==e&&null!=t.stateNode)qa(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return nl(t),null}if(e=os(ns.current),ko(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Ei]=t,r[ki]=s,e=0!==(1&t.mode),n){case"dialog":Qr("cancel",r),Qr("close",r);break;case"iframe":case"object":case"embed":Qr("load",r);break;case"video":case"audio":for(i=0;i<Wr.length;i++)Qr(Wr[i],r);break;case"source":Qr("error",r);break;case"img":case"image":case"link":Qr("error",r),Qr("load",r);break;case"details":Qr("toggle",r);break;case"input":X(r,s),Qr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Qr("invalid",r);break;case"textarea":ie(r,s),Qr("invalid",r)}for(var l in ye(n,s),i=null,s)if(s.hasOwnProperty(l)){var u=s[l];"children"===l?"string"===typeof u?r.textContent!==u&&(!0!==s.suppressHydrationWarning&&ai(r.textContent,u,e),i=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==s.suppressHydrationWarning&&ai(r.textContent,u,e),i=["children",""+u]):a.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Qr("scroll",r)}switch(n){case"input":K(r),Z(r,s,!0);break;case"textarea":K(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=li)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[Ei]=t,e[ki]=r,za(e,t,!1,!1),t.stateNode=e;e:{switch(l=ve(n,r),n){case"dialog":Qr("cancel",e),Qr("close",e),i=r;break;case"iframe":case"object":case"embed":Qr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Wr.length;i++)Qr(Wr[i],e);i=r;break;case"source":Qr("error",e),i=r;break;case"img":case"image":case"link":Qr("error",e),Qr("load",e),i=r;break;case"details":Qr("toggle",e),i=r;break;case"input":X(e,r),i=Y(e,r),Qr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Qr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Qr("invalid",e)}for(s in ye(n,i),u=i)if(u.hasOwnProperty(s)){var c=u[s];"style"===s?me(e,c):"dangerouslySetInnerHTML"===s?null!=(c=c?c.__html:void 0)&&ce(e,c):"children"===s?"string"===typeof c?("textarea"!==n||""!==c)&&he(e,c):"number"===typeof c&&he(e,""+c):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=c&&"onScroll"===s&&Qr("scroll",e):null!=c&&w(e,s,c,l))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=li)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return nl(t),null;case 6:if(e&&null!=t.stateNode)Wa(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=os(is.current),os(ns.current),ko(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ei]=t,(s=r.nodeValue!==n)&&null!==(e=ho))switch(e.tag){case 3:ai(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&ai(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Ei]=t,t.stateNode=r}return nl(t),null;case 13:if(Oi(cs),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(po&&null!==fo&&0!==(1&t.mode)&&0===(128&t.flags))_o(),To(),t.flags|=98560,s=!1;else if(s=ko(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(o(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(o(317));s[Ei]=t}else To(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;nl(t),s=!1}else null!==mo&&(gu(mo),mo=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&cs.current)?0===Wl&&(Wl=3):Su())),null!==t.updateQueue&&(t.flags|=4),nl(t),null);case 4:return as(),Ba(e,t),null===e&&$r(t.stateNode.containerInfo),nl(t),null;case 10:return Uo(t.type._context),nl(t),null;case 19:if(Oi(cs),null===(s=t.memoizedState))return nl(t),null;if(r=0!==(128&t.flags),null===(l=s.rendering))if(r)tl(s,!1);else{if(0!==Wl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=hs(e))){for(t.flags|=128,tl(s,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Li(cs,1&cs.current|2),t.child}e=e.sibling}null!==s.tail&&it()>Jl&&(t.flags|=128,r=!0,tl(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=hs(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),tl(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!po)return nl(t),null}else 2*it()-s.renderingStartTime>Jl&&1073741824!==n&&(t.flags|=128,r=!0,tl(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=it(),t.sibling=null,n=cs.current,Li(cs,r?1&n|2:1&n),t):(nl(t),null);case 22:case 23:return Eu(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Bl)&&(nl(t),6&t.subtreeFlags&&(t.flags|=8192)):nl(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function il(e,t){switch(co(t),t.tag){case 1:return zi(t.type)&&Bi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return as(),Oi(Ui),Oi(Fi),fs(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return us(t),null;case 13:if(Oi(cs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));To()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Oi(cs),null;case 4:return as(),null;case 10:return Uo(t.type._context),null;case 22:case 23:return Eu(),null;default:return null}}za=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ba=function(){},qa=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,os(ns.current);var o,s=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),s=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),s=[];break;case"textarea":i=re(e,i),r=re(e,r),s=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=li)}for(c in ye(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var l=i[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(a.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(s=s||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(s=s||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(a.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Qr("scroll",e),s||l===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}},Wa=function(e,t,n,r){n!==r&&(t.flags|=4)};var ol=!1,sl=!1,al="function"===typeof WeakSet?WeakSet:Set,ll=null;function ul(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch($e){Ou(e,t,$e)}else n.current=null}function cl(e,t,n){try{n()}catch($e){Ou(e,t,$e)}}var hl=!1;function dl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&cl(t,n,o)}i=i.next}while(i!==r)}}function fl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function pl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ml(e){var t=e.alternate;null!==t&&(e.alternate=null,ml(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[Ei],delete t[ki],delete t[Ti],delete t[Si],delete t[Ci])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function gl(e){return 5===e.tag||3===e.tag||4===e.tag}function yl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||gl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function vl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=li));else if(4!==r&&null!==(e=e.child))for(vl(e,t,n),e=e.sibling;null!==e;)vl(e,t,n),e=e.sibling}function wl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(wl(e,t,n),e=e.sibling;null!==e;)wl(e,t,n),e=e.sibling}var bl=null,El=!1;function kl(e,t,n){for(n=n.child;null!==n;)_l(e,t,n),n=n.sibling}function _l(e,t,n){if(dt&&"function"===typeof dt.onCommitFiberUnmount)try{dt.onCommitFiberUnmount(ht,n)}catch(et){}switch(n.tag){case 5:sl||ul(n,t);case 6:var r=bl,i=El;bl=null,kl(e,t,n),El=i,null!==(bl=r)&&(El?(e=bl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):bl.removeChild(n.stateNode));break;case 18:null!==bl&&(El?(e=bl,n=n.stateNode,8===e.nodeType?yi(e.parentNode,n):1===e.nodeType&&yi(e,n),$t(e)):yi(bl,n.stateNode));break;case 4:r=bl,i=El,bl=n.stateNode.containerInfo,El=!0,kl(e,t,n),bl=r,El=i;break;case 0:case 11:case 14:case 15:if(!sl&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,void 0!==s&&(0!==(2&o)||0!==(4&o))&&cl(n,t,s),i=i.next}while(i!==r)}kl(e,t,n);break;case 1:if(!sl&&(ul(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(et){Ou(n,t,et)}kl(e,t,n);break;case 21:kl(e,t,n);break;case 22:1&n.mode?(sl=(r=sl)||null!==n.memoizedState,kl(e,t,n),sl=r):kl(e,t,n);break;default:kl(e,t,n)}}function Tl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new al),t.forEach(function(t){var r=Uu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function Sl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:bl=l.stateNode,El=!1;break e;case 3:case 4:bl=l.stateNode.containerInfo,El=!0;break e}l=l.return}if(null===bl)throw Error(o(160));_l(s,a,i),bl=null,El=!1;var u=i.alternate;null!==u&&(u.return=null),i.return=null}catch(qe){Ou(i,t,qe)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)Cl(t,e),t=t.sibling}function Cl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Sl(t,e),Il(e),4&r){try{dl(3,e,e.return),fl(3,e)}catch(Be){Ou(e,e.return,Be)}try{dl(5,e,e.return)}catch(Be){Ou(e,e.return,Be)}}break;case 1:Sl(t,e),Il(e),512&r&&null!==n&&ul(n,n.return);break;case 5:if(Sl(t,e),Il(e),512&r&&null!==n&&ul(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(Be){Ou(e,e.return,Be)}}if(4&r&&null!=(i=e.stateNode)){var s=e.memoizedProps,a=null!==n?n.memoizedProps:s,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===s.type&&null!=s.name&&$(i,s),ve(l,a);var c=ve(l,s);for(a=0;a<u.length;a+=2){var h=u[a],d=u[a+1];"style"===h?me(i,d):"dangerouslySetInnerHTML"===h?ce(i,d):"children"===h?he(i,d):w(i,h,d,c)}switch(l){case"input":J(i,s);break;case"textarea":oe(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;null!=p?ne(i,!!s.multiple,p,!1):f!==!!s.multiple&&(null!=s.defaultValue?ne(i,!!s.multiple,s.defaultValue,!0):ne(i,!!s.multiple,s.multiple?[]:"",!1))}i[ki]=s}catch(Be){Ou(e,e.return,Be)}}break;case 6:if(Sl(t,e),Il(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(Be){Ou(e,e.return,Be)}}break;case 3:if(Sl(t,e),Il(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{$t(t.containerInfo)}catch(Be){Ou(e,e.return,Be)}break;case 4:default:Sl(t,e),Il(e);break;case 13:Sl(t,e),Il(e),8192&(i=e.child).flags&&(s=null!==i.memoizedState,i.stateNode.isHidden=s,!s||null!==i.alternate&&null!==i.alternate.memoizedState||($l=it())),4&r&&Tl(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(sl=(c=sl)||h,Sl(t,e),sl=c):Sl(t,e),Il(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!h&&0!==(1&e.mode))for(ll=e,h=e.child;null!==h;){for(d=ll=h;null!==ll;){switch(p=(f=ll).child,f.tag){case 0:case 11:case 14:case 15:dl(4,f,f.return);break;case 1:ul(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(Be){Ou(r,n,Be)}}break;case 5:ul(f,f.return);break;case 22:if(null!==f.memoizedState){Rl(d);continue}}null!==p?(p.return=f,ll=p):Rl(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,c?"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=d.stateNode,a=void 0!==(u=d.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=pe("display",a))}catch(Be){Ou(e,e.return,Be)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(Be){Ou(e,e.return,Be)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Sl(t,e),Il(e),4&r&&Tl(e);case 21:}}function Il(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(gl(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),wl(e,yl(e),i);break;case 3:case 4:var s=r.stateNode.containerInfo;vl(e,yl(e),s);break;default:throw Error(o(161))}}catch(Et){Ou(e,e.return,Et)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function xl(e,t,n){ll=e,Nl(e,t,n)}function Nl(e,t,n){for(var r=0!==(1&e.mode);null!==ll;){var i=ll,o=i.child;if(22===i.tag&&r){var s=null!==i.memoizedState||ol;if(!s){var a=i.alternate,l=null!==a&&null!==a.memoizedState||sl;a=ol;var u=sl;if(ol=s,(sl=l)&&!u)for(ll=i;null!==ll;)l=(s=ll).child,22===s.tag&&null!==s.memoizedState?Dl(i):null!==l?(l.return=s,ll=l):Dl(i);for(;null!==o;)ll=o,Nl(o,t,n),o=o.sibling;ll=i,ol=a,sl=u}Al(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,ll=o):Al(e)}}function Al(e){for(;null!==ll;){var t=ll;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:sl||fl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!sl)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:da(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&es(t,s,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}es(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var h=c.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&$t(d)}}}break;default:throw Error(o(163))}sl||512&t.flags&&pl(t)}catch(f){Ou(t,t.return,f)}}if(t===e){ll=null;break}if(null!==(n=t.sibling)){n.return=t.return,ll=n;break}ll=t.return}}function Rl(e){for(;null!==ll;){var t=ll;if(t===e){ll=null;break}var n=t.sibling;if(null!==n){n.return=t.return,ll=n;break}ll=t.return}}function Dl(e){for(;null!==ll;){var t=ll;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{fl(4,t)}catch(Et){Ou(t,n,Et)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(Et){Ou(t,i,Et)}}var o=t.return;try{pl(t)}catch(Et){Ou(t,o,Et)}break;case 5:var s=t.return;try{pl(t)}catch(Et){Ou(t,s,Et)}}}catch(Et){Ou(t,t.return,Et)}if(t===e){ll=null;break}var a=t.sibling;if(null!==a){a.return=t.return,ll=a;break}ll=t.return}}var Pl,Ol=Math.ceil,Ll=b.ReactCurrentDispatcher,Ml=b.ReactCurrentOwner,Fl=b.ReactCurrentBatchConfig,Ul=0,jl=null,Vl=null,zl=0,Bl=0,ql=Pi(0),Wl=0,Hl=null,Kl=0,Gl=0,Ql=0,Yl=null,Xl=null,$l=0,Jl=1/0,Zl=null,eu=!1,tu=null,nu=null,ru=!1,iu=null,ou=0,su=0,au=null,lu=-1,uu=0;function cu(){return 0!==(6&Ul)?it():-1!==lu?lu:lu=it()}function hu(e){return 0===(1&e.mode)?1:0!==(2&Ul)&&0!==zl?zl&-zl:null!==Co.transition?(0===uu&&(uu=_t()),uu):0!==(e=It)?e:e=void 0===(e=window.event)?16:sn(e.type)}function du(e,t,n,r){if(50<su)throw su=0,au=null,Error(o(185));St(e,n,r),0!==(2&Ul)&&e===jl||(e===jl&&(0===(2&Ul)&&(Gl|=n),4===Wl&&yu(e,zl)),fu(e,r),1===n&&0===Ul&&0===(1&t.mode)&&(Jl=it()+500,Qi&&$i()))}function fu(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-ft(o),a=1<<s,l=i[s];-1===l?0!==(a&n)&&0===(a&r)||(i[s]=bt(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}(e,t);var r=wt(e,e===jl?zl:0);if(0===r)null!==n&&tt(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&tt(n),1===t)0===e.tag?function(e){Qi=!0,Xi(e)}(vu.bind(null,e)):Xi(vu.bind(null,e)),mi(function(){0===(6&Ul)&&$i()}),n=null;else{switch(xt(r)){case 1:n=st;break;case 4:n=at;break;case 16:default:n=lt;break;case 536870912:n=ct}n=ju(n,pu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function pu(e,t){if(lu=-1,uu=0,0!==(6&Ul))throw Error(o(327));var n=e.callbackNode;if(Du()&&e.callbackNode!==n)return null;var r=wt(e,e===jl?zl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=Cu(e,r);else{t=r;var i=Ul;Ul|=2;var s=Tu();for(jl===e&&zl===t||(Zl=null,Jl=it()+500,ku(e,t));;)try{xu();break}catch(et){_u(e,et)}Fo(),Ll.current=s,Ul=i,null!==Vl?t=0:(jl=null,zl=0,t=Wl)}if(0!==t){if(2===t&&(0!==(i=kt(e))&&(r=i,t=mu(e,i))),1===t)throw n=Hl,ku(e,0),yu(e,r),fu(e,it()),n;if(6===t)yu(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!gr(o(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=Cu(e,r))&&(0!==(s=kt(e))&&(r=s,t=mu(e,s))),1===t))throw n=Hl,ku(e,0),yu(e,r),fu(e,it()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:Ru(e,Xl,Zl);break;case 3:if(yu(e,r),(130023424&r)===r&&10<(t=$l+500-it())){if(0!==wt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){cu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=di(Ru.bind(null,e,Xl,Zl),t);break}Ru(e,Xl,Zl);break;case 4:if(yu(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-ft(r);s=1<<a,(a=t[a])>i&&(i=a),r&=~s}if(r=i,10<(r=(120>(r=it()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ol(r/1960))-r)){e.timeoutHandle=di(Ru.bind(null,e,Xl,Zl),r);break}Ru(e,Xl,Zl);break;default:throw Error(o(329))}}}return fu(e,it()),e.callbackNode===n?pu.bind(null,e):null}function mu(e,t){var n=Yl;return e.current.memoizedState.isDehydrated&&(ku(e,t).flags|=256),2!==(e=Cu(e,t))&&(t=Xl,Xl=n,null!==t&&gu(t)),e}function gu(e){null===Xl?Xl=e:Xl.push.apply(Xl,e)}function yu(e,t){for(t&=~Ql,t&=~Gl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ft(t),r=1<<n;e[n]=-1,t&=~r}}function vu(e){if(0!==(6&Ul))throw Error(o(327));Du();var t=wt(e,0);if(0===(1&t))return fu(e,it()),null;var n=Cu(e,t);if(0!==e.tag&&2===n){var r=kt(e);0!==r&&(t=r,n=mu(e,r))}if(1===n)throw n=Hl,ku(e,0),yu(e,t),fu(e,it()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ru(e,Xl,Zl),fu(e,it()),null}function wu(e,t){var n=Ul;Ul|=1;try{return e(t)}finally{0===(Ul=n)&&(Jl=it()+500,Qi&&$i())}}function bu(e){null!==iu&&0===iu.tag&&0===(6&Ul)&&Du();var t=Ul;Ul|=1;var n=Fl.transition,r=It;try{if(Fl.transition=null,It=1,e)return e()}finally{It=r,Fl.transition=n,0===(6&(Ul=t))&&$i()}}function Eu(){Bl=ql.current,Oi(ql)}function ku(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,fi(n)),null!==Vl)for(n=Vl.return;null!==n;){var r=n;switch(co(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Bi();break;case 3:as(),Oi(Ui),Oi(Fi),fs();break;case 5:us(r);break;case 4:as();break;case 13:case 19:Oi(cs);break;case 10:Uo(r.type._context);break;case 22:case 23:Eu()}n=n.return}if(jl=e,Vl=e=qu(e.current,null),zl=Bl=t,Wl=0,Hl=null,Ql=Gl=Kl=0,Xl=Yl=null,null!==Bo){for(t=0;t<Bo.length;t++)if(null!==(r=(n=Bo[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var s=o.next;o.next=i,r.next=s}n.pending=r}Bo=null}return e}function _u(e,t){for(;;){var n=Vl;try{if(Fo(),ps.current=la,bs){for(var r=ys.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}bs=!1}if(gs=0,ws=vs=ys=null,Es=!1,ks=0,Ml.current=null,null===n||null===n.return){Wl=1,Hl=t,Vl=null;break}e:{var s=e,a=n.return,l=n,u=t;if(t=zl,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=Ca(a);if(null!==p){p.flags&=-257,Ia(p,a,l,0,t),1&p.mode&&Sa(s,c,t),u=c;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(u),t.updateQueue=g}else m.add(u);break e}if(0===(1&t)){Sa(s,c,t),Su();break e}u=Error(o(426))}else if(po&&1&l.mode){var y=Ca(a);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),Ia(y,a,l,0,t),So(wa(u,l));break e}}s=u=wa(u,l),4!==Wl&&(Wl=2),null===Yl?Yl=[s]:Yl.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Jo(s,_a(0,u,t));break e;case 1:l=u;var v=s.type,w=s.stateNode;if(0===(128&s.flags)&&("function"===typeof v.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===nu||!nu.has(w)))){s.flags|=65536,t&=-t,s.lanes|=t,Jo(s,Ta(s,l,t));break e}}s=s.return}while(null!==s)}Au(n)}catch(yo){t=yo,Vl===n&&null!==n&&(Vl=n=n.return);continue}break}}function Tu(){var e=Ll.current;return Ll.current=la,null===e?la:e}function Su(){0!==Wl&&3!==Wl&&2!==Wl||(Wl=4),null===jl||0===(268435455&Kl)&&0===(268435455&Gl)||yu(jl,zl)}function Cu(e,t){var n=Ul;Ul|=2;var r=Tu();for(jl===e&&zl===t||(Zl=null,ku(e,t));;)try{Iu();break}catch(ze){_u(e,ze)}if(Fo(),Ul=n,Ll.current=r,null!==Vl)throw Error(o(261));return jl=null,zl=0,Wl}function Iu(){for(;null!==Vl;)Nu(Vl)}function xu(){for(;null!==Vl&&!nt();)Nu(Vl)}function Nu(e){var t=Pl(e.alternate,e,Bl);e.memoizedProps=e.pendingProps,null===t?Au(e):Vl=t,Ml.current=null}function Au(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=rl(n,t,Bl)))return void(Vl=n)}else{if(null!==(n=il(n,t)))return n.flags&=32767,void(Vl=n);if(null===e)return Wl=6,void(Vl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Vl=t);Vl=t=e}while(null!==t);0===Wl&&(Wl=5)}function Ru(e,t,n){var r=It,i=Fl.transition;try{Fl.transition=null,It=1,function(e,t,n,r){do{Du()}while(null!==iu);if(0!==(6&Ul))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ft(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,s),e===jl&&(Vl=jl=null,zl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||ru||(ru=!0,ju(lt,function(){return Du(),null})),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=Fl.transition,Fl.transition=null;var a=It;It=1;var l=Ul;Ul|=4,Ml.current=null,function(e,t){if(ui=Zt,kr(e=Er())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(Ut){n=null;break e}var a=0,l=-1,u=-1,c=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=a+i),d!==s||0!==r&&3!==d.nodeType||(u=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++c===i&&(l=a),f===s&&++h===r&&(u=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ci={focusedElem:e,selectionRange:n},Zt=!1,ll=t;null!==ll;)if(e=(t=ll).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,ll=e;else for(;null!==ll;){t=ll;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,w=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:da(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(o(163))}}catch(Ut){Ou(t,t.return,Ut)}if(null!==(e=t.sibling)){e.return=t.return,ll=e;break}ll=t.return}m=hl,hl=!1}(e,n),Cl(n,e),_r(ci),Zt=!!ui,ci=ui=null,e.current=n,xl(n,e,i),rt(),Ul=l,It=a,Fl.transition=s}else e.current=n;if(ru&&(ru=!1,iu=e,ou=i),s=e.pendingLanes,0===s&&(nu=null),function(e){if(dt&&"function"===typeof dt.onCommitFiberRoot)try{dt.onCommitFiberRoot(ht,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),fu(e,it()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(eu)throw eu=!1,e=tu,tu=null,e;0!==(1&ou)&&0!==e.tag&&Du(),s=e.pendingLanes,0!==(1&s)?e===au?su++:(su=0,au=e):su=0,$i()}(e,t,n,r)}finally{Fl.transition=i,It=r}return null}function Du(){if(null!==iu){var e=xt(ou),t=Fl.transition,n=It;try{if(Fl.transition=null,It=16>e?16:e,null===iu)var r=!1;else{if(e=iu,iu=null,ou=0,0!==(6&Ul))throw Error(o(331));var i=Ul;for(Ul|=4,ll=e.current;null!==ll;){var s=ll,a=s.child;if(0!==(16&ll.flags)){var l=s.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(ll=c;null!==ll;){var h=ll;switch(h.tag){case 0:case 11:case 15:dl(8,h,s)}var d=h.child;if(null!==d)d.return=h,ll=d;else for(;null!==ll;){var f=(h=ll).sibling,p=h.return;if(ml(h),h===c){ll=null;break}if(null!==f){f.return=p,ll=f;break}ll=p}}}var m=s.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}ll=s}}if(0!==(2064&s.subtreeFlags)&&null!==a)a.return=s,ll=a;else e:for(;null!==ll;){if(0!==(2048&(s=ll).flags))switch(s.tag){case 0:case 11:case 15:dl(9,s,s.return)}var v=s.sibling;if(null!==v){v.return=s.return,ll=v;break e}ll=s.return}}var w=e.current;for(ll=w;null!==ll;){var b=(a=ll).child;if(0!==(2064&a.subtreeFlags)&&null!==b)b.return=a,ll=b;else e:for(a=w;null!==ll;){if(0!==(2048&(l=ll).flags))try{switch(l.tag){case 0:case 11:case 15:fl(9,l)}}catch(yo){Ou(l,l.return,yo)}if(l===a){ll=null;break e}var E=l.sibling;if(null!==E){E.return=l.return,ll=E;break e}ll=l.return}}if(Ul=i,$i(),dt&&"function"===typeof dt.onPostCommitFiberRoot)try{dt.onPostCommitFiberRoot(ht,e)}catch(yo){}r=!0}return r}finally{It=n,Fl.transition=t}}return!1}function Pu(e,t,n){e=Xo(e,t=_a(0,t=wa(n,t),1),1),t=cu(),null!==e&&(St(e,1,t),fu(e,t))}function Ou(e,t,n){if(3===e.tag)Pu(e,e,n);else for(;null!==t;){if(3===t.tag){Pu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===nu||!nu.has(r))){t=Xo(t,e=Ta(t,e=wa(n,e),1),1),e=cu(),null!==t&&(St(t,1,e),fu(t,e));break}}t=t.return}}function Lu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=cu(),e.pingedLanes|=e.suspendedLanes&n,jl===e&&(zl&n)===n&&(4===Wl||3===Wl&&(130023424&zl)===zl&&500>it()-$l?ku(e,0):Ql|=n),fu(e,t)}function Mu(e,t){0===t&&(0===(1&e.mode)?t=1:(t=yt,0===(130023424&(yt<<=1))&&(yt=4194304)));var n=cu();null!==(e=Ho(e,t))&&(St(e,t,n),fu(e,n))}function Fu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Mu(e,n)}function Uu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Mu(e,n)}function ju(e,t){return Ze(e,t)}function Vu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zu(e,t,n,r){return new Vu(e,t,n,r)}function Bu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function qu(e,t){var n=e.alternate;return null===n?((n=zu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Wu(e,t,n,r,i,s){var a=2;if(r=e,"function"===typeof e)Bu(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case _:return Hu(n.children,i,s,t);case T:a=8,i|=8;break;case S:return(e=zu(12,n,t,2|i)).elementType=S,e.lanes=s,e;case N:return(e=zu(13,n,t,i)).elementType=N,e.lanes=s,e;case A:return(e=zu(19,n,t,i)).elementType=A,e.lanes=s,e;case P:return Ku(n,i,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:a=10;break e;case I:a=9;break e;case x:a=11;break e;case R:a=14;break e;case D:a=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=zu(a,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Hu(e,t,n,r){return(e=zu(7,e,r,t)).lanes=n,e}function Ku(e,t,n,r){return(e=zu(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function Gu(e,t,n){return(e=zu(6,e,null,t)).lanes=n,e}function Qu(e,t,n){return(t=zu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Yu(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Tt(0),this.expirationTimes=Tt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Xu(e,t,n,r,i,o,s,a,l){return e=new Yu(e,t,n,a,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=zu(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Go(o),e}function $u(e){if(!e)return Mi;e:{if(He(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(zi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(zi(n))return Wi(e,n,t)}return t}function Ju(e,t,n,r,i,o,s,a,l){return(e=Xu(n,r,!0,e,0,o,0,a,l)).context=$u(null),n=e.current,(o=Yo(r=cu(),i=hu(n))).callback=void 0!==t&&null!==t?t:null,Xo(n,o,i),e.current.lanes=i,St(e,i,r),fu(e,r),e}function Zu(e,t,n,r){var i=t.current,o=cu(),s=hu(i);return n=$u(n),null===t.context?t.context=n:t.pendingContext=n,(t=Yo(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Xo(i,t,s))&&(du(e,i,s,o),$o(e,i,s)),s}function ec(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function tc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function nc(e,t){tc(e,t),(e=e.alternate)&&tc(e,t)}Pl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ui.current)Na=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return Na=!1,function(e,t,n){switch(t.tag){case 3:ja(t),To();break;case 5:ls(t);break;case 1:zi(t.type)&&Hi(t);break;case 4:ss(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Li(Po,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Li(cs,1&cs.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ga(e,t,n):(Li(cs,1&cs.current),null!==(e=el(e,t,n))?e.sibling:null);Li(cs,1&cs.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ja(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Li(cs,cs.current),r)break;return null;case 22:case 23:return t.lanes=0,Oa(e,t,n)}return el(e,t,n)}(e,t,n);Na=0!==(131072&e.flags)}else Na=!1,po&&0!==(1048576&t.flags)&&lo(t,to,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Za(e,t),e=t.pendingProps;var i=Vi(t,Fi.current);Vo(t,n),i=Cs(null,t,r,e,i,n);var s=Is();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,zi(r)?(s=!0,Hi(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Go(t),i.updater=pa,t.stateNode=i,i._reactInternals=t,va(t,r,e,n),t=Ua(null,t,r,!0,s,n)):(t.tag=0,po&&s&&uo(t),Aa(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Za(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Bu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===x)return 11;if(e===R)return 14}return 2}(r),e=da(r,e),i){case 0:t=Ma(null,t,r,e,n);break e;case 1:t=Fa(null,t,r,e,n);break e;case 11:t=Ra(null,t,r,e,n);break e;case 14:t=Da(null,t,r,da(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ma(e,t,r,i=t.elementType===r?i:da(r,i),n);case 1:return r=t.type,i=t.pendingProps,Fa(e,t,r,i=t.elementType===r?i:da(r,i),n);case 3:e:{if(ja(t),null===e)throw Error(o(387));r=t.pendingProps,i=(s=t.memoizedState).element,Qo(e,t),Zo(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Va(e,t,r,n,i=wa(Error(o(423)),t));break e}if(r!==i){t=Va(e,t,r,n,i=wa(Error(o(424)),t));break e}for(fo=vi(t.stateNode.containerInfo.firstChild),ho=t,po=!0,mo=null,n=Do(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(To(),r===i){t=el(e,t,n);break e}Aa(e,t,r,n)}t=t.child}return t;case 5:return ls(t),null===e&&bo(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,a=i.children,hi(r,i)?a=null:null!==s&&hi(r,s)&&(t.flags|=32),La(e,t),Aa(e,t,a,n),t.child;case 6:return null===e&&bo(t),null;case 13:return Ga(e,t,n);case 4:return ss(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ro(t,null,r,n):Aa(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ra(e,t,r,i=t.elementType===r?i:da(r,i),n);case 7:return Aa(e,t,t.pendingProps,n),t.child;case 8:case 12:return Aa(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,Li(Po,r._currentValue),r._currentValue=a,null!==s)if(gr(s.value,a)){if(s.children===i.children&&!Ui.current){t=el(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){a=s.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===s.tag){(u=Yo(-1,n&-n)).tag=2;var c=s.updateQueue;if(null!==c){var h=(c=c.shared).pending;null===h?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),jo(s.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(o(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),jo(a,n,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}Aa(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Vo(t,n),r=r(i=zo(i)),t.flags|=1,Aa(e,t,r,n),t.child;case 14:return i=da(r=t.type,t.pendingProps),Da(e,t,r,i=da(r.type,i),n);case 15:return Pa(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:da(r,i),Za(e,t),t.tag=1,zi(r)?(e=!0,Hi(t)):e=!1,Vo(t,n),ga(t,r,i),va(t,r,i,n),Ua(null,t,r,!0,e,n);case 19:return Ja(e,t,n);case 22:return Oa(e,t,n)}throw Error(o(156,t.tag))};var rc="function"===typeof reportError?reportError:function(e){console.error(e)};function ic(e){this._internalRoot=e}function oc(e){this._internalRoot=e}function sc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function ac(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function lc(){}function uc(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if("function"===typeof i){var a=i;i=function(){var e=ec(s);a.call(e)}}Zu(t,s,e,i)}else s=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=ec(s);o.call(e)}}var s=Ju(t,r,e,0,null,!1,0,"",lc);return e._reactRootContainer=s,e[_i]=s.current,$r(8===e.nodeType?e.parentNode:e),bu(),s}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=ec(l);a.call(e)}}var l=Xu(e,0,!1,null,0,!1,0,"",lc);return e._reactRootContainer=l,e[_i]=l.current,$r(8===e.nodeType?e.parentNode:e),bu(function(){Zu(t,l,n,r)}),l}(n,t,e,i,r);return ec(s)}oc.prototype.render=ic.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Zu(e,t,null,null)},oc.prototype.unmount=ic.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;bu(function(){Zu(null,e,null,null)}),t[_i]=null}},oc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Dt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Bt.length&&0!==t&&t<Bt[n].priority;n++);Bt.splice(n,0,e),0===n&&Kt(e)}},Nt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=vt(t.pendingLanes);0!==n&&(Ct(t,1|n),fu(t,it()),0===(6&Ul)&&(Jl=it()+500,$i()))}break;case 13:bu(function(){var t=Ho(e,1);if(null!==t){var n=cu();du(t,e,1,n)}}),nc(e,1)}},At=function(e){if(13===e.tag){var t=Ho(e,134217728);if(null!==t)du(t,e,134217728,cu());nc(e,134217728)}},Rt=function(e){if(13===e.tag){var t=hu(e),n=Ho(e,t);if(null!==n)du(n,e,t,cu());nc(e,t)}},Dt=function(){return It},Pt=function(e,t){var n=It;try{return It=e,t()}finally{It=n}},Ee=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ai(r);if(!i)throw Error(o(90));G(r),J(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=wu,xe=bu;var cc={usingClientEntryPoint:!1,Events:[xi,Ni,Ai,Se,Ce,wu]},hc={findFiberByHostInstance:Ii,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},dc={bundleType:hc.bundleType,version:hc.version,rendererPackageName:hc.rendererPackageName,rendererConfig:hc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ye(e))?null:e.stateNode},findFiberByHostInstance:hc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{ht=fc.inject(dc),dt=fc}catch(We){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!sc(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!sc(e))throw Error(o(299));var n=!1,r="",i=rc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Xu(e,1,!1,null,0,n,0,r,i),e[_i]=t.current,$r(8===e.nodeType?e.parentNode:e),new ic(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=Ye(t))?null:e.stateNode},t.flushSync=function(e){return bu(e)},t.hydrate=function(e,t,n){if(!ac(t))throw Error(o(200));return uc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!sc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,s="",a=rc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Ju(t,null,e,1,null!=n?n:null,i,0,s,a),e[_i]=t.current,$r(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new oc(t)},t.render=function(e,t,n){if(!ac(t))throw Error(o(200));return uc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ac(e))throw Error(o(40));return!!e._reactRootContainer&&(bu(function(){uc(null,null,e,!1,function(){e._reactRootContainer=null,e[_i]=null})}),!0)},t.unstable_batchedUpdates=wu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ac(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return uc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;("object"==typeof a||"function"==typeof a)&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach(e=>s[e]=()=>r[e]);return s.default=()=>r,n.d(o,s),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(ze){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r,i=n(43),o=n.t(i,2),s=n(391),a=n(950),l=n.t(a,2);function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));const c="popstate";function h(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function d(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(ze){}}}function f(e,t){return{usr:e.state,key:e.key,idx:t}}function p(e,t,n,r){return void 0===n&&(n=null),u({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?g(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function m(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function g(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function y(e,t,n,i){void 0===i&&(i={});let{window:o=document.defaultView,v5Compat:s=!1}=i,a=o.history,l=r.Pop,d=null,g=y();function y(){return(a.state||{idx:null}).idx}function v(){l=r.Pop;let e=y(),t=null==e?null:e-g;g=e,d&&d({action:l,location:b.location,delta:t})}function w(e){let t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:m(e);return n=n.replace(/ $/,"%20"),h(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,a.replaceState(u({},a.state,{idx:g}),""));let b={get action(){return l},get location(){return e(o,a)},listen(e){if(d)throw new Error("A history only accepts one active listener");return o.addEventListener(c,v),d=e,()=>{o.removeEventListener(c,v),d=null}},createHref:e=>t(o,e),createURL:w,encodeLocation(e){let t=w(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=r.Push;let i=p(b.location,e,t);n&&n(i,e),g=y()+1;let u=f(i,g),c=b.createHref(i);try{a.pushState(u,"",c)}catch(h){if(h instanceof DOMException&&"DataCloneError"===h.name)throw h;o.location.assign(c)}s&&d&&d({action:l,location:b.location,delta:1})},replace:function(e,t){l=r.Replace;let i=p(b.location,e,t);n&&n(i,e),g=y();let o=f(i,g),u=b.createHref(i);a.replaceState(o,"",u),s&&d&&d({action:l,location:b.location,delta:0})},go:e=>a.go(e)};return b}var v;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(v||(v={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function w(e,t,n){return void 0===n&&(n="/"),b(e,t,n,!1)}function b(e,t,n,r){let i=O(("string"===typeof t?g(t):t).pathname||"/",n);if(null==i)return null;let o=E(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(o);let s=null;for(let a=0;null==s&&a<o.length;++a){let e=P(i);s=R(o[a],e,r)}return s}function E(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,o)=>{let s={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};s.relativePath.startsWith("/")&&(h(s.relativePath.startsWith(r),'Absolute route path "'+s.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(r.length));let a=j([r,s.relativePath]),l=n.concat(s);e.children&&e.children.length>0&&(h(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),E(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:A(a,e.index),routesMeta:l})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of k(e.path))i(e,t,r);else i(e,t)}),t}function k(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let s=k(r.join("/")),a=[];return a.push(...s.map(e=>""===e?o:[o,e].join("/"))),i&&a.push(...s),a.map(t=>e.startsWith("/")&&""===t?"/":t)}const _=/^:[\w-]+$/,T=3,S=2,C=1,I=10,x=-2,N=e=>"*"===e;function A(e,t){let n=e.split("/"),r=n.length;return n.some(N)&&(r+=x),t&&(r+=S),n.filter(e=>!N(e)).reduce((e,t)=>e+(_.test(t)?T:""===t?C:I),r)}function R(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},o="/",s=[];for(let a=0;a<r.length;++a){let e=r[a],l=a===r.length-1,u="/"===o?t:t.slice(o.length)||"/",c=D({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},u),h=e.route;if(!c&&l&&n&&!r[r.length-1].route.index&&(c=D({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},u)),!c)return null;Object.assign(i,c.params),s.push({params:i,pathname:j([o,c.pathname]),pathnameBase:V(j([o,c.pathnameBase])),route:h}),"/"!==c.pathnameBase&&(o=j([o,c.pathnameBase]))}return s}function D(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);d("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";s=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:o,pathnameBase:s,pattern:e}}function P(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return d(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function O(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function L(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function M(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function F(e,t){let n=M(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function U(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=g(e):(i=u({},e),h(!i.pathname||!i.pathname.includes("?"),L("?","pathname","search",i)),h(!i.pathname||!i.pathname.includes("#"),L("#","pathname","hash",i)),h(!i.search||!i.search.includes("#"),L("#","search","hash",i)));let o,s=""===e||""===i.pathname,a=s?"/":i.pathname;if(null==a)o=n;else{let e=t.length-1;if(!r&&a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}o=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?g(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:z(r),hash:B(i)}}(i,o),c=a&&"/"!==a&&a.endsWith("/"),d=(s||"."===a)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!d||(l.pathname+="/"),l}const j=e=>e.join("/").replace(/\/\/+/g,"/"),V=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),z=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",B=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function q(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const W=["post","put","patch","delete"],H=(new Set(W),["get",...W]);new Set(H),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function K(){return K=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},K.apply(this,arguments)}const G=i.createContext(null);const Q=i.createContext(null);const Y=i.createContext(null);const X=i.createContext(null);const $=i.createContext({outlet:null,matches:[],isDataRoute:!1});const J=i.createContext(null);function Z(){return null!=i.useContext(X)}function ee(){return Z()||h(!1),i.useContext(X).location}function te(e){i.useContext(Y).static||i.useLayoutEffect(e)}function ne(){let{isDataRoute:e}=i.useContext($);return e?function(){let{router:e}=de(ce.UseNavigateStable),t=pe(he.UseNavigateStable),n=i.useRef(!1);te(()=>{n.current=!0});let r=i.useCallback(function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,K({fromRouteId:t},i)))},[e,t]);return r}():function(){Z()||h(!1);let e=i.useContext(G),{basename:t,future:n,navigator:r}=i.useContext(Y),{matches:o}=i.useContext($),{pathname:s}=ee(),a=JSON.stringify(F(o,n.v7_relativeSplatPath)),l=i.useRef(!1);te(()=>{l.current=!0});let u=i.useCallback(function(n,i){if(void 0===i&&(i={}),!l.current)return;if("number"===typeof n)return void r.go(n);let o=U(n,JSON.parse(a),s,"path"===i.relative);null==e&&"/"!==t&&(o.pathname="/"===o.pathname?t:j([t,o.pathname])),(i.replace?r.replace:r.push)(o,i.state,i)},[t,r,a,s,e]);return u}()}function re(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=i.useContext(Y),{matches:o}=i.useContext($),{pathname:s}=ee(),a=JSON.stringify(F(o,r.v7_relativeSplatPath));return i.useMemo(()=>U(e,JSON.parse(a),s,"path"===n),[e,a,s,n])}function ie(e,t,n,o){Z()||h(!1);let{navigator:s}=i.useContext(Y),{matches:a}=i.useContext($),l=a[a.length-1],u=l?l.params:{},c=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let d,f=ee();if(t){var p;let e="string"===typeof t?g(t):t;"/"===c||(null==(p=e.pathname)?void 0:p.startsWith(c))||h(!1),d=e}else d=f;let m=d.pathname||"/",y=m;if("/"!==c){let e=c.replace(/^\//,"").split("/");y="/"+m.replace(/^\//,"").split("/").slice(e.length).join("/")}let v=w(e,{pathname:y});let b=ue(v&&v.map(e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:j([c,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:j([c,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),a,n,o);return t&&b?i.createElement(X.Provider,{value:{location:K({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:r.Pop}},b):b}function oe(){let e=function(){var e;let t=i.useContext(J),n=fe(he.UseRouteError),r=pe(he.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=q(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:o},n):null,null)}const se=i.createElement(oe,null);class ae extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?i.createElement($.Provider,{value:this.props.routeContext},i.createElement(J.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function le(e){let{routeContext:t,match:n,children:r}=e,o=i.useContext(G);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement($.Provider,{value:t},r)}function ue(e,t,n,r){var o;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var s;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(s=r)&&s.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let a=e,l=null==(o=n)?void 0:o.errors;if(null!=l){let e=a.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||h(!1),a=a.slice(0,Math.min(a.length,e+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let i=0;i<a.length;i++){let e=a[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(c=i),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){u=!0,a=c>=0?a.slice(0,c+1):[a[0]];break}}}return a.reduceRight((e,r,o)=>{let s,h=!1,d=null,f=null;var p;n&&(s=l&&r.route.id?l[r.route.id]:void 0,d=r.route.errorElement||se,u&&(c<0&&0===o?(p="route-fallback",!1||me[p]||(me[p]=!0),h=!0,f=null):c===o&&(h=!0,f=r.route.hydrateFallbackElement||null)));let m=t.concat(a.slice(0,o+1)),g=()=>{let t;return t=s?d:h?f:r.route.Component?i.createElement(r.route.Component,null):r.route.element?r.route.element:e,i.createElement(le,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===o)?i.createElement(ae,{location:n.location,revalidation:n.revalidation,component:d,error:s,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()},null)}var ce=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ce||{}),he=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(he||{});function de(e){let t=i.useContext(G);return t||h(!1),t}function fe(e){let t=i.useContext(Q);return t||h(!1),t}function pe(e){let t=function(){let e=i.useContext($);return e||h(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||h(!1),n.route.id}const me={};function ge(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}o.startTransition;function ye(e){h(!1)}function ve(e){let{basename:t="/",children:n=null,location:o,navigationType:s=r.Pop,navigator:a,static:l=!1,future:u}=e;Z()&&h(!1);let c=t.replace(/^\/*/,"/"),d=i.useMemo(()=>({basename:c,navigator:a,static:l,future:K({v7_relativeSplatPath:!1},u)}),[c,u,a,l]);"string"===typeof o&&(o=g(o));let{pathname:f="/",search:p="",hash:m="",state:y=null,key:v="default"}=o,w=i.useMemo(()=>{let e=O(f,c);return null==e?null:{location:{pathname:e,search:p,hash:m,state:y,key:v},navigationType:s}},[c,f,p,m,y,v,s]);return null==w?null:i.createElement(Y.Provider,{value:d},i.createElement(X.Provider,{children:n,value:w}))}function we(e){let{children:t,location:n}=e;return ie(be(t),n)}new Promise(()=>{});i.Component;function be(e,t){void 0===t&&(t=[]);let n=[];return i.Children.forEach(e,(e,r)=>{if(!i.isValidElement(e))return;let o=[...t,r];if(e.type===i.Fragment)return void n.push.apply(n,be(e.props.children,o));e.type!==ye&&h(!1),e.props.index&&e.props.children&&h(!1);let s={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=be(e.props.children,o)),n.push(s)}),n}function Ee(){return Ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ee.apply(this,arguments)}function ke(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const _e=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Te=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"];try{window.__reactRouterVersion="6"}catch(ze){}const Se=i.createContext({isTransitioning:!1});new Map;const Ce=o.startTransition;l.flushSync,o.useId;function Ie(e){let{basename:t,children:n,future:r,window:o}=e,s=i.useRef();var a;null==s.current&&(s.current=(void 0===(a={window:o,v5Compat:!0})&&(a={}),y(function(e,t){let{pathname:n,search:r,hash:i}=e.location;return p("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:m(t)},null,a)));let l=s.current,[u,c]=i.useState({action:l.action,location:l.location}),{v7_startTransition:h}=r||{},d=i.useCallback(e=>{h&&Ce?Ce(()=>c(e)):c(e)},[c,h]);return i.useLayoutEffect(()=>l.listen(d),[l,d]),i.useEffect(()=>ge(r),[r]),i.createElement(ve,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:l,future:r})}const xe="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ne=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ae=i.forwardRef(function(e,t){let n,{onClick:r,relative:o,reloadDocument:s,replace:a,state:l,target:u,to:c,preventScrollReset:d,viewTransition:f}=e,p=ke(e,_e),{basename:g}=i.useContext(Y),y=!1;if("string"===typeof c&&Ne.test(c)&&(n=c,xe))try{let e=new URL(window.location.href),t=c.startsWith("//")?new URL(e.protocol+c):new URL(c),n=O(t.pathname,g);t.origin===e.origin&&null!=n?c=n+t.search+t.hash:y=!0}catch(ze){}let v=function(e,t){let{relative:n}=void 0===t?{}:t;Z()||h(!1);let{basename:r,navigator:o}=i.useContext(Y),{hash:s,pathname:a,search:l}=re(e,{relative:n}),u=a;return"/"!==r&&(u="/"===a?r:j([r,a])),o.createHref({pathname:u,search:l,hash:s})}(c,{relative:o}),w=function(e,t){let{target:n,replace:r,state:o,preventScrollReset:s,relative:a,viewTransition:l}=void 0===t?{}:t,u=ne(),c=ee(),h=re(e,{relative:a});return i.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:m(c)===m(h);u(e,{replace:n,state:o,preventScrollReset:s,relative:a,viewTransition:l})}},[c,u,h,r,o,n,e,s,a,l])}(c,{replace:a,state:l,target:u,preventScrollReset:d,relative:o,viewTransition:f});return i.createElement("a",Ee({},p,{href:n||v,onClick:y||s?r:function(e){r&&r(e),e.defaultPrevented||w(e)},ref:t,target:u}))});const Re=i.forwardRef(function(e,t){let{"aria-current":n="page",caseSensitive:r=!1,className:o="",end:s=!1,style:a,to:l,viewTransition:u,children:c}=e,d=ke(e,Te),f=re(l,{relative:d.relative}),p=ee(),m=i.useContext(Q),{navigator:g,basename:y}=i.useContext(Y),v=null!=m&&function(e,t){void 0===t&&(t={});let n=i.useContext(Se);null==n&&h(!1);let{basename:r}=Oe(De.useViewTransitionState),o=re(e,{relative:t.relative});if(!n.isTransitioning)return!1;let s=O(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=O(n.nextLocation.pathname,r)||n.nextLocation.pathname;return null!=D(o.pathname,a)||null!=D(o.pathname,s)}(f)&&!0===u,w=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,b=p.pathname,E=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;r||(b=b.toLowerCase(),E=E?E.toLowerCase():null,w=w.toLowerCase()),E&&y&&(E=O(E,y)||E);const k="/"!==w&&w.endsWith("/")?w.length-1:w.length;let _,T=b===w||!s&&b.startsWith(w)&&"/"===b.charAt(k),S=null!=E&&(E===w||!s&&E.startsWith(w)&&"/"===E.charAt(w.length)),C={isActive:T,isPending:S,isTransitioning:v},I=T?n:void 0;_="function"===typeof o?o(C):[o,T?"active":null,S?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let x="function"===typeof a?a(C):a;return i.createElement(Ae,Ee({},d,{"aria-current":I,className:_,ref:t,style:x,to:l,viewTransition:u}),"function"===typeof c?c(C):c)});var De,Pe;function Oe(e){let t=i.useContext(G);return t||h(!1),t}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(De||(De={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Pe||(Pe={}));function Le(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Me(e){return Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Me(e)}function Fe(e){var t=function(e,t){if("object"!=Me(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Me(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Me(t)?t:t+""}function Ue(e,t,n){return(t=Fe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?je(Object(n),!0).forEach(function(t){Ue(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):je(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let ze={data:""},Be=e=>"object"==typeof window?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||ze,qe=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,We=/\/\*[^]*?\*\/|  +/g,He=/\n+/g,Ke=(e,t)=>{let n="",r="",i="";for(let o in e){let s=e[o];"@"==o[0]?"i"==o[1]?n=o+" "+s+";":r+="f"==o[1]?Ke(s,o):o+"{"+Ke(s,"k"==o[1]?"":t)+"}":"object"==typeof s?r+=Ke(s,t?t.replace(/([^,])+/g,e=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)):o):null!=s&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Ke.p?Ke.p(o,s):o+":"+s+";")}return n+(t&&i?t+"{"+i+"}":i)+r},Ge={},Qe=e=>{if("object"==typeof e){let t="";for(let n in e)t+=n+Qe(e[n]);return t}return e},Ye=(e,t,n,r,i)=>{let o=Qe(e),s=Ge[o]||(Ge[o]=(e=>{let t=0,n=11;for(;t<e.length;)n=101*n+e.charCodeAt(t++)>>>0;return"go"+n})(o));if(!Ge[s]){let t=o!==e?e:(e=>{let t,n,r=[{}];for(;t=qe.exec(e.replace(We,""));)t[4]?r.shift():t[3]?(n=t[3].replace(He," ").trim(),r.unshift(r[0][n]=r[0][n]||{})):r[0][t[1]]=t[2].replace(He," ").trim();return r[0]})(e);Ge[s]=Ke(i?{["@keyframes "+s]:t}:t,n?"":"."+s)}let a=n&&Ge.g?Ge.g:null;return n&&(Ge.g=Ge[s]),((e,t,n,r)=>{r?t.data=t.data.replace(r,e):-1===t.data.indexOf(e)&&(t.data=n?e+t.data:t.data+e)})(Ge[s],t,r,a),s};function Xe(e){let t=this||{},n=e.call?e(t.p):e;return Ye(n.unshift?n.raw?((e,t,n)=>e.reduce((e,r,i)=>{let o=t[i];if(o&&o.call){let e=o(n),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;o=t?"."+t:e&&"object"==typeof e?e.props?"":Ke(e,""):!1===e?"":e}return e+r+(null==o?"":o)},""))(n,[].slice.call(arguments,1),t.p):n.reduce((e,n)=>Object.assign(e,n&&n.call?n(t.p):n),{}):n,Be(t.target),t.g,t.o,t.k)}Xe.bind({g:1});let $e,Je,Ze,et=Xe.bind({k:1});function tt(e,t){let n=this||{};return function(){let r=arguments;function i(o,s){let a=Object.assign({},o),l=a.className||i.className;n.p=Object.assign({theme:Je&&Je()},a),n.o=/ *go\d+/.test(l),a.className=Xe.apply(n,r)+(l?" "+l:""),t&&(a.ref=s);let u=e;return e[0]&&(u=a.as||e,delete a.as),Ze&&u[0]&&Ze(a),$e(u,a)}return t?t(i):i}}var nt,rt,it,ot,st,at,lt,ut,ct,ht,dt,ft,pt,mt,gt,yt,vt=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,wt=(()=>{let e=0;return()=>(++e).toString()})(),bt=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),Et="default",kt=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return Ve(Ve({},e),{},{toasts:[t.toast,...e.toasts].slice(0,n)});case 1:return Ve(Ve({},e),{},{toasts:e.toasts.map(e=>e.id===t.toast.id?Ve(Ve({},e),t.toast):e)});case 2:let{toast:r}=t;return kt(e,{type:e.toasts.find(e=>e.id===r.id)?1:0,toast:r});case 3:let{toastId:i}=t;return Ve(Ve({},e),{},{toasts:e.toasts.map(e=>e.id===i||void 0===i?Ve(Ve({},e),{},{dismissed:!0,visible:!1}):e)});case 4:return void 0===t.toastId?Ve(Ve({},e),{},{toasts:[]}):Ve(Ve({},e),{},{toasts:e.toasts.filter(e=>e.id!==t.toastId)});case 5:return Ve(Ve({},e),{},{pausedAt:t.time});case 6:let o=t.time-(e.pausedAt||0);return Ve(Ve({},e),{},{pausedAt:void 0,toasts:e.toasts.map(e=>Ve(Ve({},e),{},{pauseDuration:e.pauseDuration+o}))})}},_t=[],Tt={toasts:[],pausedAt:void 0,settings:{toastLimit:20}},St={},Ct=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Et;St[t]=kt(St[t]||Tt,e),_t.forEach(e=>{let[n,r]=e;n===t&&r(St[t])})},It=e=>Object.keys(St).forEach(t=>Ct(e,t)),xt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et;return t=>{Ct(t,e)}},Nt={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},At=e=>(t,n)=>{let r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",n=arguments.length>2?arguments[2]:void 0;return Ve(Ve({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0},n),{},{id:(null==n?void 0:n.id)||wt()})}(t,e,n);return xt(r.toasterId||(e=>Object.keys(St).find(t=>St[t].toasts.some(t=>t.id===e)))(r.id))({type:2,toast:r}),r.id},Rt=(e,t)=>At("blank")(e,t);Rt.error=At("error"),Rt.success=At("success"),Rt.loading=At("loading"),Rt.custom=At("custom"),Rt.dismiss=(e,t)=>{let n={type:3,toastId:e};t?xt(t)(n):It(n)},Rt.dismissAll=e=>Rt.dismiss(void 0,e),Rt.remove=(e,t)=>{let n={type:4,toastId:e};t?xt(t)(n):It(n)},Rt.removeAll=e=>Rt.remove(void 0,e),Rt.promise=(e,t,n)=>{let r=Rt.loading(t.loading,Ve(Ve({},n),null==n?void 0:n.loading));return"function"==typeof e&&(e=e()),e.then(e=>{let i=t.success?vt(t.success,e):void 0;return i?Rt.success(i,Ve(Ve({id:r},n),null==n?void 0:n.success)):Rt.dismiss(r),e}).catch(e=>{let i=t.error?vt(t.error,e):void 0;i?Rt.error(i,Ve(Ve({id:r},n),null==n?void 0:n.error)):Rt.dismiss(r)}),e};var Dt=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",{toasts:n,pausedAt:r}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Et,[n,r]=(0,i.useState)(St[t]||Tt),o=(0,i.useRef)(St[t]);(0,i.useEffect)(()=>(o.current!==St[t]&&r(St[t]),_t.push([t,r]),()=>{let e=_t.findIndex(e=>{let[n]=e;return n===t});e>-1&&_t.splice(e,1)}),[t]);let s=n.toasts.map(t=>{var n,r,i;return Ve(Ve(Ve(Ve({},e),e[t.type]),t),{},{removeDelay:t.removeDelay||(null==(n=e[t.type])?void 0:n.removeDelay)||(null==e?void 0:e.removeDelay),duration:t.duration||(null==(r=e[t.type])?void 0:r.duration)||(null==e?void 0:e.duration)||Nt[t.type],style:Ve(Ve(Ve({},e.style),null==(i=e[t.type])?void 0:i.style),t.style)})});return Ve(Ve({},n),{},{toasts:s})}(e,t),o=(0,i.useRef)(new Map).current,s=(0,i.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;if(o.has(e))return;let n=setTimeout(()=>{o.delete(e),a({type:4,toastId:e})},t);o.set(e,n)},[]);(0,i.useEffect)(()=>{if(r)return;let e=Date.now(),i=n.map(n=>{if(n.duration===1/0)return;let r=(n.duration||0)+n.pauseDuration-(e-n.createdAt);if(!(r<0))return setTimeout(()=>Rt.dismiss(n.id,t),r);n.visible&&Rt.dismiss(n.id)});return()=>{i.forEach(e=>e&&clearTimeout(e))}},[n,r,t]);let a=(0,i.useCallback)(xt(t),[t]),l=(0,i.useCallback)(()=>{a({type:5,time:Date.now()})},[a]),u=(0,i.useCallback)((e,t)=>{a({type:1,toast:{id:e,height:t}})},[a]),c=(0,i.useCallback)(()=>{r&&a({type:6,time:Date.now()})},[r,a]),h=(0,i.useCallback)((e,t)=>{let{reverseOrder:r=!1,gutter:i=8,defaultPosition:o}=t||{},s=n.filter(t=>(t.position||o)===(e.position||o)&&t.height),a=s.findIndex(t=>t.id===e.id),l=s.filter((e,t)=>t<a&&e.visible).length;return s.filter(e=>e.visible).slice(...r?[l+1]:[0,l]).reduce((e,t)=>e+(t.height||0)+i,0)},[n]);return(0,i.useEffect)(()=>{n.forEach(e=>{if(e.dismissed)s(e.id,e.removeDelay);else{let t=o.get(e.id);t&&(clearTimeout(t),o.delete(e.id))}})},[n,s]),{toasts:n,handlers:{updateHeight:u,startPause:l,endPause:c,calculateOffset:h}}},Pt=et(nt||(nt=Le(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n transform: scale(1) rotate(45deg);\n  opacity: 1;\n}"]))),Ot=et(rt||(rt=Le(["\nfrom {\n  transform: scale(0);\n  opacity: 0;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),Lt=et(it||(it=Le(["\nfrom {\n  transform: scale(0) rotate(90deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(90deg);\n\topacity: 1;\n}"]))),Mt=tt("div")(ot||(ot=Le(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n\n  &:after,\n  &:before {\n    content: '';\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 150ms;\n    position: absolute;\n    border-radius: 3px;\n    opacity: 0;\n    background: ",";\n    bottom: 9px;\n    left: 4px;\n    height: 2px;\n    width: 12px;\n  }\n\n  &:before {\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 180ms;\n    transform: rotate(90deg);\n  }\n"])),e=>e.primary||"#ff4b4b",Pt,Ot,e=>e.secondary||"#fff",Lt),Ft=et(st||(st=Le(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]))),Ut=tt("div")(at||(at=Le(["\n  width: 12px;\n  height: 12px;\n  box-sizing: border-box;\n  border: 2px solid;\n  border-radius: 100%;\n  border-color: ",";\n  border-right-color: ",";\n  animation: "," 1s linear infinite;\n"])),e=>e.secondary||"#e0e0e0",e=>e.primary||"#616161",Ft),jt=et(lt||(lt=Le(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(45deg);\n\topacity: 1;\n}"]))),Vt=et(ut||(ut=Le(["\n0% {\n\theight: 0;\n\twidth: 0;\n\topacity: 0;\n}\n40% {\n  height: 0;\n\twidth: 6px;\n\topacity: 1;\n}\n100% {\n  opacity: 1;\n  height: 10px;\n}"]))),zt=tt("div")(ct||(ct=Le(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n  &:after {\n    content: '';\n    box-sizing: border-box;\n    animation: "," 0.2s ease-out forwards;\n    opacity: 0;\n    animation-delay: 200ms;\n    position: absolute;\n    border-right: 2px solid;\n    border-bottom: 2px solid;\n    border-color: ",";\n    bottom: 6px;\n    left: 6px;\n    height: 10px;\n    width: 6px;\n  }\n"])),e=>e.primary||"#61d345",jt,Vt,e=>e.secondary||"#fff"),Bt=tt("div")(ht||(ht=Le(["\n  position: absolute;\n"]))),qt=tt("div")(dt||(dt=Le(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 20px;\n  min-height: 20px;\n"]))),Wt=et(ft||(ft=Le(["\nfrom {\n  transform: scale(0.6);\n  opacity: 0.4;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),Ht=tt("div")(pt||(pt=Le(["\n  position: relative;\n  transform: scale(0.6);\n  opacity: 0.4;\n  min-width: 20px;\n  animation: "," 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n"])),Wt),Kt=e=>{let{toast:t}=e,{icon:n,type:r,iconTheme:o}=t;return void 0!==n?"string"==typeof n?i.createElement(Ht,null,n):n:"blank"===r?null:i.createElement(qt,null,i.createElement(Ut,Ve({},o)),"loading"!==r&&i.createElement(Bt,null,"error"===r?i.createElement(Mt,Ve({},o)):i.createElement(zt,Ve({},o))))},Gt=e=>"\n0% {transform: translate3d(0,".concat(-200*e,"%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n"),Qt=e=>"\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,".concat(-150*e,"%,-1px) scale(.6); opacity:0;}\n"),Yt=tt("div")(mt||(mt=Le(["\n  display: flex;\n  align-items: center;\n  background: #fff;\n  color: #363636;\n  line-height: 1.3;\n  will-change: transform;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);\n  max-width: 350px;\n  pointer-events: auto;\n  padding: 8px 10px;\n  border-radius: 8px;\n"]))),Xt=tt("div")(gt||(gt=Le(["\n  display: flex;\n  justify-content: center;\n  margin: 4px 10px;\n  color: inherit;\n  flex: 1 1 auto;\n  white-space: pre-line;\n"]))),$t=i.memo(e=>{let{toast:t,position:n,style:r,children:o}=e,s=t.height?((e,t)=>{let n=e.includes("top")?1:-1,[r,i]=bt()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[Gt(n),Qt(n)];return{animation:t?"".concat(et(r)," 0.35s cubic-bezier(.21,1.02,.73,1) forwards"):"".concat(et(i)," 0.4s forwards cubic-bezier(.06,.71,.55,1)")}})(t.position||n||"top-center",t.visible):{opacity:0},a=i.createElement(Kt,{toast:t}),l=i.createElement(Xt,Ve({},t.ariaProps),vt(t.message,t));return i.createElement(Yt,{className:t.className,style:Ve(Ve(Ve({},s),r),t.style)},"function"==typeof o?o({icon:a,message:l}):i.createElement(i.Fragment,null,a,l))});!function(e,t,n,r){Ke.p=t,$e=e,Je=n,Ze=r}(i.createElement);var Jt=e=>{let{id:t,className:n,style:r,onHeightUpdate:o,children:s}=e,a=i.useCallback(e=>{if(e){let n=()=>{let n=e.getBoundingClientRect().height;o(t,n)};n(),new MutationObserver(n).observe(e,{subtree:!0,childList:!0,characterData:!0})}},[t,o]);return i.createElement("div",{ref:a,className:n,style:r},s)},Zt=Xe(yt||(yt=Le(["\n  z-index: 9999;\n  > * {\n    pointer-events: auto;\n  }\n"]))),en=e=>{let{reverseOrder:t,position:n="top-center",toastOptions:r,gutter:o,children:s,toasterId:a,containerStyle:l,containerClassName:u}=e,{toasts:c,handlers:h}=Dt(r,a);return i.createElement("div",{"data-rht-toaster":a||"",style:Ve({position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none"},l),className:u,onMouseEnter:h.startPause,onMouseLeave:h.endPause},c.map(e=>{let r=e.position||n,a=((e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return Ve(Ve({left:0,right:0,display:"flex",position:"absolute",transition:bt()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:"translateY(".concat(t*(n?1:-1),"px)")},r),i)})(r,h.calculateOffset(e,{reverseOrder:t,gutter:o,defaultPosition:n}));return i.createElement(Jt,{id:e.id,key:e.id,onHeightUpdate:h.updateHeight,className:e.visible?Zt:"",style:a},"custom"===e.type?vt(e.message,e):s?s(e):i.createElement($t,{toast:e,position:r}))}))},tn=Rt,nn={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},rn=i.createContext&&i.createContext(nn),on=function(){return on=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},on.apply(this,arguments)},sn=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function an(e){return e&&e.map(function(e,t){return i.createElement(e.tag,on({key:t},e.attr),an(e.child))})}function ln(e){return function(t){return i.createElement(un,on({attr:on({},e.attr)},t),an(e.child))}}function un(e){var t=function(t){var n,r=e.attr,o=e.size,s=e.title,a=sn(e,["attr","size","title"]),l=o||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),i.createElement("svg",on({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,a,{className:n,style:on(on({color:e.color||t.color},t.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&i.createElement("title",null,s),e.children)};return void 0!==rn?i.createElement(rn.Consumer,null,function(e){return t(e)}):t(nn)}function cn(e){return ln({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}},{tag:"path",attr:{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"}}]})(e)}function hn(e){return ln({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"}},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"}},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"}}]})(e)}function dn(e){return ln({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 8h1a4 4 0 0 1 0 8h-1"}},{tag:"path",attr:{d:"M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z"}},{tag:"line",attr:{x1:"6",y1:"1",x2:"6",y2:"4"}},{tag:"line",attr:{x1:"10",y1:"1",x2:"10",y2:"4"}},{tag:"line",attr:{x1:"14",y1:"1",x2:"14",y2:"4"}}]})(e)}function fn(e){return ln({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"}},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"}}]})(e)}function pn(e){return ln({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"}}]})(e)}function mn(e){return ln({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"}}]})(e)}function gn(e){return ln({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"}},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"}}]})(e)}function yn(e){return ln({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"}},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}}]})(e)}function vn(e){return ln({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"}},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"}}]})(e)}function wn(e){return ln({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"}},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"}},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"}}]})(e)}function bn(e){return ln({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"}},{tag:"polyline",attr:{points:"17 6 23 6 23 12"}}]})(e)}function En(e){return ln({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"}},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"}},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"}}]})(e)}function kn(e){return ln({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"}},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"}}]})(e)}const _n="#1E88E5",Tn="#E3F2FD",Sn="#1565C0",Cn="#388E3C",In="#F57C00",xn="#D32F2F",Nn="#1976D2",An="#263238",Rn="#546E7A",Dn="#FFFFFF",Pn="#9E9E9E",On="#F5F5F5",Ln="#E0E0E0",Mn=20,Fn=15,Un=10,jn=8,Vn=6,zn=12,Bn=28,qn=20,Wn=18,Hn=14,Kn="'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif",Gn=500,Qn=700,Yn={boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"},Xn={boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)"},$n={boxShadow:"0 8px 16px rgba(0, 0, 0, 0.1)"};var Jn=n(579);const Zn={sidebar:Ve({width:"250px",height:"100vh",backgroundColor:Dn,borderRight:"1px solid ".concat(Ln),display:"flex",flexDirection:"column",position:"fixed",left:0,top:0,zIndex:1e3},Xn),logo:{padding:Mn,borderBottom:"1px solid ".concat(Ln),backgroundColor:_n},logoText:{color:Dn,fontSize:qn,fontWeight:Qn,margin:0,fontFamily:Kn},nav:{flex:1,padding:Un},navItem:{display:"flex",alignItems:"center",padding:"".concat(Un,"px ").concat(Mn,"px"),marginBottom:jn,borderRadius:Vn,textDecoration:"none",color:Rn,transition:"all 0.2s ease",fontFamily:Kn,fontSize:Hn,fontWeight:Gn},navItemActive:{backgroundColor:Tn,color:_n},navIcon:{marginRight:Un},navLabel:{fontSize:Hn,fontWeight:Gn}},er=()=>{const e=[{path:"/",icon:mn,label:"Dashboard"},{path:"/teachers",icon:En,label:"Teachers"},{path:"/attendance",icon:hn,label:"Attendance"},{path:"/allowance",icon:fn,label:"Allowance"},{path:"/students",icon:cn,label:"Students"},{path:"/canteen",icon:dn,label:"Canteen"},{path:"/settings",icon:vn,label:"Settings"}];return(0,Jn.jsxs)("div",{style:Zn.sidebar,children:[(0,Jn.jsx)("div",{style:Zn.logo,children:(0,Jn.jsx)("h2",{style:Zn.logoText,children:"School Admin"})}),(0,Jn.jsx)("nav",{style:Zn.nav,children:e.map(e=>(0,Jn.jsxs)(Re,{to:e.path,style:e=>{let{isActive:t}=e;return Ve(Ve({},Zn.navItem),t?Zn.navItemActive:{})},children:[(0,Jn.jsx)(e.icon,{size:20,style:Zn.navIcon}),(0,Jn.jsx)("span",{style:Zn.navLabel,children:e.label})]},e.path))})]})},tr={container:{display:"flex",minHeight:"100vh",backgroundColor:On},main:{flex:1,marginLeft:"250px",padding:Mn,minHeight:"100vh"}},nr=e=>{let{children:t}=e;return(0,Jn.jsxs)("div",{style:tr.container,children:[(0,Jn.jsx)(er,{}),(0,Jn.jsx)("main",{style:tr.main,children:t})]})},rr=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ir={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,s=o?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,u=t>>2,c=(3&t)<<4|s>>4;let h=(15&s)<<2|l>>6,d=63&l;a||(d=64,o||(h=64)),r.push(n[u],n[c],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(rr(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const s=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==s||null==a)throw new or;const l=t<<2|o>>4;if(r.push(l),64!==s){const e=o<<4&240|s>>2;if(r.push(e),64!==a){const e=s<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class or extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sr=function(e){return function(e){const t=rr(e);return ir.encodeByteArray(t,!0)}(e).replace(/\./g,"")},ar=function(e){try{return ir.decodeString(e,!0)}catch(ze){console.error("base64Decode failed: ",ze)}return null};const lr=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,ur=()=>{try{return lr()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/school-management-system",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(ze){return}const t=e&&ar(e[1]);return t&&JSON.parse(t)})()}catch(ze){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(ze))}},cr=e=>{var t,n;return null===(n=null===(t=ur())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},hr=e=>{const t=cr(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},dr=()=>{var e;return null===(e=ur())||void 0===e?void 0:e.config},fr=e=>{var t;return null===(t=ur())||void 0===t?void 0:t["_".concat(e)]};class pr{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function mr(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[sr(JSON.stringify({alg:"none",type:"JWT"})),sr(JSON.stringify(o)),""].join(".")}function gr(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function yr(){try{return"object"===typeof indexedDB}catch(ze){return!1}}class vr extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,vr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wr.prototype.create)}}class wr{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(br,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",o="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new vr(n,o,t)}}const br=/\{\$([^}]+)}/g;function Er(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(kr(n)&&kr(o)){if(!Er(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function kr(e){return null!==e&&"object"===typeof e}function _r(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Tr(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function Sr(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class Cr{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Ir),void 0===r.error&&(r.error=Ir),void 0===r.complete&&(r.complete=Ir);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(ze){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(ze){"undefined"!==typeof console&&console.error&&console.error(ze)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ir(){}function xr(e){return e&&e._delegate?e._delegate:e}class Nr{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ar="[DEFAULT]";class Rr{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new pr;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(ze){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(ze){if(r)return null;throw ze}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ar})}catch(ze){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(ze){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ar;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ar;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ar;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===Ar?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(o){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ar;return this.component?this.component.multipleInstances?e:Ar:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Dr{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Rr(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Pr=[];var Or;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Or||(Or={}));const Lr={debug:Or.DEBUG,verbose:Or.VERBOSE,info:Or.INFO,warn:Or.WARN,error:Or.ERROR,silent:Or.SILENT},Mr=Or.INFO,Fr={[Or.DEBUG]:"log",[Or.VERBOSE]:"log",[Or.INFO]:"info",[Or.WARN]:"warn",[Or.ERROR]:"error"},Ur=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Fr[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];console[r]("[".concat(n,"]  ").concat(e.name,":"),...o)};class jr{constructor(e){this.name=e,this._logLevel=Mr,this._logHandler=Ur,this._userLogHandler=null,Pr.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Or))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Lr[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Or.DEBUG,...t),this._logHandler(this,Or.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Or.VERBOSE,...t),this._logHandler(this,Or.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Or.INFO,...t),this._logHandler(this,Or.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Or.WARN,...t),this._logHandler(this,Or.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Or.ERROR,...t),this._logHandler(this,Or.ERROR,...t)}}let Vr,zr;const Br=new WeakMap,qr=new WeakMap,Wr=new WeakMap,Hr=new WeakMap,Kr=new WeakMap;let Gr={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return qr.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Wr.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xr(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Qr(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(zr||(zr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply($r(this),n),Xr(Br.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Xr(e.apply($r(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call($r(this),t,...r);return Wr.set(o,t.sort?t.sort():[t]),Xr(o)}}function Yr(e){return"function"===typeof e?Qr(e):(e instanceof IDBTransaction&&function(e){if(qr.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});qr.set(e,t)}(e),t=e,(Vr||(Vr=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,Gr):e);var t}function Xr(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(Xr(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)});return t.then(t=>{t instanceof IDBCursor&&Br.set(t,e)}).catch(()=>{}),Kr.set(t,e),t}(e);if(Hr.has(e))return Hr.get(e);const t=Yr(e);return t!==e&&(Hr.set(e,t),Kr.set(t,e)),t}const $r=e=>Kr.get(e);const Jr=["get","getKey","getAll","getAllKeys","count"],Zr=["put","add","delete","clear"],ei=new Map;function ti(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(ei.get(t))return ei.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Zr.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Jr.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];return r&&(o=o.index(a.shift())),(await Promise.all([o[n](...a),i&&t.done]))[0]};return ei.set(t,o),o}Gr=(e=>Ve(Ve({},e),{},{get:(t,n,r)=>ti(t,n)||e.get(t,n,r),has:(t,n)=>!!ti(t,n)||e.has(t,n)}))(Gr);class ni{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const ri="@firebase/app",ii="0.9.13",oi=new jr("@firebase/app"),si="@firebase/app-compat",ai="@firebase/analytics-compat",li="@firebase/analytics",ui="@firebase/app-check-compat",ci="@firebase/app-check",hi="@firebase/auth",di="@firebase/auth-compat",fi="@firebase/database",pi="@firebase/database-compat",mi="@firebase/functions",gi="@firebase/functions-compat",yi="@firebase/installations",vi="@firebase/installations-compat",wi="@firebase/messaging",bi="@firebase/messaging-compat",Ei="@firebase/performance",ki="@firebase/performance-compat",_i="@firebase/remote-config",Ti="@firebase/remote-config-compat",Si="@firebase/storage",Ci="@firebase/storage-compat",Ii="@firebase/firestore",xi="@firebase/firestore-compat",Ni="firebase",Ai="[DEFAULT]",Ri={[ri]:"fire-core",[si]:"fire-core-compat",[li]:"fire-analytics",[ai]:"fire-analytics-compat",[ci]:"fire-app-check",[ui]:"fire-app-check-compat",[hi]:"fire-auth",[di]:"fire-auth-compat",[fi]:"fire-rtdb",[pi]:"fire-rtdb-compat",[mi]:"fire-fn",[gi]:"fire-fn-compat",[yi]:"fire-iid",[vi]:"fire-iid-compat",[wi]:"fire-fcm",[bi]:"fire-fcm-compat",[Ei]:"fire-perf",[ki]:"fire-perf-compat",[_i]:"fire-rc",[Ti]:"fire-rc-compat",[Si]:"fire-gcs",[Ci]:"fire-gcs-compat",[Ii]:"fire-fst",[xi]:"fire-fst-compat","fire-js":"fire-js",[Ni]:"fire-js-all"},Di=new Map,Pi=new Map;function Oi(e,t){try{e.container.addComponent(t)}catch(ze){oi.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),ze)}}function Li(e){const t=e.name;if(Pi.has(t))return oi.debug("There were multiple attempts to register component ".concat(t,".")),!1;Pi.set(t,e);for(const n of Di.values())Oi(n,e);return!0}function Mi(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const Fi=new wr("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Ui{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Nr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fi.create("app-deleted",{appName:this._name})}}const ji="9.23.0";function Vi(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Ai,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Fi.create("bad-app-name",{appName:String(i)});if(n||(n=dr()),!n)throw Fi.create("no-options");const o=Di.get(i);if(o){if(Er(n,o.options)&&Er(r,o.config))return o;throw Fi.create("duplicate-app",{appName:i})}const s=new Dr(i);for(const l of Pi.values())s.addComponent(l);const a=new Ui(n,r,s);return Di.set(i,a),a}function zi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ai;const t=Di.get(e);if(!t&&e===Ai&&dr())return Vi();if(!t)throw Fi.create("no-app",{appName:e});return t}function Bi(e,t,n){var r;let i=null!==(r=Ri[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return o&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),o&&s&&e.push("and"),s&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void oi.warn(e.join(" "))}Li(new Nr("".concat(i,"-version"),()=>({library:i,version:t}),"VERSION"))}const qi="firebase-heartbeat-store";let Wi=null;function Hi(){return Wi||(Wi=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),a=Xr(s);return r&&s.addEventListener("upgradeneeded",e=>{r(Xr(s.result),e.oldVersion,e.newVersion,Xr(s.transaction),e)}),n&&s.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),a.then(e=>{o&&e.addEventListener("close",()=>o()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),a}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(qi)}}).catch(e=>{throw Fi.create("idb-open",{originalErrorMessage:e.message})})),Wi}async function Ki(e,t){try{const n=(await Hi()).transaction(qi,"readwrite"),r=n.objectStore(qi);await r.put(t,Gi(e)),await n.done}catch(ze){if(ze instanceof vr)oi.warn(ze.message);else{const t=Fi.create("idb-set",{originalErrorMessage:null===ze||void 0===ze?void 0:ze.message});oi.warn(t.message)}}}function Gi(e){return"".concat(e.name,"!").concat(e.options.appId)}class Qi{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Xi(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=Yi();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some(e=>e.date===t))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=Yi(),{heartbeatsToSend:t,unsentEntries:n}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),$i(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),$i(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=sr(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function Yi(){return(new Date).toISOString().substring(0,10)}class Xi{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!yr()&&new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=await Hi();return await t.transaction(qi).objectStore(qi).get(Gi(e))}catch(ze){if(ze instanceof vr)oi.warn(ze.message);else{const t=Fi.create("idb-get",{originalErrorMessage:null===ze||void 0===ze?void 0:ze.message});oi.warn(t.message)}}}(this.app);return e||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Ki(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Ki(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function $i(e){return sr(JSON.stringify({version:2,heartbeats:e})).length}var Ji;Ji="",Li(new Nr("platform-logger",e=>new ni(e),"PRIVATE")),Li(new Nr("heartbeat",e=>new Qi(e),"PRIVATE")),Bi(ri,ii,Ji),Bi(ri,ii,"esm2017"),Bi("fire-js","");var Zi,eo="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},to={},no=no||{},ro=eo||self;function io(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function oo(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var so="closure_uid_"+(1e9*Math.random()>>>0),ao=0;function lo(e,t,n){return e.call.apply(e.bind,arguments)}function uo(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function co(e,t,n){return(co=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?lo:uo).apply(null,arguments)}function ho(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function fo(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function po(){this.s=this.s,this.o=this.o}po.prototype.s=!1,po.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function(e){Object.prototype.hasOwnProperty.call(e,so)&&e[so]||(e[so]=++ao)}(this)},po.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const mo=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function go(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function yo(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(io(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function vo(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}vo.prototype.h=function(){this.defaultPrevented=!0};var wo=function(){if(!ro.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{ro.addEventListener("test",()=>{},t),ro.removeEventListener("test",()=>{},t)}catch(Ge){}return e}();function bo(e){return/^[\s\xa0]*$/.test(e)}function Eo(){var e=ro.navigator;return e&&(e=e.userAgent)?e:""}function ko(e){return-1!=Eo().indexOf(e)}function _o(e){return _o[" "](e),e}_o[" "]=function(){};var To,So,Co=ko("Opera"),Io=ko("Trident")||ko("MSIE"),xo=ko("Edge"),No=xo||Io,Ao=ko("Gecko")&&!(-1!=Eo().toLowerCase().indexOf("webkit")&&!ko("Edge"))&&!(ko("Trident")||ko("MSIE"))&&!ko("Edge"),Ro=-1!=Eo().toLowerCase().indexOf("webkit")&&!ko("Edge");function Do(){var e=ro.document;return e?e.documentMode:void 0}e:{var Po="",Oo=function(){var e=Eo();return Ao?/rv:([^\);]+)(\)|;)/.exec(e):xo?/Edge\/([\d\.]+)/.exec(e):Io?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Ro?/WebKit\/(\S+)/.exec(e):Co?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Oo&&(Po=Oo?Oo[1]:""),Io){var Lo=Do();if(null!=Lo&&Lo>parseFloat(Po)){To=String(Lo);break e}}To=Po}if(ro.document&&Io){var Mo=Do();So=Mo||(parseInt(To,10)||void 0)}else So=void 0;var Fo=So;function Uo(e,t){if(vo.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Ao){e:{try{_o(t.nodeName);var i=!0;break e}catch(Je){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:jo[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Uo.$.h.call(this)}}fo(Uo,vo);var jo={2:"touch",3:"pen",4:"mouse"};Uo.prototype.h=function(){Uo.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Vo="closure_listenable_"+(1e6*Math.random()|0),zo=0;function Bo(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++zo,this.fa=this.ia=!1}function qo(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Wo(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function Ho(e){const t={};for(const n in e)t[n]=e[n];return t}const Ko="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Go(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<Ko.length;t++)n=Ko[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Qo(e){this.src=e,this.g={},this.h=0}function Yo(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=mo(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(qo(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Xo(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.fa&&o.listener==t&&o.capture==!!n&&o.la==r)return i}return-1}Qo.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var s=Xo(e,t,r,i);return-1<s?(t=e[s],n||(t.ia=!1)):((t=new Bo(t,this.src,o,!!r,i)).ia=n,e.push(t)),t};var $o="closure_lm_"+(1e6*Math.random()|0),Jo={};function Zo(e,t,n,r,i){if(r&&r.once)return ts(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)Zo(e,t[o],n,r,i);return null}return n=ls(n),e&&e[Vo]?e.O(t,n,oo(r)?!!r.capture:!!r,i):es(e,t,n,!1,r,i)}function es(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=oo(i)?!!i.capture:!!i,a=ss(e);if(a||(e[$o]=a=new Qo(e)),(n=a.add(t,n,r,s,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=os;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)wo||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(is(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ts(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)ts(e,t[o],n,r,i);return null}return n=ls(n),e&&e[Vo]?e.P(t,n,oo(r)?!!r.capture:!!r,i):es(e,t,n,!0,r,i)}function ns(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)ns(e,t[o],n,r,i);else r=oo(r)?!!r.capture:!!r,n=ls(n),e&&e[Vo]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Xo(o=e.g[t],n,r,i))&&(qo(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=ss(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Xo(t,n,r,i)),(n=-1<e?t[e]:null)&&rs(n))}function rs(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Vo])Yo(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(is(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ss(t))?(Yo(n,e),0==n.h&&(n.src=null,t[$o]=null)):qo(e)}}}function is(e){return e in Jo?Jo[e]:Jo[e]="on"+e}function os(e,t){if(e.fa)e=!0;else{t=new Uo(t,this);var n=e.listener,r=e.la||e.src;e.ia&&rs(e),e=n.call(r,t)}return e}function ss(e){return(e=e[$o])instanceof Qo?e:null}var as="__closure_events_fn_"+(1e9*Math.random()>>>0);function ls(e){return"function"===typeof e?e:(e[as]||(e[as]=function(t){return e.handleEvent(t)}),e[as])}function us(){po.call(this),this.i=new Qo(this),this.S=this,this.J=null}function cs(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new vo(t,e);else if(t instanceof vo)t.target=t.target||e;else{var i=t;Go(t=new vo(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];i=hs(s,r,!0,t)&&i}if(i=hs(s=t.g=e,r,!0,t)&&i,i=hs(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=hs(s=t.g=n[o],r,!1,t)&&i}function hs(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&Yo(e.i,s),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}fo(us,po),us.prototype[Vo]=!0,us.prototype.removeEventListener=function(e,t,n,r){ns(this,e,t,n,r)},us.prototype.N=function(){if(us.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)qo(n[r]);delete t.g[e],t.h--}}this.J=null},us.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},us.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var ds=ro.JSON.stringify;function fs(){var e=bs;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var ps=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new ms,e=>e.reset());class ms{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function gs(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function ys(e){ro.setTimeout(()=>{throw e},0)}let vs,ws=!1,bs=new class{constructor(){this.h=this.g=null}add(e,t){const n=ps.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},Es=()=>{const e=ro.Promise.resolve(void 0);vs=()=>{e.then(ks)}};var ks=()=>{for(var e;e=fs();){try{e.h.call(e.g)}catch(Ge){ys(Ge)}var t=ps;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}ws=!1};function _s(e,t){us.call(this),this.h=e||1,this.g=t||ro,this.j=co(this.qb,this),this.l=Date.now()}function Ts(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Ss(e,t,n){if("function"===typeof e)n&&(e=co(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=co(e.handleEvent,e)}return 2147483647<Number(t)?-1:ro.setTimeout(e,t||0)}function Cs(e){e.g=Ss(()=>{e.g=null,e.i&&(e.i=!1,Cs(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}fo(_s,us),(Zi=_s.prototype).ga=!1,Zi.T=null,Zi.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),cs(this,"tick"),this.ga&&(Ts(this),this.start()))}},Zi.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Zi.N=function(){_s.$.N.call(this),Ts(this),delete this.g};class Is extends po{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Cs(this)}N(){super.N(),this.g&&(ro.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xs(e){po.call(this),this.h=e,this.g={}}fo(xs,po);var Ns=[];function As(e,t,n,r){Array.isArray(n)||(n&&(Ns[0]=n.toString()),n=Ns);for(var i=0;i<n.length;i++){var o=Zo(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function Rs(e){Wo(e.g,function(e,t){this.g.hasOwnProperty(t)&&rs(e)},e),e.g={}}function Ds(){this.g=!0}function Ps(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return ds(n)}catch(He){return t}}(e,n)+(r?" "+r:"")})}xs.prototype.N=function(){xs.$.N.call(this),Rs(this)},xs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ds.prototype.Ea=function(){this.g=!1},Ds.prototype.info=function(){};var Os={},Ls=null;function Ms(){return Ls=Ls||new us}function Fs(e){vo.call(this,Os.Ta,e)}function Us(e){const t=Ms();cs(t,new Fs(t))}function js(e,t){vo.call(this,Os.STAT_EVENT,e),this.stat=t}function Vs(e){const t=Ms();cs(t,new js(t,e))}function zs(e,t){vo.call(this,Os.Ua,e),this.size=t}function Bs(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return ro.setTimeout(function(){e()},t)}Os.Ta="serverreachability",fo(Fs,vo),Os.STAT_EVENT="statevent",fo(js,vo),Os.Ua="timingevent",fo(zs,vo);var qs={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Ws={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Hs(){}function Ks(e){return e.h||(e.h=e.i())}function Gs(){}Hs.prototype.h=null;var Qs,Ys={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Xs(){vo.call(this,"d")}function $s(){vo.call(this,"c")}function Js(){}function Zs(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new xs(this),this.P=ta,e=No?125:void 0,this.V=new _s(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new ea}function ea(){this.i=null,this.g="",this.h=!1}fo(Xs,vo),fo($s,vo),fo(Js,Hs),Js.prototype.g=function(){return new XMLHttpRequest},Js.prototype.i=function(){return{}},Qs=new Js;var ta=45e3,na={},ra={};function ia(e,t,n){e.L=1,e.v=_a(va(t)),e.s=n,e.S=!0,oa(e,null)}function oa(e,t){e.G=Date.now(),ua(e),e.A=va(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),Ma(n.i,"t",r),e.C=0,n=e.l.J,e.h=new ea,e.g=Ml(e.l,n?t:null,!e.s),0<e.O&&(e.M=new Is(co(e.Pa,e,e.g),e.O)),As(e.U,e.g,"readystatechange",e.nb),t=e.I?Ho(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),Us(),function(e,t,n,r,i,o){e.info(function(){if(e.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");s=2<=h.length&&"type"==h[1]?s+(c+"=")+u+"&":s+(c+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s})}(e.j,e.u,e.A,e.m,e.W,e.s)}function sa(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function aa(e,t,n){let r,i=!0;for(;!e.J&&e.C<n.length;){if(r=la(e,n),r==ra){4==t&&(e.o=4,Vs(14),i=!1),Ps(e.j,e.m,null,"[Incomplete Response]");break}if(r==na){e.o=4,Vs(15),Ps(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Ps(e.j,e.m,r,null),pa(e,r)}sa(e)&&r!=ra&&r!=na&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Vs(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),xl(t),t.M=!0,Vs(11))):(Ps(e.j,e.m,n,"[Invalid Chunked Response]"),fa(e),da(e))}function la(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?ra:(n=Number(t.substring(n,r)),isNaN(n)?na:(r+=1)+n>t.length?ra:(t=t.slice(r,r+n),e.C=r+n,t))}function ua(e){e.Y=Date.now()+e.P,ca(e,e.P)}function ca(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Bs(co(e.lb,e),t)}function ha(e){e.B&&(ro.clearTimeout(e.B),e.B=null)}function da(e){0==e.l.H||e.J||Rl(e.l,e)}function fa(e){ha(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,Ts(e.V),Rs(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function pa(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||qa(n.i,e)))if(!e.K&&qa(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Al(n),bl(n)}Il(n),Vs(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Bs(co(n.ib,n),6e3));if(1>=Ba(n.i)&&n.oa){try{n.oa()}catch(u){}n.oa=void 0}}else Pl(n,11)}else if((e.K||n.g==e)&&Al(n),!bo(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.V=u[0],u=u[1],2==n.H)if("c"==u[0]){n.K=u[1],n.pa=u[2];const t=u[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=u[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const c=u[5];null!=c&&"number"===typeof c&&0<c&&(r=1.5*c,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.i;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(Wa(o,o.h),o.h=null))}if(r.F){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,ka(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var s=e;if((r=n).wa=Ll(r,r.J?r.pa:null,r.Y),s.K){Ha(r.i,s);var a=s,l=r.L;l&&a.setTimeout(l),a.B&&(ha(a),ua(a)),r.g=s}else Cl(r);0<n.j.length&&kl(n)}else"stop"!=u[0]&&"close"!=u[0]||Pl(n,7);else 3==n.H&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?Pl(n,7):wl(n):"noop"!=u[0]&&n.h&&n.h.Aa(u),n.A=0)}Us()}catch(u){}}function ma(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(io(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(io(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(io(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(Zi=Zs.prototype).setTimeout=function(e){this.P=e},Zi.nb=function(e){e=e.target;const t=this.M;t&&3==fl(e)?t.l():this.Pa(e)},Zi.Pa=function(e){try{if(e==this.g)e:{const c=fl(this.g);var t=this.g.Ia();this.g.da();if(!(3>c)&&(3!=c||No||this.g&&(this.h.h||this.g.ja()||pl(this.g)))){this.J||4!=c||7==t||Us(),ha(this);var n=this.g.da();this.ca=n;t:if(sa(this)){var r=pl(this.g);e="";var i=r.length,o=4==fl(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){fa(this),da(this);var s="";break t}this.h.i=new ro.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:o&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,o,s){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+s})}(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!bo(a)){var u=a;break t}}u=null}if(!(n=u)){this.i=!1,this.o=3,Vs(12),fa(this),da(this);break e}Ps(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,pa(this,n)}this.S?(aa(this,c,s),No&&this.i&&3==c&&(As(this.U,this.V,"tick",this.mb),this.V.start())):(Ps(this.j,this.m,s,null),pa(this,s)),4==c&&fa(this),this.i&&!this.J&&(4==c?Rl(this.l,this):(this.i=!1,ua(this)))}else(function(e){const t={};e=(e.g&&2<=fl(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(bo(e[r]))continue;var n=gs(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.o=3,Vs(12)):(this.o=0,Vs(13)),fa(this),da(this)}}}catch(Xe){}},Zi.mb=function(){if(this.g){var e=fl(this.g),t=this.g.ja();this.C<t.length&&(ha(this),aa(this,e,t),this.i&&4!=e&&ua(this))}},Zi.cancel=function(){this.J=!0,fa(this)},Zi.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.L&&(Us(),Vs(17)),fa(this),this.o=2,da(this)):ca(this,this.Y-e)};var ga=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ya(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof ya){this.h=e.h,wa(this,e.j),this.s=e.s,this.g=e.g,ba(this,e.m),this.l=e.l;var t=e.i,n=new Da;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Ea(this,n),this.o=e.o}else e&&(t=String(e).match(ga))?(this.h=!1,wa(this,t[1]||"",!0),this.s=Ta(t[2]||""),this.g=Ta(t[3]||"",!0),ba(this,t[4]),this.l=Ta(t[5]||"",!0),Ea(this,t[6]||"",!0),this.o=Ta(t[7]||"")):(this.h=!1,this.i=new Da(null,this.h))}function va(e){return new ya(e)}function wa(e,t,n){e.j=n?Ta(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function ba(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Ea(e,t,n){t instanceof Da?(e.i=t,function(e,t){t&&!e.j&&(Pa(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(Oa(this,t),Ma(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=Sa(t,Aa)),e.i=new Da(t,e.h))}function ka(e,t,n){e.i.set(t,n)}function _a(e){return ka(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Ta(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Sa(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Ca),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Ca(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ya.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Sa(t,Ia,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Sa(t,Ia,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Sa(n,"/"==n.charAt(0)?Na:xa,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Sa(n,Ra)),e.join("")};var Ia=/[#\/\?@]/g,xa=/[#\?:]/g,Na=/[#\?]/g,Aa=/[#\?@]/g,Ra=/#/g;function Da(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Pa(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function Oa(e,t){Pa(e),t=Fa(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function La(e,t){return Pa(e),t=Fa(e,t),e.g.has(t)}function Ma(e,t,n){Oa(e,t),0<n.length&&(e.i=null,e.g.set(Fa(e,t),go(n)),e.h+=n.length)}function Fa(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Zi=Da.prototype).add=function(e,t){Pa(this),this.i=null,e=Fa(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Zi.forEach=function(e,t){Pa(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},Zi.ta=function(){Pa(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},Zi.Z=function(e){Pa(this);let t=[];if("string"===typeof e)La(this,e)&&(t=t.concat(this.g.get(Fa(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},Zi.set=function(e,t){return Pa(this),this.i=null,La(this,e=Fa(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Zi.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Zi.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),e.push(i)}}return this.i=e.join("&")};var Ua=class{constructor(e,t){this.g=e,this.map=t}};function ja(e){this.l=e||Va,ro.PerformanceNavigationTiming?e=0<(e=ro.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(ro.g&&ro.g.Ka&&ro.g.Ka()&&ro.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Va=10;function za(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ba(e){return e.h?1:e.g?e.g.size:0}function qa(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Wa(e,t){e.g?e.g.add(t):e.h=t}function Ha(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Ka(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return go(e.i)}ja.prototype.cancel=function(){if(this.i=Ka(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Ga=class{stringify(e){return ro.JSON.stringify(e,void 0)}parse(e){return ro.JSON.parse(e,void 0)}};function Qa(){this.g=new Ga}function Ya(e,t,n){const r=n||"";try{ma(e,function(e,n){let i=e;oo(e)&&(i=ds(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(ze){throw t.push(r+"type="+encodeURIComponent("_badmap")),ze}}function Xa(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(Je){}}function $a(e){this.l=e.fc||null,this.j=e.ob||!1}function Ja(e,t){us.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Za,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}fo($a,Hs),$a.prototype.g=function(){return new Ja(this.l,this.j)},$a.prototype.i=function(e){return function(){return e}}({}),fo(Ja,us);var Za=0;function el(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function tl(e){e.readyState=4,e.l=null,e.j=null,e.A=null,nl(e)}function nl(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Zi=Ja.prototype).open=function(e,t){if(this.readyState!=Za)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,nl(this)},Zi.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||ro).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Zi.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,tl(this)),this.readyState=Za},Zi.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,nl(this)),this.g&&(this.readyState=3,nl(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof ro.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;el(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Zi.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?tl(this):nl(this),3==this.readyState&&el(this)}},Zi.Za=function(e){this.g&&(this.response=this.responseText=e,tl(this))},Zi.Ya=function(e){this.g&&(this.response=e,tl(this))},Zi.ka=function(){this.g&&tl(this)},Zi.setRequestHeader=function(e,t){this.v.append(e,t)},Zi.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Zi.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Ja.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var rl=ro.JSON.parse;function il(e){us.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=ol,this.L=this.M=!1}fo(il,us);var ol="",sl=/^https?$/i,al=["POST","PUT"];function ll(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,ul(e),hl(e)}function ul(e){e.F||(e.F=!0,cs(e,"complete"),cs(e,"error"))}function cl(e){if(e.h&&"undefined"!=typeof no&&(!e.C[1]||4!=fl(e)||2!=e.da()))if(e.v&&4==fl(e))Ss(e.La,0,e);else if(cs(e,"readystatechange"),4==fl(e)){e.h=!1;try{const s=e.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===s){var i=String(e.I).match(ga)[1]||null;!i&&ro.self&&ro.self.location&&(i=ro.self.location.protocol.slice(0,-1)),r=!sl.test(i?i.toLowerCase():"")}n=r}if(n)cs(e,"complete"),cs(e,"success");else{e.m=6;try{var o=2<fl(e)?e.g.statusText:""}catch(He){o=""}e.j=o+" ["+e.da()+"]",ul(e)}}finally{hl(e)}}}function hl(e,t){if(e.g){dl(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||cs(e,"ready");try{n.onreadystatechange=r}catch(ze){}}}function dl(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(ro.clearTimeout(e.A),e.A=null)}function fl(e){return e.g?e.g.readyState:0}function pl(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case ol:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function ml(e){let t="";return Wo(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function gl(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=ml(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ka(e,t,n))}function yl(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function vl(e){this.Ga=0,this.j=[],this.l=new Ds,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=yl("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=yl("baseRetryDelayMs",5e3,e),this.hb=yl("retryDelaySeedMs",1e4,e),this.eb=yl("forwardChannelMaxRetries",2,e),this.xa=yl("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new ja(e&&e.concurrentRequestLimit),this.Ja=new Qa,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function wl(e){if(El(e),3==e.H){var t=e.W++,n=va(e.I);if(ka(n,"SID",e.K),ka(n,"RID",t),ka(n,"TYPE","terminate"),Tl(e,n),(t=new Zs(e,e.l,t)).L=2,t.v=_a(va(n)),n=!1,ro.navigator&&ro.navigator.sendBeacon)try{n=ro.navigator.sendBeacon(t.v.toString(),"")}catch($e){}!n&&ro.Image&&((new Image).src=t.v,n=!0),n||(t.g=Ml(t.l,null),t.g.ha(t.v)),t.G=Date.now(),ua(t)}Ol(e)}function bl(e){e.g&&(xl(e),e.g.cancel(),e.g=null)}function El(e){bl(e),e.u&&(ro.clearTimeout(e.u),e.u=null),Al(e),e.i.cancel(),e.m&&("number"===typeof e.m&&ro.clearTimeout(e.m),e.m=null)}function kl(e){if(!za(e.i)&&!e.m){e.m=!0;var t=e.Na;vs||Es(),ws||(vs(),ws=!0),bs.add(t,e),e.C=0}}function _l(e,t){var n;n=t?t.m:e.W++;const r=va(e.I);ka(r,"SID",e.K),ka(r,"RID",n),ka(r,"AID",e.V),Tl(e,r),e.o&&e.s&&gl(r,e.o,e.s),n=new Zs(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Sl(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Wa(e.i,n),ia(n,r,t)}function Tl(e,t){e.na&&Wo(e.na,function(e,n){ka(t,n,e)}),e.h&&ma({},function(e,n){ka(t,n,e)})}function Sl(e,t,n){n=Math.min(e.j.length,n);var r=e.h?co(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let s=0;s<n;s++){let n=i[s].g;const a=i[s].map;if(n-=t,0>n)t=Math.max(0,i[s].g-100),o=!1;else try{Ya(a,e,"req"+n+"_")}catch(zt){r&&r(a)}}if(o){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function Cl(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;vs||Es(),ws||(vs(),ws=!0),bs.add(t,e),e.A=0}}function Il(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Bs(co(e.Ma,e),Dl(e,e.A)),e.A++,!0)}function xl(e){null!=e.B&&(ro.clearTimeout(e.B),e.B=null)}function Nl(e){e.g=new Zs(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=va(e.wa);ka(t,"RID","rpc"),ka(t,"SID",e.K),ka(t,"AID",e.V),ka(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&ka(t,"TO",e.qa),ka(t,"TYPE","xmlhttp"),Tl(e,t),e.o&&e.s&&gl(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=_a(va(t)),n.s=null,n.S=!0,oa(n,e)}function Al(e){null!=e.v&&(ro.clearTimeout(e.v),e.v=null)}function Rl(e,t){var n=null;if(e.g==t){Al(e),xl(e),e.g=null;var r=2}else{if(!qa(e.i,t))return;n=t.F,Ha(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;cs(r=Ms(),new zs(r,n)),kl(e)}else Cl(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(Ba(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=Bs(co(e.Na,e,t),Dl(e,e.C)),e.C++,!0))}(e,t)||2==r&&Il(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Pl(e,5);break;case 4:Pl(e,10);break;case 3:Pl(e,6);break;default:Pl(e,2)}}function Dl(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Pl(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=co(e.pb,e);n||(n=new ya("//www.google.com/images/cleardot.gif"),ro.location&&"http"==ro.location.protocol||wa(n,"https"),_a(n)),function(e,t){const n=new Ds;if(ro.Image){const r=new Image;r.onload=ho(Xa,n,r,"TestLoadImage: loaded",!0,t),r.onerror=ho(Xa,n,r,"TestLoadImage: error",!1,t),r.onabort=ho(Xa,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=ho(Xa,n,r,"TestLoadImage: timeout",!1,t),ro.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(n.toString(),r)}else Vs(2);e.H=0,e.h&&e.h.za(t),Ol(e),El(e)}function Ol(e){if(e.H=0,e.ma=[],e.h){const t=Ka(e.i);0==t.length&&0==e.j.length||(yo(e.ma,t),yo(e.ma,e.j),e.i.i.length=0,go(e.j),e.j.length=0),e.h.ya()}}function Ll(e,t,n){var r=n instanceof ya?va(n):new ya(n);if(""!=r.g)t&&(r.g=t+"."+r.g),ba(r,r.m);else{var i=ro.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var o=new ya(null);r&&wa(o,r),t&&(o.g=t),i&&ba(o,i),n&&(o.l=n),r=o}return n=e.F,t=e.Da,n&&t&&ka(r,n,t),ka(r,"VER",e.ra),Tl(e,r),r}function Ml(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new il(new $a({ob:!0})):new il(e.va)).Oa(e.J),t}function Fl(){}function Ul(){if(Io&&!(10<=Number(Fo)))throw Error("Environmental error: no available transport.")}function jl(e,t){us.call(this),this.g=new vl(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!bo(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!bo(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Bl(this)}function Vl(e){Xs.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function zl(){$s.call(this),this.status=1}function Bl(e){this.g=e}function ql(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Wl(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],s=t+(o^n&(i^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(s<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(t=n+((s=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function Hl(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}(Zi=il.prototype).Oa=function(e){this.M=e},Zi.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Qs.g(),this.C=this.u?Ks(this.u):Ks(Qs),this.g.onreadystatechange=co(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(Je){return void ll(this,Je)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),i=ro.FormData&&e instanceof ro.FormData,!(0<=mo(al,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{dl(this),0<this.B&&((this.L=function(e){return Io&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=co(this.ua,this)):this.A=Ss(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(Je){ll(this,Je)}},Zi.ua=function(){"undefined"!=typeof no&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,cs(this,"timeout"),this.abort(8))},Zi.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,cs(this,"complete"),cs(this,"abort"),hl(this))},Zi.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),hl(this,!0)),il.$.N.call(this)},Zi.La=function(){this.s||(this.G||this.v||this.l?cl(this):this.kb())},Zi.kb=function(){cl(this)},Zi.isActive=function(){return!!this.g},Zi.da=function(){try{return 2<fl(this)?this.g.status:-1}catch(We){return-1}},Zi.ja=function(){try{return this.g?this.g.responseText:""}catch(We){return""}},Zi.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),rl(t)}},Zi.Ia=function(){return this.m},Zi.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Zi=vl.prototype).ra=8,Zi.H=1,Zi.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new Zs(this,this.l,e);let o=this.s;if(this.U&&(o?(o=Ho(o),Go(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Sl(this,i,t),ka(n=va(this.I),"RID",e),ka(n,"CVER",22),this.F&&ka(n,"X-HTTP-Session-Id",this.F),Tl(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(ml(o)))+"&"+t:this.o&&gl(n,this.o,o)),Wa(this.i,i),this.bb&&ka(n,"TYPE","init"),this.P?(ka(n,"$req",t),ka(n,"SID","null"),i.aa=!0,ia(i,n,null)):ia(i,n,t),this.H=2}}else 3==this.H&&(e?_l(this,e):0==this.j.length||za(this.i)||_l(this))},Zi.Ma=function(){if(this.u=null,Nl(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Bs(co(this.jb,this),e)}},Zi.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Vs(10),bl(this),Nl(this))},Zi.ib=function(){null!=this.v&&(this.v=null,bl(this),Il(this),Vs(19))},Zi.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Vs(2)):(this.l.info("Failed to ping google.com"),Vs(1))},Zi.isActive=function(){return!!this.h&&this.h.isActive(this)},(Zi=Fl.prototype).Ba=function(){},Zi.Aa=function(){},Zi.za=function(){},Zi.ya=function(){},Zi.isActive=function(){return!0},Zi.Va=function(){},Ul.prototype.g=function(e,t){return new jl(e,t)},fo(jl,us),jl.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Vs(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Ll(e,null,e.Y),kl(e)},jl.prototype.close=function(){wl(this.g)},jl.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=ds(e),e=n);t.j.push(new Ua(t.fb++,e)),3==t.H&&kl(t)},jl.prototype.N=function(){this.g.h=null,delete this.j,wl(this.g),delete this.g,jl.$.N.call(this)},fo(Vl,Xs),fo(zl,$s),fo(Bl,Fl),Bl.prototype.Ba=function(){cs(this.g,"a")},Bl.prototype.Aa=function(e){cs(this.g,new Vl(e))},Bl.prototype.za=function(e){cs(this.g,new zl)},Bl.prototype.ya=function(){cs(this.g,"b")},fo(ql,function(){this.blockSize=-1}),ql.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},ql.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,o=0;o<t;){if(0==i)for(;o<=n;)Wl(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(r[i++]=e.charCodeAt(o++),i==this.blockSize){Wl(this,r),i=0;break}}else for(;o<t;)if(r[i++]=e[o++],i==this.blockSize){Wl(this,r),i=0;break}}this.h=i,this.i+=t},ql.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Kl={};function Gl(e){return-128<=e&&128>e?function(e,t){var n=Kl;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new Hl([0|e],0>e?-1:0)}):new Hl([0|e],0>e?-1:0)}function Ql(e){if(isNaN(e)||!isFinite(e))return Xl;if(0>e)return tu(Ql(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Yl;return new Hl(t,0)}var Yl=4294967296,Xl=Gl(0),$l=Gl(1),Jl=Gl(16777216);function Zl(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function eu(e){return-1==e.h}function tu(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Hl(n,~e.h).add($l)}function nu(e,t){return e.add(tu(t))}function ru(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function iu(e,t){this.g=e,this.h=t}function ou(e,t){if(Zl(t))throw Error("division by zero");if(Zl(e))return new iu(Xl,Xl);if(eu(e))return t=ou(tu(e),t),new iu(tu(t.g),tu(t.h));if(eu(t))return t=ou(e,tu(t)),new iu(tu(t.g),t.h);if(30<e.g.length){if(eu(e)||eu(t))throw Error("slowDivide_ only works with positive integers.");for(var n=$l,r=t;0>=r.X(e);)n=su(n),r=su(r);var i=au(n,1),o=au(r,1);for(r=au(r,2),n=au(n,2);!Zl(r);){var s=o.add(r);0>=s.X(e)&&(i=i.add(n),o=s),r=au(r,1),n=au(n,1)}return t=nu(e,i.R(t)),new iu(i,t)}for(i=Xl;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),s=(o=Ql(n)).R(t);eu(s)||0<s.X(e);)s=(o=Ql(n-=r)).R(t);Zl(o)&&(o=$l),i=i.add(o),e=nu(e,s)}return new iu(i,e)}function su(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Hl(n,e.h)}function au(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],o=0;o<r;o++)i[o]=0<t?e.D(o+n)>>>t|e.D(o+n+1)<<32-t:e.D(o+n);return new Hl(i,e.h)}(Zi=Hl.prototype).ea=function(){if(eu(this))return-tu(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Yl+r)*t,t*=Yl}return e},Zi.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Zl(this))return"0";if(eu(this))return"-"+tu(this).toString(e);for(var t=Ql(Math.pow(e,6)),n=this,r="";;){var i=ou(n,t).g,o=((0<(n=nu(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Zl(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},Zi.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Zi.X=function(e){return eu(e=nu(this,e))?-1:Zl(e)?0:1},Zi.abs=function(){return eu(this)?tu(this):this},Zi.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var o=r+(65535&this.D(i))+(65535&e.D(i)),s=(o>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new Hl(n,-2147483648&n[n.length-1]?-1:0)},Zi.R=function(e){if(Zl(this)||Zl(e))return Xl;if(eu(this))return eu(e)?tu(this).R(tu(e)):tu(tu(this).R(e));if(eu(e))return tu(this.R(tu(e)));if(0>this.X(Jl)&&0>e.X(Jl))return Ql(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var o=this.D(r)>>>16,s=65535&this.D(r),a=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=s*l,ru(n,2*r+2*i),n[2*r+2*i+1]+=o*l,ru(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,ru(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,ru(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Hl(n,0)},Zi.gb=function(e){return ou(this,e).h},Zi.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Hl(n,this.h&e.h)},Zi.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Hl(n,this.h|e.h)},Zi.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Hl(n,this.h^e.h)},Ul.prototype.createWebChannel=Ul.prototype.g,jl.prototype.send=jl.prototype.u,jl.prototype.open=jl.prototype.m,jl.prototype.close=jl.prototype.close,qs.NO_ERROR=0,qs.TIMEOUT=8,qs.HTTP_ERROR=6,Ws.COMPLETE="complete",Gs.EventType=Ys,Ys.OPEN="a",Ys.CLOSE="b",Ys.ERROR="c",Ys.MESSAGE="d",us.prototype.listen=us.prototype.O,il.prototype.listenOnce=il.prototype.P,il.prototype.getLastError=il.prototype.Sa,il.prototype.getLastErrorCode=il.prototype.Ia,il.prototype.getStatus=il.prototype.da,il.prototype.getResponseJson=il.prototype.Wa,il.prototype.getResponseText=il.prototype.ja,il.prototype.send=il.prototype.ha,il.prototype.setWithCredentials=il.prototype.Oa,ql.prototype.digest=ql.prototype.l,ql.prototype.reset=ql.prototype.reset,ql.prototype.update=ql.prototype.j,Hl.prototype.add=Hl.prototype.add,Hl.prototype.multiply=Hl.prototype.R,Hl.prototype.modulo=Hl.prototype.gb,Hl.prototype.compare=Hl.prototype.X,Hl.prototype.toNumber=Hl.prototype.ea,Hl.prototype.toString=Hl.prototype.toString,Hl.prototype.getBits=Hl.prototype.D,Hl.fromNumber=Ql,Hl.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return tu(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Ql(Math.pow(n,8)),i=Xl,o=0;o<t.length;o+=8){var s=Math.min(8,t.length-o),a=parseInt(t.substring(o,o+s),n);8>s?(s=Ql(Math.pow(n,s)),i=i.R(s).add(Ql(a))):i=(i=i.R(r)).add(Ql(a))}return i};var lu=to.createWebChannelTransport=function(){return new Ul},uu=to.getStatEventTarget=function(){return Ms()},cu=to.ErrorCode=qs,hu=to.EventType=Ws,du=to.Event=Os,fu=to.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},pu=to.FetchXmlHttpFactory=$a,mu=to.WebChannel=Gs,gu=to.XhrIo=il,yu=to.Md5=ql,vu=to.Integer=Hl;const wu="@firebase/firestore";class bu{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}bu.UNAUTHENTICATED=new bu(null),bu.GOOGLE_CREDENTIALS=new bu("google-credentials-uid"),bu.FIRST_PARTY=new bu("first-party-uid"),bu.MOCK_USER=new bu("mock-user");let Eu="9.23.0";const ku=new jr("@firebase/firestore");function _u(){return ku.logLevel}function Tu(e){if(ku.logLevel<=Or.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Iu);ku.debug("Firestore (".concat(Eu,"): ").concat(e),...i)}}function Su(e){if(ku.logLevel<=Or.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Iu);ku.error("Firestore (".concat(Eu,"): ").concat(e),...i)}}function Cu(e){if(ku.logLevel<=Or.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Iu);ku.warn("Firestore (".concat(Eu,"): ").concat(e),...i)}}function Iu(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function xu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(Eu,") INTERNAL ASSERTION FAILED: ")+e;throw Su(t),new Error(t)}function Nu(e,t){e||xu()}function Au(e,t){return e}const Ru={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Du extends vr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class Pu{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Ou{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class Lu{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(bu.UNAUTHENTICATED))}shutdown(){}}class Mu{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Fu{constructor(e){this.t=e,this.currentUser=bu.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Pu;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Pu,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},s=e=>{Tu("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(e=>s(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(Tu("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Pu)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(Tu("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Nu("string"==typeof t.accessToken),new Ou(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Nu(null===e||"string"==typeof e),new bu(e)}}class Uu{constructor(e,t,n){this.h=e,this.l=t,this.m=n,this.type="FirstParty",this.user=bu.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class ju{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new Uu(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(bu.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Vu{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zu{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const n=e=>{null!=e.error&&Tu("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.T;return this.T=e.token,Tu("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{Tu("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.I.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.I.getImmediate({optional:!0});e?r(e):Tu("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(Nu("string"==typeof e.token),this.T=e.token,new Vu(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Bu(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class qu{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=Bu(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function Wu(e,t){return e<t?-1:e>t?1:0}function Hu(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}class Ku{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Du(Ru.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Du(Ru.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Du(Ru.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Du(Ru.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ku.fromMillis(Date.now())}static fromDate(e){return Ku.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Ku(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Wu(this.nanoseconds,e.nanoseconds):Wu(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Gu{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Gu(e)}static min(){return new Gu(new Ku(0,0))}static max(){return new Gu(new Ku(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Qu{constructor(e,t,n){void 0===t?t=0:t>e.length&&xu(),void 0===n?n=e.length-t:n>e.length-t&&xu(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Qu.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Qu?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Yu extends Qu{construct(e,t,n){return new Yu(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Du(Ru.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter(e=>e.length>0))}return new Yu(e)}static emptyPath(){return new Yu([])}}const Xu=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $u extends Qu{construct(e,t,n){return new $u(e,t,n)}static isValidIdentifier(e){return Xu.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$u.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new $u(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Du(Ru.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Du(Ru.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Du(Ru.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new Du(Ru.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $u(t)}static emptyPath(){return new $u([])}}class Ju{constructor(e){this.path=e}static fromPath(e){return new Ju(Yu.fromString(e))}static fromName(e){return new Ju(Yu.fromString(e).popFirst(5))}static empty(){return new Ju(Yu.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Yu.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Yu.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ju(new Yu(e.slice()))}}class Zu{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Zu.UNKNOWN_ID=-1;function ec(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Gu.fromTimestamp(1e9===r?new Ku(n+1,0):new Ku(n,r));return new nc(i,Ju.empty(),t)}function tc(e){return new nc(e.readTime,e.key,-1)}class nc{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new nc(Gu.min(),Ju.empty(),-1)}static max(){return new nc(Gu.max(),Ju.empty(),-1)}}function rc(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Ju.comparator(e.documentKey,t.documentKey),0!==n?n:Wu(e.largestBatchId,t.largestBatchId))}const ic="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class oc{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function sc(e){if(e.code!==Ru.FAILED_PRECONDITION||e.message!==ic)throw e;Tu("LocalStore","Unexpectedly lost primary lease")}class ac{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&xu(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ac((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ac?t:ac.resolve(t)}catch(e){return ac.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ac.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ac.reject(t)}static resolve(e){return new ac((t,n)=>{t(e)})}static reject(e){return new ac((t,n)=>{n(e)})}static waitFor(e){return new ac((t,n)=>{let r=0,i=0,o=!1;e.forEach(e=>{++r,e.next(()=>{++i,o&&i===r&&t()},e=>n(e))}),o=!0,i===r&&t()})}static or(e){let t=ac.resolve(!1);for(const n of e)t=t.next(e=>e?ac.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new ac((n,r)=>{const i=e.length,o=new Array(i);let s=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next(e=>{o[l]=e,++s,s===i&&n(o)},e=>r(e))}})}static doWhile(e,t){return new ac((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function lc(e){return"IndexedDbTransactionError"===e.name}class uc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ot(e),this.ut=e=>t.writeSequenceNumber(e))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}function cc(e){return null==e}function hc(e){return 0===e&&1/e==-1/0}function dc(e){return"number"==typeof e&&Number.isInteger(e)&&!hc(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}uc.ct=-1;const fc=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],pc=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],mc=pc;function gc(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function yc(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function vc(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class wc{constructor(e,t){this.comparator=e,this.root=t||Ec.EMPTY}insert(e,t){return new wc(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ec.BLACK,null,null))}remove(e){return new wc(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ec.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bc(this.root,e,this.comparator,!1)}getReverseIterator(){return new bc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bc(this.root,e,this.comparator,!0)}}class bc{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ec{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Ec.RED,this.left=null!=r?r:Ec.EMPTY,this.right=null!=i?i:Ec.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Ec(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ec.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Ec.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ec.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ec.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xu();if(this.right.isRed())throw xu();const e=this.left.check();if(e!==this.right.check())throw xu();return e+(this.isRed()?0:1)}}Ec.EMPTY=null,Ec.RED=!0,Ec.BLACK=!1,Ec.EMPTY=new class{constructor(){this.size=0}get key(){throw xu()}get value(){throw xu()}get color(){throw xu()}get left(){throw xu()}get right(){throw xu()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Ec(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class kc{constructor(e){this.comparator=e,this.data=new wc(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new _c(this.data.getIterator())}getIteratorFrom(e){return new _c(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof kc))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new kc(this.comparator);return t.data=e,t}}class _c{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Tc{constructor(e){this.fields=e,e.sort($u.comparator)}static empty(){return new Tc([])}unionWith(e){let t=new kc($u.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Tc(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Hu(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class Sc extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Cc{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Sc("Invalid base64 string: "+e):e}}(e);return new Cc(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Cc(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Wu(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Cc.EMPTY_BYTE_STRING=new Cc("");const Ic=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xc(e){if(Nu(!!e),"string"==typeof e){let t=0;const n=Ic.exec(e);if(Nu(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Nc(e.seconds),nanos:Nc(e.nanos)}}function Nc(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Ac(e){return"string"==typeof e?Cc.fromBase64String(e):Cc.fromUint8Array(e)}function Rc(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Dc(e){const t=e.mapValue.fields.__previous_value__;return Rc(t)?Dc(t):t}function Pc(e){const t=xc(e.mapValue.fields.__local_write_time__.timestampValue);return new Ku(t.seconds,t.nanos)}class Oc{constructor(e,t,n,r,i,o,s,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=a,this.useFetchStreams=l}}class Lc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Lc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Lc&&e.projectId===this.projectId&&e.database===this.database}}const Mc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Fc(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Rc(e)?4:$c(e)?9007199254740991:10:xu()}function Uc(e,t){if(e===t)return!0;const n=Fc(e);if(n!==Fc(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Pc(e).isEqual(Pc(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=xc(e.timestampValue),r=xc(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Ac(e.bytesValue).isEqual(Ac(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Nc(e.geoPointValue.latitude)===Nc(t.geoPointValue.latitude)&&Nc(e.geoPointValue.longitude)===Nc(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Nc(e.integerValue)===Nc(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Nc(e.doubleValue),r=Nc(t.doubleValue);return n===r?hc(n)===hc(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Hu(e.arrayValue.values||[],t.arrayValue.values||[],Uc);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(gc(n)!==gc(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Uc(n[i],r[i])))return!1;return!0}(e,t);default:return xu()}}function jc(e,t){return void 0!==(e.values||[]).find(e=>Uc(e,t))}function Vc(e,t){if(e===t)return 0;const n=Fc(e),r=Fc(t);if(n!==r)return Wu(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Wu(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Nc(e.integerValue||e.doubleValue),r=Nc(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return zc(e.timestampValue,t.timestampValue);case 4:return zc(Pc(e),Pc(t));case 5:return Wu(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Ac(e),r=Ac(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Wu(n[i],r[i]);if(0!==e)return e}return Wu(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Wu(Nc(e.latitude),Nc(t.latitude));return 0!==n?n:Wu(Nc(e.longitude),Nc(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Vc(n[i],r[i]);if(e)return e}return Wu(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Mc.mapValue&&t===Mc.mapValue)return 0;if(e===Mc.mapValue)return 1;if(t===Mc.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let s=0;s<r.length&&s<o.length;++s){const e=Wu(r[s],o[s]);if(0!==e)return e;const t=Vc(n[r[s]],i[o[s]]);if(0!==t)return t}return Wu(r.length,o.length)}(e.mapValue,t.mapValue);default:throw xu()}}function zc(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Wu(e,t);const n=xc(e),r=xc(t),i=Wu(n.seconds,r.seconds);return 0!==i?i:Wu(n.nanos,r.nanos)}function Bc(e){return qc(e)}function qc(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=xc(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Ac(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Ju.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=qc(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(qc(e.fields[i]));return n+"}"}(e.mapValue):xu();var t,n}function Wc(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Hc(e){return!!e&&"integerValue"in e}function Kc(e){return!!e&&"arrayValue"in e}function Gc(e){return!!e&&"nullValue"in e}function Qc(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Yc(e){return!!e&&"mapValue"in e}function Xc(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return yc(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=Xc(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Xc(e.arrayValue.values[n]);return t}return Object.assign({},e)}function $c(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class Jc{constructor(e){this.value=e}static empty(){return new Jc({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Yc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xc(t)}setAll(e){let t=$u.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Xc(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Yc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Uc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Yc(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){yc(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new Jc(Xc(this.value))}}function Zc(e){const t=[];return yc(e.fields,(e,n)=>{const r=new $u([e]);if(Yc(n)){const e=Zc(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new Tc(t)}class eh{constructor(e,t,n,r,i,o,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=s}static newInvalidDocument(e){return new eh(e,0,Gu.min(),Gu.min(),Gu.min(),Jc.empty(),0)}static newFoundDocument(e,t,n,r){return new eh(e,1,t,Gu.min(),n,r,0)}static newNoDocument(e,t){return new eh(e,2,t,Gu.min(),Gu.min(),Jc.empty(),0)}static newUnknownDocument(e,t){return new eh(e,3,t,Gu.min(),Gu.min(),Jc.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Gu.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Jc.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Jc.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Gu.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof eh&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new eh(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class th{constructor(e,t){this.position=e,this.inclusive=t}}function nh(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(r=o.field.isKeyField()?Ju.comparator(Ju.fromName(s.referenceValue),n.key):Vc(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function rh(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Uc(e.position[n],t.position[n]))return!1;return!0}class ih{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function oh(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class sh{}class ah extends sh{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new mh(e,t,n):"array-contains"===t?new wh(e,n):"in"===t?new bh(e,n):"not-in"===t?new Eh(e,n):"array-contains-any"===t?new kh(e,n):new ah(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new gh(e,n):new yh(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Vc(t,this.value)):null!==t&&Fc(this.value)===Fc(t)&&this.matchesComparison(Vc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return xu()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class lh extends sh{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new lh(e,t)}matches(e){return uh(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(e=>e.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function uh(e){return"and"===e.op}function ch(e){return hh(e)&&uh(e)}function hh(e){for(const t of e.filters)if(t instanceof lh)return!1;return!0}function dh(e){if(e instanceof ah)return e.field.canonicalString()+e.op.toString()+Bc(e.value);if(ch(e))return e.filters.map(e=>dh(e)).join(",");{const t=e.filters.map(e=>dh(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function fh(e,t){return e instanceof ah?function(e,t){return t instanceof ah&&e.op===t.op&&e.field.isEqual(t.field)&&Uc(e.value,t.value)}(e,t):e instanceof lh?function(e,t){return t instanceof lh&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&fh(n,t.filters[r]),!0)}(e,t):void xu()}function ph(e){return e instanceof ah?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Bc(e.value))}(e):e instanceof lh?function(e){return e.op.toString()+" {"+e.getFilters().map(ph).join(" ,")+"}"}(e):"Filter"}class mh extends ah{constructor(e,t,n){super(e,t,n),this.key=Ju.fromName(n.referenceValue)}matches(e){const t=Ju.comparator(e.key,this.key);return this.matchesComparison(t)}}class gh extends ah{constructor(e,t){super(e,"in",t),this.keys=vh("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class yh extends ah{constructor(e,t){super(e,"not-in",t),this.keys=vh("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function vh(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>Ju.fromName(e.referenceValue))}class wh extends ah{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Kc(t)&&jc(t.arrayValue,this.value)}}class bh extends ah{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&jc(this.value.arrayValue,t)}}class Eh extends ah{constructor(e,t){super(e,"not-in",t)}matches(e){if(jc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!jc(this.value.arrayValue,t)}}class kh extends ah{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Kc(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>jc(this.value.arrayValue,e))}}class _h{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.dt=null}}function Th(e){return new _h(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Sh(e){const t=Au(e);if(null===t.dt){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>dh(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),cc(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>Bc(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>Bc(e)).join(",")),t.dt=e}return t.dt}function Ch(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!oh(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!fh(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!rh(e.startAt,t.startAt)&&rh(e.endAt,t.endAt)}function Ih(e){return Ju.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class xh{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.wt=null,this._t=null,this.startAt,this.endAt}}function Nh(e,t,n,r,i,o,s,a){return new xh(e,t,n,r,i,o,s,a)}function Ah(e){return new xh(e)}function Rh(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Dh(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Ph(e){for(const t of e.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function Oh(e){return null!==e.collectionGroup}function Lh(e){const t=Au(e);if(null===t.wt){t.wt=[];const e=Ph(t),n=Dh(t);if(null!==e&&null===n)e.isKeyField()||t.wt.push(new ih(e)),t.wt.push(new ih($u.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.wt.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new ih($u.keyField(),e))}}}return t.wt}function Mh(e){const t=Au(e);if(!t._t)if("F"===t.limitType)t._t=Th(t.path,t.collectionGroup,Lh(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const i of Lh(t)){const t="desc"===i.dir?"asc":"desc";e.push(new ih(i.field,t))}const n=t.endAt?new th(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new th(t.startAt.position,t.startAt.inclusive):null;t._t=Th(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t._t}function Fh(e,t){t.getFirstInequalityField(),Ph(e);const n=e.filters.concat([t]);return new xh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Uh(e,t,n){return new xh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function jh(e,t){return Ch(Mh(e),Mh(t))&&e.limitType===t.limitType}function Vh(e){return"".concat(Sh(Mh(e)),"|lt:").concat(e.limitType)}function zh(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>ph(e)).join(", "),"]")),cc(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>Bc(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>Bc(e)).join(",")),"Target(".concat(t,")")}(Mh(e)),"; limitType=").concat(e.limitType,")")}function Bh(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Ju.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Lh(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=nh(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Lh(e),t))&&!(e.endAt&&!function(e,t,n){const r=nh(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Lh(e),t))}(e,t)}function qh(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Wh(e){return(t,n)=>{let r=!1;for(const i of Lh(e)){const e=Hh(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Hh(e,t,n){const r=e.field.isKeyField()?Ju.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Vc(r,i):xu()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return xu()}}class Kh{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){yc(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return vc(this.inner)}size(){return this.innerSize}}const Gh=new wc(Ju.comparator);function Qh(){return Gh}const Yh=new wc(Ju.comparator);function Xh(){let e=Yh;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function $h(e){let t=Yh;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function Jh(){return ed()}function Zh(){return ed()}function ed(){return new Kh(e=>e.toString(),(e,t)=>e.isEqual(t))}const td=new wc(Ju.comparator),nd=new kc(Ju.comparator);function rd(){let e=nd;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const id=new kc(Wu);function od(){return id}function sd(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hc(t)?"-0":t}}function ad(e){return{integerValue:""+e}}function ld(e,t){return dc(t)?ad(t):sd(e,t)}class ud{constructor(){this._=void 0}}function cd(e,t,n){return e instanceof fd?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Rc(t)&&(t=Dc(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof pd?md(e,t):e instanceof gd?yd(e,t):function(e,t){const n=dd(e,t),r=wd(n)+wd(e.gt);return Hc(n)&&Hc(e.gt)?ad(r):sd(e.serializer,r)}(e,t)}function hd(e,t,n){return e instanceof pd?md(e,t):e instanceof gd?yd(e,t):n}function dd(e,t){return e instanceof vd?Hc(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class fd extends ud{}class pd extends ud{constructor(e){super(),this.elements=e}}function md(e,t){const n=bd(t);for(const r of e.elements)n.some(e=>Uc(e,r))||n.push(r);return{arrayValue:{values:n}}}class gd extends ud{constructor(e){super(),this.elements=e}}function yd(e,t){let n=bd(t);for(const r of e.elements)n=n.filter(e=>!Uc(e,r));return{arrayValue:{values:n}}}class vd extends ud{constructor(e,t){super(),this.serializer=e,this.gt=t}}function wd(e){return Nc(e.integerValue||e.doubleValue)}function bd(e){return Kc(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Ed{constructor(e,t){this.field=e,this.transform=t}}class kd{constructor(e,t){this.version=e,this.transformResults=t}}class _d{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new _d}static exists(e){return new _d(void 0,e)}static updateTime(e){return new _d(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Td(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Sd{}function Cd(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Md(e.key,_d.none()):new Rd(e.key,e.data,_d.none());{const n=e.data,r=Jc.empty();let i=new kc($u.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Dd(e.key,r,new Tc(i.toArray()),_d.none())}}function Id(e,t,n){e instanceof Rd?function(e,t,n){const r=e.value.clone(),i=Od(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Dd?function(e,t,n){if(!Td(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Od(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Pd(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function xd(e,t,n,r){return e instanceof Rd?function(e,t,n,r){if(!Td(e.precondition,t))return n;const i=e.value.clone(),o=Ld(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Dd?function(e,t,n,r){if(!Td(e.precondition,t))return n;const i=Ld(e.fieldTransforms,r,t),o=t.data;return o.setAll(Pd(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return Td(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Nd(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=dd(r.transform,e||null);null!=i&&(null===n&&(n=Jc.empty()),n.set(r.field,i))}return n||null}function Ad(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Hu(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof pd&&t instanceof pd||e instanceof gd&&t instanceof gd?Hu(e.elements,t.elements,Uc):e instanceof vd&&t instanceof vd?Uc(e.gt,t.gt):e instanceof fd&&t instanceof fd}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Rd extends Sd{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Dd extends Sd{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Pd(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Od(e,t,n){const r=new Map;Nu(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,hd(s,a,n[i]))}return r}function Ld(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,cd(e,o,t))}return r}class Md extends Sd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Fd extends Sd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ud{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Id(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=xd(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=xd(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Zh();return this.mutations.forEach(r=>{const i=e.get(r.key),o=i.overlayedDocument;let s=this.applyToLocalView(o,i.mutatedFields);s=t.has(r.key)?null:s;const a=Cd(o,s);null!==a&&n.set(r.key,a),o.isValidDocument()||o.convertToNoDocument(Gu.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),rd())}isEqual(e){return this.batchId===e.batchId&&Hu(this.mutations,e.mutations,(e,t)=>Ad(e,t))&&Hu(this.baseMutations,e.baseMutations,(e,t)=>Ad(e,t))}}class jd{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Nu(e.mutations.length===n.length);let r=td;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new jd(e,t,n,r)}}class Vd{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class zd{constructor(e,t){this.count=e,this.unchangedNames=t}}var Bd,qd;function Wd(e){switch(e){default:return xu();case Ru.CANCELLED:case Ru.UNKNOWN:case Ru.DEADLINE_EXCEEDED:case Ru.RESOURCE_EXHAUSTED:case Ru.INTERNAL:case Ru.UNAVAILABLE:case Ru.UNAUTHENTICATED:return!1;case Ru.INVALID_ARGUMENT:case Ru.NOT_FOUND:case Ru.ALREADY_EXISTS:case Ru.PERMISSION_DENIED:case Ru.FAILED_PRECONDITION:case Ru.ABORTED:case Ru.OUT_OF_RANGE:case Ru.UNIMPLEMENTED:case Ru.DATA_LOSS:return!0}}function Hd(e){if(void 0===e)return Su("GRPC error has no .code"),Ru.UNKNOWN;switch(e){case Bd.OK:return Ru.OK;case Bd.CANCELLED:return Ru.CANCELLED;case Bd.UNKNOWN:return Ru.UNKNOWN;case Bd.DEADLINE_EXCEEDED:return Ru.DEADLINE_EXCEEDED;case Bd.RESOURCE_EXHAUSTED:return Ru.RESOURCE_EXHAUSTED;case Bd.INTERNAL:return Ru.INTERNAL;case Bd.UNAVAILABLE:return Ru.UNAVAILABLE;case Bd.UNAUTHENTICATED:return Ru.UNAUTHENTICATED;case Bd.INVALID_ARGUMENT:return Ru.INVALID_ARGUMENT;case Bd.NOT_FOUND:return Ru.NOT_FOUND;case Bd.ALREADY_EXISTS:return Ru.ALREADY_EXISTS;case Bd.PERMISSION_DENIED:return Ru.PERMISSION_DENIED;case Bd.FAILED_PRECONDITION:return Ru.FAILED_PRECONDITION;case Bd.ABORTED:return Ru.ABORTED;case Bd.OUT_OF_RANGE:return Ru.OUT_OF_RANGE;case Bd.UNIMPLEMENTED:return Ru.UNIMPLEMENTED;case Bd.DATA_LOSS:return Ru.DATA_LOSS;default:return xu()}}(qd=Bd||(Bd={}))[qd.OK=0]="OK",qd[qd.CANCELLED=1]="CANCELLED",qd[qd.UNKNOWN=2]="UNKNOWN",qd[qd.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qd[qd.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qd[qd.NOT_FOUND=5]="NOT_FOUND",qd[qd.ALREADY_EXISTS=6]="ALREADY_EXISTS",qd[qd.PERMISSION_DENIED=7]="PERMISSION_DENIED",qd[qd.UNAUTHENTICATED=16]="UNAUTHENTICATED",qd[qd.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qd[qd.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qd[qd.ABORTED=10]="ABORTED",qd[qd.OUT_OF_RANGE=11]="OUT_OF_RANGE",qd[qd.UNIMPLEMENTED=12]="UNIMPLEMENTED",qd[qd.INTERNAL=13]="INTERNAL",qd[qd.UNAVAILABLE=14]="UNAVAILABLE",qd[qd.DATA_LOSS=15]="DATA_LOSS";class Kd{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Gd}static getOrCreateInstance(){return null===Gd&&(Gd=new Kd),Gd}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Gd=null;function Qd(){return new TextEncoder}const Yd=new vu([4294967295,4294967295],0);function Xd(e){const t=Qd().encode(e),n=new yu;return n.update(t),new Uint8Array(n.digest())}function $d(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new vu([n,r],0),new vu([i,o],0)]}class Jd{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Zd("Invalid padding: ".concat(t));if(n<0)throw new Zd("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new Zd("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new Zd("Invalid padding when bitmap length is 0: ".concat(t));this.It=8*e.length-t,this.Tt=vu.fromNumber(this.It)}Et(e,t,n){let r=e.add(t.multiply(vu.fromNumber(n)));return 1===r.compare(Yd)&&(r=new vu([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=Xd(e),[n,r]=$d(t);for(let i=0;i<this.hashCount;i++){const e=this.Et(n,r,i);if(!this.At(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Jd(i,r,t);return n.forEach(e=>o.insert(e)),o}insert(e){if(0===this.It)return;const t=Xd(e),[n,r]=$d(t);for(let i=0;i<this.hashCount;i++){const e=this.Et(n,r,i);this.Rt(e)}}Rt(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Zd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ef{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,tf.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new ef(Gu.min(),r,new wc(Wu),Qh(),rd())}}class tf{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new tf(n,t,rd(),rd(),rd())}}class nf{constructor(e,t,n,r){this.Pt=e,this.removedTargetIds=t,this.key=n,this.bt=r}}class rf{constructor(e,t){this.targetId=e,this.Vt=t}}class of{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Cc.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class sf{constructor(){this.St=0,this.Dt=uf(),this.Ct=Cc.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=rd(),t=rd(),n=rd();return this.Dt.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:xu()}}),new tf(this.Ct,this.xt,e,t,n)}Ft(){this.Nt=!1,this.Dt=uf()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class af{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Qh(),this.zt=lf(),this.Wt=new wc(Wu)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const n=this.Zt(t);switch(e.state){case 0:this.te(t)&&n.$t(e.resumeToken);break;case 1:n.Ut(),n.kt||n.Ft(),n.$t(e.resumeToken);break;case 2:n.Ut(),n.kt||this.removeTarget(t);break;case 3:this.te(t)&&(n.Kt(),n.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),n.$t(e.resumeToken));break;default:xu()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((e,n)=>{this.te(n)&&t(n)})}ne(e){var t;const n=e.targetId,r=e.Vt.count,i=this.se(n);if(i){const o=i.target;if(Ih(o))if(0===r){const e=new Ju(o.path);this.Yt(n,e,eh.newNoDocument(e,Gu.min()))}else Nu(1===r);else{const i=this.ie(n);if(i!==r){const r=this.re(e,i);if(0!==r){this.ee(n);const e=2===r?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(n,e)}null===(t=Kd.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var r,i,o,s,a,l;const u={localCacheCount:t,existenceFilterCount:n.count},c=n.unchangedNames;return c&&(u.bloomFilter={applied:0===e,hashCount:null!==(r=null==c?void 0:c.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(s=null===(o=null===(i=null==c?void 0:c.bits)||void 0===i?void 0:i.bitmap)||void 0===o?void 0:o.length)&&void 0!==s?s:0,padding:null!==(l=null===(a=null==c?void 0:c.bits)||void 0===a?void 0:a.padding)&&void 0!==l?l:0}),u}(r,i,e.Vt))}}}}re(e,t){const{unchangedNames:n,count:r}=e.Vt;if(!n||!n.bits)return 1;const{bits:{bitmap:i="",padding:o=0},hashCount:s=0}=n;let a,l;try{a=Ac(i).toUint8Array()}catch(e){if(e instanceof Sc)return Cu("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{l=new Jd(a,o,s)}catch(e){return Cu(e instanceof Zd?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===l.It?1:r!==t-this.oe(e.targetId,l)?2:0}oe(e,t){const n=this.Gt.getRemoteKeysForTarget(e);let r=0;return n.forEach(n=>{const i=this.Gt.ue(),o="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());t.vt(o)||(this.Yt(e,n,null),r++)}),r}ce(e){const t=new Map;this.Qt.forEach((n,r)=>{const i=this.se(r);if(i){if(n.current&&Ih(i.target)){const t=new Ju(i.target.path);null!==this.jt.get(t)||this.ae(r,t)||this.Yt(r,t,eh.newNoDocument(t,e))}n.Mt&&(t.set(r,n.Ot()),n.Ft())}});let n=rd();this.zt.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.se(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.jt.forEach((t,n)=>n.setReadTime(e));const r=new ef(e,t,this.Wt,this.jt,n);return this.jt=Qh(),this.zt=lf(),this.Wt=new wc(Wu),r}Jt(e,t){if(!this.te(e))return;const n=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,n),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,n){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),n&&(this.jt=this.jt.insert(t,n))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new sf,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new kc(Wu),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Tu("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new sf),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function lf(){return new wc(Ju.comparator)}function uf(){return new wc(Ju.comparator)}const cf={asc:"ASCENDING",desc:"DESCENDING"},hf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},df={and:"AND",or:"OR"};class ff{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function pf(e,t){return e.useProto3Json||cc(t)?t:{value:t}}function mf(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function gf(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function yf(e,t){return mf(e,t.toTimestamp())}function vf(e){return Nu(!!e),Gu.fromTimestamp(function(e){const t=xc(e);return new Ku(t.seconds,t.nanos)}(e))}function wf(e,t){return function(e){return new Yu(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function bf(e){const t=Yu.fromString(e);return Nu(Vf(t)),t}function Ef(e,t){return wf(e.databaseId,t.path)}function kf(e,t){const n=bf(t);if(n.get(1)!==e.databaseId.projectId)throw new Du(Ru.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Du(Ru.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Ju(Cf(n))}function _f(e,t){return wf(e.databaseId,t)}function Tf(e){const t=bf(e);return 4===t.length?Yu.emptyPath():Cf(t)}function Sf(e){return new Yu(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Cf(e){return Nu(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function If(e,t,n){return{name:Ef(e,t),fields:n.value.mapValue.fields}}function xf(e,t){let n;if(t instanceof Rd)n={update:If(e,t.key,t.value)};else if(t instanceof Md)n={delete:Ef(e,t.key)};else if(t instanceof Dd)n={update:If(e,t.key,t.data),updateMask:jf(t.fieldMask)};else{if(!(t instanceof Fd))return xu();n={verify:Ef(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof fd)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof pd)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof gd)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof vd)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw xu()}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:yf(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:xu()}(e,t.precondition)),n}function Nf(e,t){return{documents:[_f(e,t.path)]}}function Af(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=_f(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=_f(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0!==e.length)return Uf(lh.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const o=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:Mf(e.field),direction:Pf(e.dir)}}(e))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const s=pf(e,t.limit);var a;return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(a=t.startAt).inclusive,values:a.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Rf(e){let t=Tf(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Nu(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=Df(e);return t instanceof lh&&ch(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=n.orderBy.map(e=>function(e){return new ih(Ff(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,cc(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new th(n,t)}(n.startAt));let u=null;return n.endAt&&(u=function(e){const t=!e.before,n=e.values||[];return new th(n,t)}(n.endAt)),Nh(t,i,s,o,a,"F",l,u)}function Df(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Ff(e.unaryFilter.field);return ah.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Ff(e.unaryFilter.field);return ah.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Ff(e.unaryFilter.field);return ah.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Ff(e.unaryFilter.field);return ah.create(i,"!=",{nullValue:"NULL_VALUE"});default:return xu()}}(e):void 0!==e.fieldFilter?function(e){return ah.create(Ff(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return xu()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return lh.create(e.compositeFilter.filters.map(e=>Df(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return xu()}}(e.compositeFilter.op))}(e):xu()}function Pf(e){return cf[e]}function Of(e){return hf[e]}function Lf(e){return df[e]}function Mf(e){return{fieldPath:e.canonicalString()}}function Ff(e){return $u.fromServerFormat(e.fieldPath)}function Uf(e){return e instanceof ah?function(e){if("=="===e.op){if(Qc(e.value))return{unaryFilter:{field:Mf(e.field),op:"IS_NAN"}};if(Gc(e.value))return{unaryFilter:{field:Mf(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Qc(e.value))return{unaryFilter:{field:Mf(e.field),op:"IS_NOT_NAN"}};if(Gc(e.value))return{unaryFilter:{field:Mf(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Mf(e.field),op:Of(e.op),value:e.value}}}(e):e instanceof lh?function(e){const t=e.getFilters().map(e=>Uf(e));return 1===t.length?t[0]:{compositeFilter:{op:Lf(e.op),filters:t}}}(e):xu()}function jf(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Vf(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class zf{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Gu.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Gu.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Cc.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=a}withSequenceNumber(e){return new zf(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new zf(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Bf{constructor(e){this.fe=e}}function qf(e){const t=Rf({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Uh(t,t.limit,"L"):t}class Wf{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Nc(e.integerValue));else if("doubleValue"in e){const n=Nc(e.doubleValue);isNaN(n)?this.ye(t,13):(this.ye(t,15),hc(n)?t.pe(0):t.pe(n))}else if("timestampValue"in e){const n=e.timestampValue;this.ye(t,20),"string"==typeof n?t.Ie(n):(t.Ie("".concat(n.seconds||"")),t.pe(n.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Ac(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ye(t,45),t.pe(n.latitude||0),t.pe(n.longitude||0)}else"mapValue"in e?$c(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):xu()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const n=e.fields||{};this.ye(t,55);for(const r of Object.keys(n))this.Te(r,t),this.me(n[r],t)}Pe(e,t){const n=e.values||[];this.ye(t,50);for(const r of n)this.me(r,t)}ve(e,t){this.ye(t,37),Ju.fromName(e).path.forEach(e=>{this.ye(t,60),this.be(e,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}Wf.Ve=new Wf;class Hf{constructor(){this.rn=new Kf}addToCollectionParentIndex(e,t){return this.rn.add(t),ac.resolve()}getCollectionParents(e,t){return ac.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return ac.resolve()}deleteFieldIndex(e,t){return ac.resolve()}getDocumentsMatchingTarget(e,t){return ac.resolve(null)}getIndexType(e,t){return ac.resolve(0)}getFieldIndexes(e,t){return ac.resolve([])}getNextCollectionGroupToUpdate(e){return ac.resolve(null)}getMinOffset(e,t){return ac.resolve(nc.min())}getMinOffsetFromCollectionGroup(e,t){return ac.resolve(nc.min())}updateCollectionGroup(e,t,n){return ac.resolve()}updateIndexEntries(e,t){return ac.resolve()}}class Kf{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new kc(Yu.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new kc(Yu.comparator)).toArray()}}new Uint8Array(0);class Gf{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Gf(e,Gf.DEFAULT_COLLECTION_PERCENTILE,Gf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Gf.DEFAULT_COLLECTION_PERCENTILE=10,Gf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gf.DEFAULT=new Gf(41943040,Gf.DEFAULT_COLLECTION_PERCENTILE,Gf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gf.DISABLED=new Gf(-1,0,0);class Qf{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Qf(0)}static Mn(){return new Qf(-1)}}class Yf{constructor(){this.changes=new Kh(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,eh.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?ac.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Xf{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class $f{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&xd(n.mutation,e,Tc.empty(),Ku.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,rd()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:rd();const r=Jh();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=Xh();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=Jh();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,rd()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=Qh();const o=ed(),s=ed();return t.forEach((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof Dd)?i=i.insert(t.key,t):void 0!==s?(o.set(t.key,s.mutation.getFieldMask()),xd(s.mutation,t,s.mutation.getFieldMask(),Ku.now())):o.set(t.key,Tc.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>o.set(e,t)),t.forEach((e,t)=>{var n;return s.set(e,new Xf(t,null!==(n=o.get(e))&&void 0!==n?n:null))}),s))}recalculateAndSaveOverlays(e,t){const n=ed();let r=new wc((e,t)=>e-t),i=rd();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const o=t.get(e);if(null===o)return;let s=n.get(e)||Tc.empty();s=i.applyToLocalView(o,s),n.set(e,s);const a=(r.get(i.batchId)||rd()).add(e);r=r.insert(i.batchId,a)})}).next(()=>{const o=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),a=r.key,l=r.value,u=Zh();l.forEach(e=>{if(!i.has(e)){const r=Cd(t.get(e),n.get(e));null!==r&&u.set(e,r),i=i.add(e)}}),o.push(this.documentOverlayCache.saveOverlays(e,a,u))}return ac.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n){return function(e){return Ju.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Oh(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):ac.resolve(Jh());let s=-1,a=i;return o.next(t=>ac.forEach(t,(t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(t)?ac.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{a=a.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,a,t,rd())).next(e=>({batchId:s,changes:$h(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ju(t)).next(e=>{let t=Xh();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n){const r=t.collectionGroup;let i=Xh();return this.indexManager.getCollectionParents(e,r).next(o=>ac.forEach(o,o=>{const s=function(e,t){return new xh(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(r));return this.getDocumentsMatchingCollectionQuery(e,s,n).next(e=>{e.forEach((e,t)=>{i=i.insert(e,t)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,t,n){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(i=>(r=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r))).next(e=>{r.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,eh.newInvalidDocument(r)))});let n=Xh();return e.forEach((e,i)=>{const o=r.get(e);void 0!==o&&xd(o.mutation,i,Tc.empty(),Ku.now()),Bh(t,i)&&(n=n.insert(e,i))}),n})}}class Jf{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return ac.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var n;return this.cs.set(t.id,{id:(n=t).id,version:n.version,createTime:vf(n.createTime)}),ac.resolve()}getNamedQuery(e,t){return ac.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,function(e){return{name:e.name,query:qf(e.bundledQuery),readTime:vf(e.readTime)}}(t)),ac.resolve()}}class Zf{constructor(){this.overlays=new wc(Ju.comparator),this.ls=new Map}getOverlay(e,t){return ac.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Jh();return ac.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.we(e,t,r)}),ac.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.ls.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.ls.delete(n)),ac.resolve()}getOverlaysForCollection(e,t,n){const r=Jh(),i=t.length+1,o=new Ju(t.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const e=s.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return ac.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new wc((e,t)=>e-t);const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Jh(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=Jh(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach((e,t)=>s.set(e,t)),!(s.size()>=r)););return ac.resolve(s)}we(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.ls.get(r.largestBatchId).delete(n.key);this.ls.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Vd(t,n));let i=this.ls.get(t);void 0===i&&(i=rd(),this.ls.set(t,i)),this.ls.set(t,i.add(n.key))}}class ep{constructor(){this.fs=new kc(tp.ds),this.ws=new kc(tp._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const n=new tp(e,t);this.fs=this.fs.add(n),this.ws=this.ws.add(n)}gs(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.ys(new tp(e,t))}ps(e,t){e.forEach(e=>this.removeReference(e,t))}Is(e){const t=new Ju(new Yu([])),n=new tp(t,e),r=new tp(t,e+1),i=[];return this.ws.forEachInRange([n,r],e=>{this.ys(e),i.push(e.key)}),i}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Ju(new Yu([])),n=new tp(t,e),r=new tp(t,e+1);let i=rd();return this.ws.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new tp(e,0),n=this.fs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class tp{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Ju.comparator(e.key,t.key)||Wu(e.As,t.As)}static _s(e,t){return Wu(e.As,t.As)||Ju.comparator(e.key,t.key)}}class np{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new kc(tp.ds)}checkEmpty(e){return ac.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Ud(i,t,n,r);this.mutationQueue.push(o);for(const s of r)this.Rs=this.Rs.add(new tp(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return ac.resolve(o)}lookupMutationBatch(e,t){return ac.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.bs(n),i=r<0?0:r;return ac.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return ac.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return ac.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new tp(t,0),r=new tp(t,Number.POSITIVE_INFINITY),i=[];return this.Rs.forEachInRange([n,r],e=>{const t=this.Ps(e.As);i.push(t)}),ac.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new kc(Wu);return t.forEach(e=>{const t=new tp(e,0),r=new tp(e,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([t,r],e=>{n=n.add(e.As)})}),ac.resolve(this.Vs(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Ju.isDocumentKey(i)||(i=i.child(""));const o=new tp(new Ju(i),0);let s=new kc(Wu);return this.Rs.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.As)),!0)},o),ac.resolve(this.Vs(s))}Vs(e){const t=[];return e.forEach(e=>{const n=this.Ps(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){Nu(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let n=this.Rs;return ac.forEach(t.mutations,r=>{const i=new tp(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Rs=n})}Cn(e){}containsKey(e,t){const n=new tp(t,0),r=this.Rs.firstAfterOrEqual(n);return ac.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,ac.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class rp{constructor(e){this.Ds=e,this.docs=new wc(Ju.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.Ds(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return ac.resolve(n?n.document.mutableCopy():eh.newInvalidDocument(t))}getEntries(e,t){let n=Qh();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():eh.newInvalidDocument(e))}),ac.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Qh();const o=t.path,s=new Ju(o.child("")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:e,value:{document:s}}=a.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||rc(tc(s),n)<=0||(r.has(s.key)||Bh(t,s))&&(i=i.insert(s.key,s.mutableCopy()))}return ac.resolve(i)}getAllFromCollectionGroup(e,t,n,r){xu()}Cs(e,t){return ac.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new ip(this)}getSize(e){return ac.resolve(this.size)}}class ip extends Yf{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.os.addEntry(e,r)):this.os.removeEntry(n)}),ac.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class op{constructor(e){this.persistence=e,this.xs=new Kh(e=>Sh(e),Ch),this.lastRemoteSnapshotVersion=Gu.min(),this.highestTargetId=0,this.Ns=0,this.ks=new ep,this.targetCount=0,this.Ms=Qf.kn()}forEachTarget(e,t){return this.xs.forEach((e,n)=>t(n)),ac.resolve()}getLastRemoteSnapshotVersion(e){return ac.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ac.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),ac.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ns&&(this.Ns=t),ac.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Qf(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,ac.resolve()}updateTargetData(e,t){return this.Fn(t),ac.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,ac.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.xs.forEach((o,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.xs.delete(o),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)}),ac.waitFor(i).next(()=>r)}getTargetCount(e){return ac.resolve(this.targetCount)}getTargetData(e,t){const n=this.xs.get(t)||null;return ac.resolve(n)}addMatchingKeys(e,t,n){return this.ks.gs(t,n),ac.resolve()}removeMatchingKeys(e,t,n){this.ks.ps(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),ac.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),ac.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ks.Es(t);return ac.resolve(n)}containsKey(e,t){return ac.resolve(this.ks.containsKey(t))}}class sp{constructor(e,t){this.$s={},this.overlays={},this.Os=new uc(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new op(this),this.indexManager=new Hf,this.remoteDocumentCache=function(e){return new rp(e)}(e=>this.referenceDelegate.Ls(e)),this.serializer=new Bf(t),this.qs=new Jf(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Zf,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.$s[e.toKey()];return n||(n=new np(t,this.referenceDelegate),this.$s[e.toKey()]=n),n}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,n){Tu("MemoryPersistence","Starting transaction:",e);const r=new ap(this.Os.next());return this.referenceDelegate.Us(),n(r).next(e=>this.referenceDelegate.Ks(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Gs(e,t){return ac.or(Object.values(this.$s).map(n=>()=>n.containsKey(e,t)))}}class ap extends oc{constructor(e){super(),this.currentSequenceNumber=e}}class lp{constructor(e){this.persistence=e,this.Qs=new ep,this.js=null}static zs(e){return new lp(e)}get Ws(){if(this.js)return this.js;throw xu()}addReference(e,t,n){return this.Qs.addReference(n,t),this.Ws.delete(n.toString()),ac.resolve()}removeReference(e,t,n){return this.Qs.removeReference(n,t),this.Ws.add(n.toString()),ac.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),ac.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(e=>this.Ws.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.Ws.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ac.forEach(this.Ws,n=>{const r=Ju.fromPath(n);return this.Hs(e,r).next(e=>{e||t.removeEntry(r,Gu.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(e=>{e?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return ac.or([()=>ac.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class up{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Fi=n,this.Bi=r}static Li(e,t){let n=rd(),r=rd();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new up(e,t.fromCache,n,r)}}class cp{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,n,r){return this.Ki(e,t).next(i=>i||this.Gi(e,t,r,n)).next(n=>n||this.Qi(e,t))}Ki(e,t){if(Rh(t))return ac.resolve(null);let n=Mh(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Uh(t,null,"F"),n=Mh(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=rd(...r);return this.Ui.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const o=this.ji(t,r);return this.zi(t,o,i,n.readTime)?this.Ki(e,Uh(t,null,"F")):this.Wi(e,o,t,n)}))})))}Gi(e,t,n,r){return Rh(t)||r.isEqual(Gu.min())?this.Qi(e,t):this.Ui.getDocuments(e,n).next(i=>{const o=this.ji(t,i);return this.zi(t,o,n,r)?this.Qi(e,t):(_u()<=Or.DEBUG&&Tu("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),zh(t)),this.Wi(e,o,t,ec(r,-1)))})}ji(e,t){let n=new kc(Wh(e));return t.forEach((t,r)=>{Bh(e,r)&&(n=n.add(r))}),n}zi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Qi(e,t){return _u()<=Or.DEBUG&&Tu("QueryEngine","Using full collection scan to execute query:",zh(t)),this.Ui.getDocumentsMatchingQuery(e,t,nc.min())}Wi(e,t,n,r){return this.Ui.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}class hp{constructor(e,t,n,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new wc(Wu),this.Yi=new Kh(e=>Sh(e),Ch),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(n)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $f(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function dp(e,t,n,r){return new hp(e,t,n,r)}async function fp(e,t){const n=Au(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.tr(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],o=[];let s=rd();for(const e of r){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next(e=>({er:e,removedBatchIds:i,addedBatchIds:o}))})})}function pp(e){const t=Au(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Bs.getLastRemoteSnapshotVersion(e))}function mp(e,t,n){let r=rd(),i=rd();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=Qh();return n.forEach((n,o)=>{const s=e.get(n);o.isFoundDocument()!==s.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(Gu.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):Tu("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)}),{nr:r,sr:i}})}function gp(e,t){const n=Au(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function yp(e,t){const n=Au(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Bs.getTargetData(e,t).next(i=>i?(r=i,ac.resolve(r)):n.Bs.allocateTargetId(e).next(i=>(r=new zf(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Bs.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Ji.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e})}async function vp(e,t,n){const r=Au(e),i=r.Ji.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!lc(e))throw e;Tu("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.Ji=r.Ji.remove(t),r.Yi.delete(i.target)}function wp(e,t,n){const r=Au(e);let i=Gu.min(),o=rd();return r.persistence.runTransaction("Execute query","readonly",e=>function(e,t,n){const r=Au(e),i=r.Yi.get(n);return void 0!==i?ac.resolve(r.Ji.get(i)):r.Bs.getTargetData(t,n)}(r,e,Mh(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(e,t.targetId).next(e=>{o=e})}).next(()=>r.Hi.getDocumentsMatchingQuery(e,t,n?i:Gu.min(),n?o:rd())).next(e=>(bp(r,qh(t),e),{documents:e,ir:o})))}function bp(e,t,n){let r=e.Xi.get(t)||Gu.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Xi.set(t,r)}class Ep{constructor(){this.activeTargetIds=od()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class kp{constructor(){this.Hr=new Ep,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,n){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Ep,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class _p{Yr(e){}shutdown(){}}class Tp{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Tu("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Tu("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Sp=null;function Cp(){return null===Sp?Sp=268435456+Math.round(2147483648*Math.random()):Sp++,"0x"+Sp.toString(16)}const Ip={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class xp{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Np="WebChannelConnection";class Ap extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.mo=t+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,n,r,i){const o=Cp(),s=this.To(e,t);Tu("RestConnection","Sending RPC '".concat(e,"' ").concat(o,":"),s,n);const a={};return this.Eo(a,r,i),this.Ao(e,s,a,n).then(t=>(Tu("RestConnection","Received RPC '".concat(e,"' ").concat(o,": "),t),t),t=>{throw Cu("RestConnection","RPC '".concat(e,"' ").concat(o," failed with error: "),t,"url: ",s,"request:",n),t})}vo(e,t,n,r,i,o){return this.Io(e,t,n,r,i)}Eo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Eu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}To(e,t){const n=Ip[e];return"".concat(this.mo,"/v1/").concat(t,":").concat(n)}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,n,r){const i=Cp();return new Promise((o,s)=>{const a=new gu;a.setWithCredentials(!0),a.listenOnce(hu.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case cu.NO_ERROR:const t=a.getResponseJson();Tu(Np,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),o(t);break;case cu.TIMEOUT:Tu(Np,"RPC '".concat(e,"' ").concat(i," timed out")),s(new Du(Ru.DEADLINE_EXCEEDED,"Request time out"));break;case cu.HTTP_ERROR:const n=a.getStatus();if(Tu(Np,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Ru).indexOf(t)>=0?t:Ru.UNKNOWN}(t.status);s(new Du(e,t.message))}else s(new Du(Ru.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new Du(Ru.UNAVAILABLE,"Connection failed."));break;default:xu()}}finally{Tu(Np,"RPC '".concat(e,"' ").concat(i," completed."))}});const l=JSON.stringify(r);Tu(Np,"RPC '".concat(e,"' ").concat(i," sending request:"),r),a.send(t,"POST",l,n,15)})}Ro(e,t,n){const r=Cp(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=lu(),s=uu(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.xmlHttpFactory=new pu({})),this.Eo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const u=i.join("");Tu(Np,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(u),a);const c=o.createWebChannel(u,a);let h=!1,d=!1;const f=new xp({ro:t=>{d?Tu(Np,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(Tu(Np,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),c.open(),h=!0),Tu(Np,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),c.send(t))},oo:()=>c.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return p(c,mu.EventType.OPEN,()=>{d||Tu(Np,"RPC '".concat(e,"' stream ").concat(r," transport opened."))}),p(c,mu.EventType.CLOSE,()=>{d||(d=!0,Tu(Np,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.wo())}),p(c,mu.EventType.ERROR,t=>{d||(d=!0,Cu(Np,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.wo(new Du(Ru.UNAVAILABLE,"The operation could not be completed")))}),p(c,mu.EventType.MESSAGE,t=>{var n;if(!d){const i=t.data[0];Nu(!!i);const o=i,s=o.error||(null===(n=o[0])||void 0===n?void 0:n.error);if(s){Tu(Np,"RPC '".concat(e,"' stream ").concat(r," received error:"),s);const t=s.status;let n=function(e){const t=Bd[e];if(void 0!==t)return Hd(t)}(t),i=s.message;void 0===n&&(n=Ru.INTERNAL,i="Unknown error status: "+t+" with message "+s.message),d=!0,f.wo(new Du(n,i)),c.close()}else Tu(Np,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f._o(i)}}),p(s,du.STAT_EVENT,t=>{t.stat===fu.PROXY?Tu(Np,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===fu.NOPROXY&&Tu(Np,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{f.fo()},0),f}}function Rp(){return"undefined"!=typeof document?document:null}function Dp(e){return new ff(e,!0)}class Pp{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ii=e,this.timerId=t,this.Po=n,this.bo=r,this.Vo=i,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),n=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-n);r>0&&Tu("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.So," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Op{constructor(e,t,n,r,i,o,s,a){this.ii=e,this.$o=n,this.Oo=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Pp(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,t){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,4!==e?this.qo.reset():t&&t.code===Ru.RESOURCE_EXHAUSTED?(Su(t.toString()),Su("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):t&&t.code===Ru.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(t)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.Fo===t&&this.Zo(n,r)},t=>{e(()=>{const e=new Du(Ru.UNKNOWN,"Fetching auth token failed: "+t.message);return this.tu(e)})})}Zo(e,t){const n=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{n(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(e=>{n(()=>this.tu(e))}),this.stream.onMessage(e=>{n(()=>this.onMessage(e))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return Tu("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Tu("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Lp extends Op{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:xu()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(Nu(void 0===t||"string"==typeof t),Cc.fromBase64String(t||"")):(Nu(void 0===t||t instanceof Uint8Array),Cc.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){const t=void 0===e.code?Ru.UNKNOWN:Hd(e.code);return new Du(t,e.message||"")}(s);n=new of(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=kf(e,r.document.name),o=vf(r.document.updateTime),s=r.document.createTime?vf(r.document.createTime):Gu.min(),a=new Jc({mapValue:{fields:r.document.fields}}),l=eh.newFoundDocument(i,o,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new nf(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=kf(e,r.document),o=r.readTime?vf(r.readTime):Gu.min(),s=eh.newNoDocument(i,o),a=r.removedTargetIds||[];n=new nf([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=kf(e,r.document),o=r.removedTargetIds||[];n=new nf([],o,i,null)}else{if(!("filter"in t))return xu();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new zd(r,i),s=e.targetId;n=new rf(s,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Gu.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Gu.min():t.readTime?vf(t.readTime):Gu.min()}(e);return this.listener.nu(t,n)}su(e){const t={};t.database=Sf(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Ih(r)?{documents:Nf(e,r)}:{query:Af(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=gf(e,t.resumeToken);const r=pf(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Gu.min())>0){n.readTime=mf(e,t.snapshotVersion.toTimestamp());const r=pf(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xu()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Wo(t)}iu(e){const t={};t.database=Sf(this.serializer),t.removeTarget=e,this.Wo(t)}}class Mp extends Op{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Nu(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function(e,t){return e&&e.length>0?(Nu(void 0!==t),e.map(e=>function(e,t){let n=e.updateTime?vf(e.updateTime):vf(t);return n.isEqual(Gu.min())&&(n=vf(t)),new kd(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=vf(e.commitTime);return this.listener.cu(n,t)}return Nu(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Sf(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>xf(this.serializer,e))};this.Wo(t)}}class Fp extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new Du(Ru.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,n){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(r=>{let[i,o]=r;return this.connection.Io(e,t,n,i,o)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Ru.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Du(Ru.UNKNOWN,e.toString())})}vo(e,t,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[o,s]=i;return this.connection.vo(e,t,n,o,s,r)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Ru.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Du(Ru.UNKNOWN,e.toString())})}terminate(){this.lu=!0}}class Up{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.mu?(Su(t),this.mu=!1):Tu("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class jp{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=i,this.Pu.Yr(e=>{n.enqueueAndForget(async()=>{Qp(this)&&(Tu("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Au(e);t.vu.add(4),await zp(t),t.bu.set("Unknown"),t.vu.delete(4),await Vp(t)}(this))})}),this.bu=new Up(n,r)}}async function Vp(e){if(Qp(e))for(const t of e.Ru)await t(!0)}async function zp(e){for(const t of e.Ru)await t(!1)}function Bp(e,t){const n=Au(e);n.Au.has(t.targetId)||(n.Au.set(t.targetId,t),Gp(n)?Kp(n):dm(n).Ko()&&Wp(n,t))}function qp(e,t){const n=Au(e),r=dm(n);n.Au.delete(t),r.Ko()&&Hp(n,t),0===n.Au.size&&(r.Ko()?r.jo():Qp(n)&&n.bu.set("Unknown"))}function Wp(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Gu.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}dm(e).su(t)}function Hp(e,t){e.Vu.qt(t),dm(e).iu(t)}function Kp(e){e.Vu=new af({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),le:t=>e.Au.get(t)||null,ue:()=>e.datastore.serializer.databaseId}),dm(e).start(),e.bu.gu()}function Gp(e){return Qp(e)&&!dm(e).Uo()&&e.Au.size>0}function Qp(e){return 0===Au(e).vu.size}function Yp(e){e.Vu=void 0}async function Xp(e){e.Au.forEach((t,n)=>{Wp(e,t)})}async function $p(e,t){Yp(e),Gp(e)?(e.bu.Iu(t),Kp(e)):e.bu.set("Unknown")}async function Jp(e,t,n){if(e.bu.set("Online"),t instanceof of&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Au.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Au.delete(r),e.Vu.removeTarget(r))}(e,t)}catch(n){Tu("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Zp(e,n)}else if(t instanceof nf?e.Vu.Ht(t):t instanceof rf?e.Vu.ne(t):e.Vu.Xt(t),!n.isEqual(Gu.min()))try{const t=await pp(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Vu.ce(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Au.get(r);i&&e.Au.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Au.get(t);if(!r)return;e.Au.set(t,r.withResumeToken(Cc.EMPTY_BYTE_STRING,r.snapshotVersion)),Hp(e,t);const i=new zf(r.target,t,n,r.sequenceNumber);Wp(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Tu("RemoteStore","Failed to raise snapshot:",t),await Zp(e,t)}}async function Zp(e,t,n){if(!lc(t))throw t;e.vu.add(1),await zp(e),e.bu.set("Offline"),n||(n=()=>pp(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Tu("RemoteStore","Retrying IndexedDB access"),await n(),e.vu.delete(1),await Vp(e)})}function em(e,t){return t().catch(n=>Zp(e,n,t))}async function tm(e){const t=Au(e),n=fm(t);let r=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;nm(t);)try{const e=await gp(t.localStore,r);if(null===e){0===t.Eu.length&&n.jo();break}r=e.batchId,rm(t,e)}catch(e){await Zp(t,e)}im(t)&&om(t)}function nm(e){return Qp(e)&&e.Eu.length<10}function rm(e,t){e.Eu.push(t);const n=fm(e);n.Ko()&&n.ou&&n.uu(t.mutations)}function im(e){return Qp(e)&&!fm(e).Uo()&&e.Eu.length>0}function om(e){fm(e).start()}async function sm(e){fm(e).hu()}async function am(e){const t=fm(e);for(const n of e.Eu)t.uu(n.mutations)}async function lm(e,t,n){const r=e.Eu.shift(),i=jd.from(r,t,n);await em(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await tm(e)}async function um(e,t){t&&fm(e).ou&&await async function(e,t){if(Wd(n=t.code)&&n!==Ru.ABORTED){const n=e.Eu.shift();fm(e).Qo(),await em(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await tm(e)}var n}(e,t),im(e)&&om(e)}async function cm(e,t){const n=Au(e);n.asyncQueue.verifyOperationInProgress(),Tu("RemoteStore","RemoteStore received new credentials");const r=Qp(n);n.vu.add(3),await zp(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.vu.delete(3),await Vp(n)}async function hm(e,t){const n=Au(e);t?(n.vu.delete(2),await Vp(n)):t||(n.vu.add(2),await zp(n),n.bu.set("Unknown"))}function dm(e){return e.Su||(e.Su=function(e,t,n){const r=Au(e);return r.fu(),new Lp(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:Xp.bind(null,e),ao:$p.bind(null,e),nu:Jp.bind(null,e)}),e.Ru.push(async t=>{t?(e.Su.Qo(),Gp(e)?Kp(e):e.bu.set("Unknown")):(await e.Su.stop(),Yp(e))})),e.Su}function fm(e){return e.Du||(e.Du=function(e,t,n){const r=Au(e);return r.fu(),new Mp(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:sm.bind(null,e),ao:um.bind(null,e),au:am.bind(null,e),cu:lm.bind(null,e)}),e.Ru.push(async t=>{t?(e.Du.Qo(),await tm(e)):(await e.Du.stop(),e.Eu.length>0&&(Tu("RemoteStore","Stopping write stream with ".concat(e.Eu.length," pending writes")),e.Eu=[]))})),e.Du}class pm{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Pu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,s=new pm(e,t,o,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Du(Ru.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function mm(e,t){if(Su("AsyncQueue","".concat(t,": ").concat(e)),lc(e))return new Du(Ru.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class gm{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Ju.comparator(t.key,n.key):(e,t)=>Ju.comparator(e.key,t.key),this.keyedMap=Xh(),this.sortedSet=new wc(this.comparator)}static emptySet(e){return new gm(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof gm))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new gm;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class ym{constructor(){this.Cu=new wc(Ju.comparator)}track(e){const t=e.doc.key,n=this.Cu.get(t);n?0!==e.type&&3===n.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==n.type?this.Cu=this.Cu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Cu=this.Cu.remove(t):1===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):xu():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,n)=>{e.push(n)}),e}}class vm{constructor(e,t,n,r,i,o,s,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach(e=>{o.push({type:0,doc:e})}),new vm(e,t,gm.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class wm{constructor(){this.Nu=void 0,this.listeners=[]}}class bm{constructor(){this.queries=new Kh(e=>Vh(e),jh),this.onlineState="Unknown",this.ku=new Set}}async function Em(e,t){const n=Au(e),r=t.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new wm),i)try{o.Nu=await n.onListen(r)}catch(e){const n=mm(e,"Initialization of query '".concat(zh(t.query),"' failed"));return void t.onError(n)}n.queries.set(r,o),o.listeners.push(t),t.Mu(n.onlineState),o.Nu&&t.$u(o.Nu)&&Sm(n)}async function km(e,t){const n=Au(e),r=t.query;let i=!1;const o=n.queries.get(r);if(o){const e=o.listeners.indexOf(t);e>=0&&(o.listeners.splice(e,1),i=0===o.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function _m(e,t){const n=Au(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.listeners)e.$u(i)&&(r=!0);t.Nu=i}}r&&Sm(n)}function Tm(e,t,n){const r=Au(e),i=r.queries.get(t);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(t)}function Sm(e){e.ku.forEach(e=>{e.next()})}class Cm{constructor(e,t,n){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=n||{}}$u(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new vm(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.Ku||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){if(e.docChanges.length>0)return!0;const t=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Uu(e){e=vm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class Im{constructor(e){this.key=e}}class xm{constructor(e){this.key=e}}class Nm{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=rd(),this.mutatedKeys=rd(),this.tc=Wh(e),this.ec=new gm(this.tc)}get nc(){return this.Yu}sc(e,t){const n=t?t.ic:new ym,r=t?t.ec:this.ec;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,s=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const u=r.get(e),c=Bh(this.query,t)?t:null,h=!!u&&this.mutatedKeys.has(u.key),d=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations);let f=!1;u&&c?u.data.isEqual(c.data)?h!==d&&(n.track({type:3,doc:c}),f=!0):this.rc(u,c)||(n.track({type:2,doc:c}),f=!0,(a&&this.tc(c,a)>0||l&&this.tc(c,l)<0)&&(s=!0)):!u&&c?(n.track({type:0,doc:c}),f=!0):u&&!c&&(n.track({type:1,doc:u}),f=!0,(a||l)&&(s=!0)),f&&(c?(o=o.add(c),i=d?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{ec:o,ic:n,zi:s,mutatedKeys:i}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const i=e.ic.xu();i.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xu()}};return n(e)-n(t)}(e.type,t.type)||this.tc(e.doc,t.doc)),this.oc(n);const o=t?this.uc():[],s=0===this.Zu.size&&this.current?1:0,a=s!==this.Xu;return this.Xu=s,0!==i.length||a?{snapshot:new vm(this.query,e.ec,r,i,e.mutatedKeys,0===s,a,!1,!!n&&n.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new ym,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(e=>this.Yu=this.Yu.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Yu=this.Yu.delete(e)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=rd(),this.ec.forEach(e=>{this.ac(e.key)&&(this.Zu=this.Zu.add(e.key))});const t=[];return e.forEach(e=>{this.Zu.has(e)||t.push(new xm(e))}),this.Zu.forEach(n=>{e.has(n)||t.push(new Im(n))}),t}hc(e){this.Yu=e.ir,this.Zu=rd();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return vm.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Am{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Rm{constructor(e){this.key=e,this.fc=!1}}class Dm{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new Kh(e=>Vh(e),jh),this._c=new Map,this.mc=new Set,this.gc=new wc(Ju.comparator),this.yc=new Map,this.Ic=new ep,this.Tc={},this.Ec=new Map,this.Ac=Qf.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}async function Pm(e,t){const n=$m(e);let r,i;const o=n.wc.get(t);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.lc();else{const e=await yp(n.localStore,Mh(t)),o=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await Om(n,t,r,"current"===o,e.resumeToken),n.isPrimaryClient&&Bp(n.remoteStore,e)}return i}async function Om(e,t,n,r,i){e.Rc=(t,n,r)=>async function(e,t,n,r){let i=t.view.sc(n);i.zi&&(i=await wp(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.sc(n,i)}));const o=r&&r.targetChanges.get(t.targetId),s=t.view.applyChanges(i,e.isPrimaryClient,o);return Hm(e,t.targetId,s.cc),s.snapshot}(e,t,n,r);const o=await wp(e.localStore,t,!0),s=new Nm(t,o.ir),a=s.sc(o.documents),l=tf.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),u=s.applyChanges(a,e.isPrimaryClient,l);Hm(e,n,u.cc);const c=new Am(t,n,s);return e.wc.set(t,c),e._c.has(n)?e._c.get(n).push(t):e._c.set(n,[t]),u.snapshot}async function Lm(e,t){const n=Au(e),r=n.wc.get(t),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(e=>!jh(e,t))),void n.wc.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await vp(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),qp(n.remoteStore,r.targetId),qm(n,r.targetId)}).catch(sc)):(qm(n,r.targetId),await vp(n.localStore,r.targetId,!0))}async function Mm(e,t){const n=Au(e);try{const e=await function(e,t){const n=Au(e),r=t.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const s=[];t.targetChanges.forEach((o,a)=>{const l=i.get(a);if(!l)return;s.push(n.Bs.removeMatchingKeys(e,o.removedDocuments,a).next(()=>n.Bs.addMatchingKeys(e,o.addedDocuments,a)));let u=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?u=u.withResumeToken(Cc.EMPTY_BYTE_STRING,Gu.min()).withLastLimboFreeSnapshotVersion(Gu.min()):o.resumeToken.approximateByteSize()>0&&(u=u.withResumeToken(o.resumeToken,r)),i=i.insert(a,u),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,u,o)&&s.push(n.Bs.updateTargetData(e,u))});let a=Qh(),l=rd();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),s.push(mp(e,o,t.documentUpdates).next(e=>{a=e.nr,l=e.sr})),!r.isEqual(Gu.min())){const t=n.Bs.getLastRemoteSnapshotVersion(e).next(t=>n.Bs.setTargetsMetadata(e,e.currentSequenceNumber,r));s.push(t)}return ac.waitFor(s).next(()=>o.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,a,l)).next(()=>a)}).then(e=>(n.Ji=i,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.yc.get(t);r&&(Nu(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.fc=!0:e.modifiedDocuments.size>0?Nu(r.fc):e.removedDocuments.size>0&&(Nu(r.fc),r.fc=!1))}),await Qm(n,e,t)}catch(e){await sc(e)}}function Fm(e,t,n){const r=Au(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.wc.forEach((n,r)=>{const i=r.view.Mu(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=Au(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.listeners)i.Mu(t)&&(r=!0)}),r&&Sm(n)}(r.eventManager,t),e.length&&r.dc.nu(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Um(e,t,n){const r=Au(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.yc.get(t),o=i&&i.key;if(o){let e=new wc(Ju.comparator);e=e.insert(o,eh.newNoDocument(o,Gu.min()));const n=rd().add(o),i=new ef(Gu.min(),new Map,new wc(Wu),e,n);await Mm(r,i),r.gc=r.gc.remove(o),r.yc.delete(t),Gm(r)}else await vp(r.localStore,t,!1).then(()=>qm(r,t,n)).catch(sc)}async function jm(e,t){const n=Au(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Au(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let s=ac.resolve();return o.forEach(e=>{s=s.next(()=>r.getEntry(t,e)).next(t=>{const o=n.docVersions.get(e);Nu(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),s.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=rd();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);Bm(n,r,null),zm(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Qm(n,e)}catch(e){await sc(e)}}async function Vm(e,t,n){const r=Au(e);try{const e=await function(e,t){const n=Au(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(Nu(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);Bm(r,t,n),zm(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Qm(r,e)}catch(n){await sc(n)}}function zm(e,t){(e.Ec.get(t)||[]).forEach(e=>{e.resolve()}),e.Ec.delete(t)}function Bm(e,t,n){const r=Au(e);let i=r.Tc[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Tc[r.currentUser.toKey()]=i}}function qm(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e._c.get(t))e.wc.delete(r),n&&e.dc.Pc(r,n);e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach(t=>{e.Ic.containsKey(t)||Wm(e,t)})}function Wm(e,t){e.mc.delete(t.path.canonicalString());const n=e.gc.get(t);null!==n&&(qp(e.remoteStore,n),e.gc=e.gc.remove(t),e.yc.delete(n),Gm(e))}function Hm(e,t,n){for(const r of n)r instanceof Im?(e.Ic.addReference(r.key,t),Km(e,r)):r instanceof xm?(Tu("SyncEngine","Document no longer in limbo: "+r.key),e.Ic.removeReference(r.key,t),e.Ic.containsKey(r.key)||Wm(e,r.key)):xu()}function Km(e,t){const n=t.key,r=n.path.canonicalString();e.gc.get(n)||e.mc.has(r)||(Tu("SyncEngine","New document in limbo: "+n),e.mc.add(r),Gm(e))}function Gm(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){const t=e.mc.values().next().value;e.mc.delete(t);const n=new Ju(Yu.fromString(t)),r=e.Ac.next();e.yc.set(r,new Rm(n)),e.gc=e.gc.insert(n,r),Bp(e.remoteStore,new zf(Mh(Ah(n.path)),r,"TargetPurposeLimboResolution",uc.ct))}}async function Qm(e,t,n){const r=Au(e),i=[],o=[],s=[];r.wc.isEmpty()||(r.wc.forEach((e,a)=>{s.push(r.Rc(a,t,n).then(e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=up.Li(a.targetId,e);o.push(t)}}))}),await Promise.all(s),r.dc.nu(i),await async function(e,t){const n=Au(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>ac.forEach(t,t=>ac.forEach(t.Fi,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>ac.forEach(t.Bi,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!lc(e))throw e;Tu("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ji.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ji=n.Ji.insert(e,i)}}}(r.localStore,o))}async function Ym(e,t){const n=Au(e);if(!n.currentUser.isEqual(t)){Tu("SyncEngine","User change. New user:",t.toKey());const e=await fp(n.localStore,t);n.currentUser=t,function(e){e.Ec.forEach(e=>{e.forEach(e=>{e.reject(new Du(Ru.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),e.Ec.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Qm(n,e.er)}}function Xm(e,t){const n=Au(e),r=n.yc.get(t);if(r&&r.fc)return rd().add(r.key);{let e=rd();const r=n._c.get(t);if(!r)return e;for(const t of r){const r=n.wc.get(t);e=e.unionWith(r.view.nc)}return e}}function $m(e){const t=Au(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Mm.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Xm.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Um.bind(null,t),t.dc.nu=_m.bind(null,t.eventManager),t.dc.Pc=Tm.bind(null,t.eventManager),t}function Jm(e){const t=Au(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=jm.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Vm.bind(null,t),t}class Zm{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Dp(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return dp(this.persistence,new cp,e.initialUser,this.serializer)}createPersistence(e){return new sp(lp.zs,this.serializer)}createSharedClientState(e){return new kp}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class eg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Fm(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Ym.bind(null,this.syncEngine),await hm(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new bm}createDatastore(e){const t=Dp(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new Ap(r));var r;return function(e,t,n,r){return new Fp(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>Fm(this.syncEngine,e,0),o=Tp.D()?new Tp:new _p,new jp(t,n,r,i,o);var t,n,r,i,o}createSyncEngine(e,t){return function(e,t,n,r,i,o,s){const a=new Dm(e,t,n,r,i,o);return s&&(a.vc=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=Au(e);Tu("RemoteStore","RemoteStore shutting down."),t.vu.add(5),await zp(t),t.Pu.shutdown(),t.bu.set("Unknown")}(this.remoteStore)}}class tg{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Su("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class ng{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=bu.UNAUTHENTICATED,this.clientId=qu.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,async e=>{Tu("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(Tu("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Du(Ru.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Pu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(ze){const n=mm(ze,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function rg(e,t){e.asyncQueue.verifyOperationInProgress(),Tu("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await fp(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function ig(e,t){e.asyncQueue.verifyOperationInProgress();const n=await sg(e);Tu("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(e=>cm(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>cm(t.remoteStore,n)),e._onlineComponents=t}function og(e){return"FirebaseError"===e.name?e.code===Ru.FAILED_PRECONDITION||e.code===Ru.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function sg(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Tu("FirestoreClient","Using user provided OfflineComponentProvider");try{await rg(e,e._uninitializedComponentsProvider._offline)}catch(ze){const n=ze;if(!og(n))throw n;Cu("Error using user provided cache. Falling back to memory cache: "+n),await rg(e,new Zm)}}else Tu("FirestoreClient","Using default OfflineComponentProvider"),await rg(e,new Zm);return e._offlineComponents}async function ag(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Tu("FirestoreClient","Using user provided OnlineComponentProvider"),await ig(e,e._uninitializedComponentsProvider._online)):(Tu("FirestoreClient","Using default OnlineComponentProvider"),await ig(e,new eg))),e._onlineComponents}function lg(e){return ag(e).then(e=>e.syncEngine)}async function ug(e){const t=await ag(e),n=t.eventManager;return n.onListen=Pm.bind(null,t.syncEngine),n.onUnlisten=Lm.bind(null,t.syncEngine),n}function cg(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Pu;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const o=new tg({next:n=>{t.enqueueAndForget(()=>km(e,s)),n.fromCache&&"server"===r.source?i.reject(new Du(Ru.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),s=new Cm(n,o,{includeMetadataChanges:!0,Ku:!0});return Em(e,s)}(await ug(e),e.asyncQueue,t,n,r)),r.promise}function hg(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const dg=new Map;function fg(e,t,n){if(!n)throw new Du(Ru.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function pg(e){if(!Ju.isDocumentKey(e))throw new Du(Ru.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function mg(e){if(Ju.isDocumentKey(e))throw new Du(Ru.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function gg(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":xu()}function yg(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Du(Ru.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=gg(e);throw new Du(Ru.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}class vg{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Du(Ru.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Du(Ru.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Du(Ru.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hg(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Du(Ru.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Du(Ru.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Du(Ru.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}class wg{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vg({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Du(Ru.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Du(Ru.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vg(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Lu;switch(e.type){case"firstParty":return new ju(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Du(Ru.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=dg.get(e);t&&(Tu("ComponentProvider","Removing Datastore"),dg.delete(e),t.terminate())}(this),Promise.resolve()}}class bg{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new kg(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bg(this.firestore,e,this._key)}}class Eg{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Eg(this.firestore,e,this._query)}}class kg extends Eg{constructor(e,t,n){super(e,t,Ah(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bg(this.firestore,null,new Ju(e))}withConverter(e){return new kg(this.firestore,e,this._path)}}function _g(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=xr(e),fg("collection","path",t),e instanceof wg){const n=Yu.fromString(t,...r);return mg(n),new kg(e,null,n)}{if(!(e instanceof bg||e instanceof kg))throw new Du(Ru.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Yu.fromString(t,...r));return mg(n),new kg(e.firestore,null,n)}}function Tg(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=xr(e),1===arguments.length&&(t=qu.A()),fg("doc","path",t),e instanceof wg){const n=Yu.fromString(t,...r);return pg(n),new bg(e,null,new Ju(n))}{if(!(e instanceof bg||e instanceof kg))throw new Du(Ru.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Yu.fromString(t,...r));return pg(n),new bg(e.firestore,e instanceof kg?e.converter:null,new Ju(n))}}class Sg{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Pp(this,"async_queue_retry"),this.Xc=()=>{const e=Rp();e&&Tu("AsyncQueue","Visibility state changed to "+e.visibilityState),this.qo.Mo()};const e=Rp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=Rp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Pu;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(0!==this.Qc.length){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(Be){if(!lc(Be))throw Be;Tu("AsyncQueue","Operation failed with retryable error: "+Be)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(e=>{this.Wc=e,this.Hc=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Su("INTERNAL UNHANDLED ERROR: ",t),e}).then(e=>(this.Hc=!1,e))));return this.Gc=t,t}enqueueAfterDelay(e,t,n){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const r=pm.createAndSchedule(this,e,t,n,e=>this.na(e));return this.zc.push(r),r}Zc(){this.Wc&&xu()}verifyOperationInProgress(){}async sa(){let e;do{e=this.Gc,await e}while(e!==this.Gc)}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class Cg extends wg{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Sg,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||xg(this),this._firestoreClient.terminate()}}function Ig(e){return e._firestoreClient||xg(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function xg(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new Oc(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,hg(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new ng(e._authCredentials,e._appCheckCredentials,e._queue,o),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class Ng{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ng(Cc.fromBase64String(e))}catch(e){throw new Du(Ru.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Ng(Cc.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ag{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Du(Ru.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $u(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Rg{constructor(e){this._methodName=e}}class Dg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Du(Ru.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Du(Ru.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Wu(this._lat,e._lat)||Wu(this._long,e._long)}}const Pg=/^__.*__$/;class Og{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Dd(e,this.data,this.fieldMask,t,this.fieldTransforms):new Rd(e,this.data,t,this.fieldTransforms)}}class Lg{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Dd(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Mg(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xu()}}class Fg{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.ua(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Fg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.fa(e),r}da(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Zg(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Mg(this.ca)&&Pg.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Ug{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Dp(e)}ya(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Fg({ca:e,methodName:t,ga:n,path:$u.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jg(e){const t=e._freezeSettings(),n=Dp(e._databaseId);return new Ug(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Vg(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=e.ya(o.merge||o.mergeFields?2:0,t,n,i);Yg("Data must be an object, but it was:",s,r);const a=Gg(r,s);let l,u;if(o.merge)l=new Tc(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=Xg(t,r,n);if(!s.contains(i))throw new Du(Ru.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));ey(e,i)||e.push(i)}l=new Tc(e),u=s.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,u=s.fieldTransforms;return new Og(new Jc(a),l,u)}class zg extends Rg{_toFieldTransform(e){if(2!==e.ca)throw 1===e.ca?e._a("".concat(this._methodName,"() can only appear at the top level of your update data")):e._a("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zg}}class Bg extends Rg{_toFieldTransform(e){return new Ed(e.path,new fd)}isEqual(e){return e instanceof Bg}}function qg(e,t,n,r){const i=e.ya(1,t,n);Yg("Data must be an object, but it was:",i,r);const o=[],s=Jc.empty();yc(r,(e,r)=>{const a=Jg(t,e,n);r=xr(r);const l=i.da(a);if(r instanceof zg)o.push(a);else{const e=Kg(r,l);null!=e&&(o.push(a),s.set(a,e))}});const a=new Tc(o);return new Lg(s,a,i.fieldTransforms)}function Wg(e,t,n,r,i,o){const s=e.ya(1,t,n),a=[Xg(t,r,n)],l=[i];if(o.length%2!=0)throw new Du(Ru.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let d=0;d<o.length;d+=2)a.push(Xg(t,o[d])),l.push(o[d+1]);const u=[],c=Jc.empty();for(let d=a.length-1;d>=0;--d)if(!ey(u,a[d])){const e=a[d];let t=l[d];t=xr(t);const n=s.da(e);if(t instanceof zg)u.push(e);else{const r=Kg(t,n);null!=r&&(u.push(e),c.set(e,r))}}const h=new Tc(u);return new Lg(c,h,s.fieldTransforms)}function Hg(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Kg(n,e.ya(r?4:3,t))}function Kg(e,t){if(Qg(e=xr(e)))return Yg("Unsupported field value:",t,e),Gg(e,t);if(e instanceof Rg)return function(e,t){if(!Mg(t.ca))throw t._a("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t._a("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Kg(i,t.wa(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=xr(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return ld(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Ku.fromDate(e);return{timestampValue:mf(t.serializer,n)}}if(e instanceof Ku){const n=new Ku(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:mf(t.serializer,n)}}if(e instanceof Dg)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Ng)return{bytesValue:gf(t.serializer,e._byteString)};if(e instanceof bg){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t._a("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:wf(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a("Unsupported field value: ".concat(gg(e)))}(e,t)}function Gg(e,t){const n={};return vc(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):yc(e,(e,r)=>{const i=Kg(r,t.ha(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function Qg(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Ku||e instanceof Dg||e instanceof Ng||e instanceof bg||e instanceof Rg)}function Yg(e,t,n){if(!Qg(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=gg(n);throw"an object"===r?t._a(e+" a custom object"):t._a(e+" "+r)}}function Xg(e,t,n){if((t=xr(t))instanceof Ag)return t._internalPath;if("string"==typeof t)return Jg(e,t);throw Zg("Field path arguments must be of type string or ",e,!1,void 0,n)}const $g=new RegExp("[~\\*/\\[\\]]");function Jg(e,t,n){if(t.search($g)>=0)throw Zg("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new Ag(...t.split("."))._internalPath}catch(Qe){throw Zg("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Zg(e,t,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=" in field ".concat(r)),s&&(l+=" in document ".concat(i)),l+=")"),new Du(Ru.INVALID_ARGUMENT,a+e+l)}function ey(e,t){return e.some(e=>e.isEqual(t))}class ty{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new bg(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new ny(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ry("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class ny extends ty{data(){return super.data()}}function ry(e,t){return"string"==typeof t?Jg(e,t):t instanceof Ag?t._internalPath:t._delegate._internalPath}function iy(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Du(Ru.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class oy{}class sy extends oy{}function ay(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t instanceof oy&&n.push(t),n=n.concat(i),function(e){const t=e.filter(e=>e instanceof cy).length,n=e.filter(e=>e instanceof ly).length;if(t>1||t>0&&n>0)throw new Du(Ru.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)e=s._apply(e);return e}class ly extends sy{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new ly(e,t,n)}_apply(e){const t=this._parse(e);return my(e._query,t),new Eg(e.firestore,e.converter,Fh(e._query,t))}_parse(e){const t=jg(e.firestore),n=function(e,t,n,r,i,o,s){let a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Du(Ru.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(o,"' queries on documentId()."));if("in"===o||"not-in"===o){py(s,o);const t=[];for(const n of s)t.push(fy(r,e,n));a={arrayValue:{values:t}}}else a=fy(r,e,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||py(s,o),a=Hg(n,"where",s,"in"===o||"not-in"===o);return ah.create(i,o,a)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function uy(e,t,n){const r=t,i=ry("where",e);return ly._create(i,r,n)}class cy extends oy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new cy(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:lh.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)my(n,i),n=Fh(n,i)}(e._query,t),new Eg(e.firestore,e.converter,Fh(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class hy extends sy{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new hy(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Du(Ru.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Du(Ru.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new ih(t,n);return function(e,t){if(null===Dh(e)){const n=Ph(e);null!==n&&gy(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new Eg(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new xh(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function dy(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=ry("orderBy",e);return hy._create(n,t)}function fy(e,t,n){if("string"==typeof(n=xr(n))){if(""===n)throw new Du(Ru.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Oh(t)&&-1!==n.indexOf("/"))throw new Du(Ru.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(Yu.fromString(n));if(!Ju.isDocumentKey(r))throw new Du(Ru.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Wc(e,new Ju(r))}if(n instanceof bg)return Wc(e,n._key);throw new Du(Ru.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(gg(n),"."))}function py(e,t){if(!Array.isArray(e)||0===e.length)throw new Du(Ru.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function my(e,t){if(t.isInequality()){const n=Ph(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new Du(Ru.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));const i=Dh(e);null!==i&&gy(e,r,i)}const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Du(Ru.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Du(Ru.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}function gy(e,t,n){if(!n.isEqual(t))throw new Du(Ru.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}class yy{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Fc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nc(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ac(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw xu()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return yc(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertGeoPoint(e){return new Dg(Nc(e.latitude),Nc(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Dc(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Pc(e));default:return null}}convertTimestamp(e){const t=xc(e);return new Ku(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Yu.fromString(e);Nu(Vf(n));const r=new Lc(n.get(1),n.get(3)),i=new Ju(n.popFirst(5));return r.isEqual(t)||Su("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function vy(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class wy{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class by extends ty{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Ey(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(ry("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Ey extends by{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class ky{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new wy(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Ey(this._firestore,this._userDataWriter,n.key,n,new wy(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Du(Ru.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new Ey(e._firestore,e._userDataWriter,n.doc.key,n.doc,new wy(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new Ey(e._firestore,e._userDataWriter,t.doc.key,t.doc,new wy(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:_y(t.type),doc:r,oldIndex:i,newIndex:o}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function _y(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xu()}}class Ty extends yy{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ng(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new bg(this.firestore,null,t)}}function Sy(e){e=yg(e,Eg);const t=yg(e.firestore,Cg),n=Ig(t),r=new Ty(t);return iy(e._query),cg(n,e._query).then(n=>new ky(t,r,e,n))}function Cy(e){return Iy(yg(e.firestore,Cg),[new Md(e._key,_d.none())])}function Iy(e,t){return function(e,t){const n=new Pu;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=Jm(e);try{const e=await function(e,t){const n=Au(e),r=Ku.now(),i=t.reduce((e,t)=>e.add(t.key),rd());let o,s;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let a=Qh(),l=rd();return n.Zi.getEntries(e,i).next(e=>{a=e,a.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,a)).next(i=>{o=i;const s=[];for(const e of t){const t=Nd(e,o.get(e.key).overlayedDocument);null!=t&&s.push(new Dd(e.key,t,Zc(t.value.mapValue),_d.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)}).next(t=>{s=t;const r=t.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:s.batchId,changes:$h(o)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Tc[e.currentUser.toKey()];r||(r=new wc(Wu)),r=r.insert(t,n),e.Tc[e.currentUser.toKey()]=r}(r,e.batchId,n),await Qm(r,e.changes),await tm(r.remoteStore)}catch(e){const t=mm(e,"Failed to persist write");n.reject(t)}}(await lg(e),t,n)),n.promise}(Ig(e),t)}function xy(){return new Bg("serverTimestamp")}!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Eu=e}(ji),Li(new Nr("firestore",(e,n)=>{let{instanceIdentifier:r,options:i}=n;const o=e.getProvider("app").getImmediate(),s=new Cg(new Fu(e.getProvider("auth-internal")),new zu(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Du(Ru.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lc(e.options.projectId,t)}(o,r),o);return i=Object.assign({useFetchStreams:t},i),s._setSettings(i),s},"PUBLIC").setMultipleInstances(!0)),Bi(wu,"3.13.0",e),Bi(wu,"3.13.0","esm2017")}();Bi("firebase","9.23.0","app");function Ny(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function Ay(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Ry=Ay,Dy=new wr("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Py=new jr("@firebase/auth");function Oy(e){if(Py.logLevel<=Or.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Py.error("Auth (".concat(ji,"): ").concat(e),...n)}}function Ly(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Uy(e,...n)}function My(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Uy(e,...n)}function Fy(e,t,n){const r=Object.assign(Object.assign({},Ry()),{[t]:n});return new wr("auth","Firebase",r).create(t,{appName:e.name})}function Uy(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Dy.create(e,...n)}function jy(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Uy(t,...r)}}function Vy(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Oy(t),new Error(t)}function zy(e,t){e||Vy(t)}function By(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function qy(){return"http:"===Wy()||"https:"===Wy()}function Wy(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Hy(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(qy()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Ky{constructor(e,t){this.shortDelay=e,this.longDelay=t,zy(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gr())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return Hy()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Gy(e,t){zy(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class Qy{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Vy("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Vy("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Vy("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Yy={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Xy=new Ky(3e4,6e4);function $y(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Jy(e,t,n,r){return Zy(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const s=_r(Object.assign({key:e.config.apiKey},o)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),Qy.fetch()(tv(e,e.config.apiHost,n,s),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},i))})}async function Zy(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Yy),t);try{const t=new nv(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw rv(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw rv(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw rv(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw rv(e,"user-disabled",o);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw Fy(e,a,s);Ly(e,a)}}catch(ze){if(ze instanceof vr)throw ze;Ly(e,"network-request-failed",{message:String(ze)})}}async function ev(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await Jy(e,t,n,r,i);return"mfaPendingCredential"in o&&Ly(e,"multi-factor-auth-required",{_serverResponse:o}),o}function tv(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Gy(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}class nv{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(My(this.auth,"network-request-failed")),Xy.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function rv(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=My(e,t,r);return i.customData._tokenResponse=n,i}function iv(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(ze){}}function ov(e){return 1e3*Number(e)}function sv(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Oy("JWT malformed, contained fewer than 3 sections"),null;try{const e=ar(n);return e?JSON.parse(e):(Oy("Failed to decode base64 JWT payload"),null)}catch(ze){return Oy("Caught error parsing JWT payload as JSON",null===ze||void 0===ze?void 0:ze.toString()),null}}async function av(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(ze){throw ze instanceof vr&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(ze)&&e.auth.currentUser===e&&await e.auth.signOut(),ze}}class lv{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(ze){return void((null===ze||void 0===ze?void 0:ze.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class uv{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=iv(this.lastLoginAt),this.creationTime=iv(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function cv(e){var t;const n=e.auth,r=await e.getIdToken(),i=await av(e,async function(e,t){return Jy(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));jy(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?o.providerUserInfo.map(e=>{var{providerId:t}=e,n=Ny(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}):[];const a=function(e,t){const n=e.filter(e=>!t.some(t=>t.providerId===e.providerId));return[...n,...t]}(e.providerData,s),l=e.isAnonymous,u=!(e.email&&o.passwordHash)&&!(null===a||void 0===a?void 0:a.length),c=!!l&&u,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new uv(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(e,h)}class hv{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){jy(e.idToken,"internal-error"),jy("undefined"!==typeof e.idToken,"internal-error"),jy("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=sv(e);return jy(t,"internal-error"),jy("undefined"!==typeof t.exp,"internal-error"),jy("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return jy(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Zy(e,{},async()=>{const n=_r({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=tv(e,r,"/v1/token","key=".concat(i)),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",Qy.fetch()(o,{method:"POST",headers:s,body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new hv;return n&&(jy("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(jy("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(jy("number"===typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new hv,this.toJSON())}_performRefresh(){return Vy("not implemented")}}function dv(e,t){jy("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class fv{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=Ny(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new lv(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new uv(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await av(this,this.stsTokenManager.getToken(this.auth,e));return jy(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=xr(e),r=await n.getIdToken(t),i=sv(r);jy(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"===typeof i.firebase?i.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:iv(ov(i.auth_time)),issuedAtTime:iv(ov(i.iat)),expirationTime:iv(ov(i.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=xr(e);await cv(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(jy(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new fv(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){jy(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await cv(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await av(this,async function(e,t){return Jy(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,s,a,l,u;const c=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(s=t.tenantId)&&void 0!==s?s:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:v,emailVerified:w,isAnonymous:b,providerData:E,stsTokenManager:k}=t;jy(v&&k,e,"internal-error");const _=hv.fromJSON(this.name,k);jy("string"===typeof v,e,"internal-error"),dv(c,e.name),dv(h,e.name),jy("boolean"===typeof w,e,"internal-error"),jy("boolean"===typeof b,e,"internal-error"),dv(d,e.name),dv(f,e.name),dv(p,e.name),dv(m,e.name),dv(g,e.name),dv(y,e.name);const T=new fv({uid:v,auth:e,email:h,emailVerified:w,displayName:c,isAnonymous:b,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:_,createdAt:g,lastLoginAt:y});return E&&Array.isArray(E)&&(T.providerData=E.map(e=>Object.assign({},e))),m&&(T._redirectEventId=m),T}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new hv;r.updateFromServerResponse(t);const i=new fv({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await cv(i),i}}const pv=new Map;function mv(e){zy(e instanceof Function,"Expected a class definition");let t=pv.get(e);return t?(zy(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,pv.set(e,t),t)}class gv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}gv.type="NONE";const yv=gv;function vv(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class wv{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=vv(this.userKey,r.apiKey,i),this.fullPersistenceKey=vv("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?fv._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new wv(mv(yv),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||mv(yv);const o=vv(n,e.config.apiKey,e.name);let s=null;for(const u of t)try{const t=await u._get(o);if(t){const n=fv._fromJSON(e,t);u!==i&&(s=n),i=u;break}}catch(l){}const a=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&a.length?(i=a[0],s&&await i._set(o,s.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(o)}catch(l){}})),new wv(i,e,n)):new wv(i,e,n)}}function bv(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Tv(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Ev(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Cv(t))return"Blackberry";if(Iv(t))return"Webos";if(kv(t))return"Safari";if((t.includes("chrome/")||_v(t))&&!t.includes("edge/"))return"Chrome";if(Sv(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Ev(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gr();return/firefox\//i.test(e)}function kv(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:gr()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _v(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gr();return/crios\//i.test(e)}function Tv(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gr();return/iemobile/i.test(e)}function Sv(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gr();return/android/i.test(e)}function Cv(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gr();return/blackberry/i.test(e)}function Iv(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gr();return/webos/i.test(e)}function xv(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gr();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Nv(){return function(){const e=gr();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Av(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gr();return xv(e)||Sv(e)||Iv(e)||Cv(e)||/windows phone/i.test(e)||Tv(e)}function Rv(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=bv(gr());break;case"Worker":t="".concat(bv(gr()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(ji,"/").concat(r)}async function Dv(e,t){return Jy(e,"GET","/v2/recaptchaConfig",$y(e,t))}function Pv(e){return void 0!==e&&void 0!==e.enterprise}class Ov{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(e=>"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState)}}function Lv(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=My("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})}function Mv(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Fv{constructor(e){this.type="recaptcha-enterprise",this.auth=zv(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Pv(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n("NO_RECAPTCHA")})}):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{Dv(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new Ov(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(i=>{if(!t&&Pv(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));Lv("https://www.google.com/recaptcha/enterprise.js?render="+i).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function Uv(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new Fv(e);let o;try{o=await i.verify(n)}catch(a){o=await i.verify(n,!0)}const s=Object.assign({},t);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}class jv{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(ze){r(ze)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(ze){t.reverse();for(const n of t)try{n()}catch(It){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===ze||void 0===ze?void 0:ze.message})}}}class Vv{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Bv(this),this.idTokenSubscription=new Bv(this),this.beforeStateQueue=new jv(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Dy,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=mv(t)),this._initializationPromise=this.queue(async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await wv.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(ze){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null===r||void 0===r?void 0:r._redirectEventId,s=await this.tryRedirectSignIn(e);n&&n!==o||!(null===s||void 0===s?void 0:s.user)||(r=s.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(ze){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(ze))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return jy(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(ze){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await cv(e)}catch(ze){if((null===ze||void 0===ze?void 0:ze.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?xr(e):null;return t&&jy(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&jy(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(mv(e))})}async initializeRecaptchaConfig(){const e=await Dv(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),t=new Ov(e);if(null==this.tenantId?this._agentRecaptchaConfig=t:this._tenantRecaptchaConfigs[this.tenantId]=t,t.emailPasswordEnabled){new Fv(this).verify()}}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new wr("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&mv(e)||this._popupRedirectResolver;jy(t,this,"argument-error"),this.redirectPersistenceManager=await wv.create(this,[mv(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return jy(o,this,"internal-error"),o.then(()=>i(this.currentUser)),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return jy(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Rv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Py.logLevel<=Or.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Py.warn("Auth (".concat(ji,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function zv(e){return xr(e)}class Bv{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new Cr(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return jy(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function qv(e,t,n){const r=zv(e);jy(r._canInitEmulator,r,"emulator-config-failed"),jy(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=Wv(t),{host:s,port:a}=function(e){const t=Wv(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Hv(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Hv(t)}}}(t),l=null===a?"":":".concat(a);r.config.emulator={url:"".concat(o,"//").concat(s).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Wv(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Hv(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Kv{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Vy("not implemented")}_getIdTokenResponse(e){return Vy("not implemented")}_linkToIdToken(e,t){return Vy("not implemented")}_getReauthenticationResolver(e){return Vy("not implemented")}}async function Gv(e,t){return Jy(e,"POST","/v1/accounts:update",t)}async function Qv(e,t){return ev(e,"POST","/v1/accounts:signInWithPassword",$y(e,t))}class Yv extends Kv{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Yv(e,t,"password")}static _fromEmailAndCode(e,t){return new Yv(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){var t;switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(null===(t=e._getRecaptchaConfig())||void 0===t?void 0:t.emailPasswordEnabled){const t=await Uv(e,n,"signInWithPassword");return Qv(e,t)}return Qv(e,n).catch(async t=>{if(t.code==="auth/".concat("missing-recaptcha-token")){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const t=await Uv(e,n,"signInWithPassword");return Qv(e,t)}return Promise.reject(t)});case"emailLink":return async function(e,t){return ev(e,"POST","/v1/accounts:signInWithEmailLink",$y(e,t))}(e,{email:this._email,oobCode:this._password});default:Ly(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Gv(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return ev(e,"POST","/v1/accounts:signInWithEmailLink",$y(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Ly(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Xv(e,t){return ev(e,"POST","/v1/accounts:signInWithIdp",$y(e,t))}class $v extends Kv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new $v(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ly("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=Ny(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new $v(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return Xv(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Xv(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Xv(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=_r(t)}return e}}const Jv={USER_NOT_FOUND:"user-not-found"};class Zv extends Kv{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Zv({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Zv({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return ev(e,"POST","/v1/accounts:signInWithPhoneNumber",$y(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await ev(e,"POST","/v1/accounts:signInWithPhoneNumber",$y(e,t));if(n.temporaryProof)throw rv(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return ev(e,"POST","/v1/accounts:signInWithPhoneNumber",$y(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Jv)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Zv({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class ew{constructor(e){var t,n,r,i,o,s;const a=Tr(Sr(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,u=null!==(n=a.oobCode)&&void 0!==n?n:null,c=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);jy(l&&u&&c,"argument-error"),this.apiKey=l,this.operation=c,this.code=u,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=a.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=a.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=Tr(Sr(e)).link,n=t?Tr(Sr(t)).deep_link_id:null,r=Tr(Sr(e)).deep_link_id;return(r?Tr(Sr(r)).link:null)||r||n||t||e}(e);try{return new ew(t)}catch(n){return null}}}class tw{constructor(){this.providerId=tw.PROVIDER_ID}static credential(e,t){return Yv._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=ew.parseLink(t);return jy(n,"argument-error"),Yv._fromEmailAndCode(e,n.code,n.tenantId)}}tw.PROVIDER_ID="password",tw.EMAIL_PASSWORD_SIGN_IN_METHOD="password",tw.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class nw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class rw extends nw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class iw extends rw{constructor(){super("facebook.com")}static credential(e){return $v._fromParams({providerId:iw.PROVIDER_ID,signInMethod:iw.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return iw.credentialFromTaggedObject(e)}static credentialFromError(e){return iw.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return iw.credential(t.oauthAccessToken)}catch(n){return null}}}iw.FACEBOOK_SIGN_IN_METHOD="facebook.com",iw.PROVIDER_ID="facebook.com";class ow extends rw{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return $v._fromParams({providerId:ow.PROVIDER_ID,signInMethod:ow.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ow.credentialFromTaggedObject(e)}static credentialFromError(e){return ow.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return ow.credential(n,r)}catch(i){return null}}}ow.GOOGLE_SIGN_IN_METHOD="google.com",ow.PROVIDER_ID="google.com";class sw extends rw{constructor(){super("github.com")}static credential(e){return $v._fromParams({providerId:sw.PROVIDER_ID,signInMethod:sw.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return sw.credentialFromTaggedObject(e)}static credentialFromError(e){return sw.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return sw.credential(t.oauthAccessToken)}catch(n){return null}}}sw.GITHUB_SIGN_IN_METHOD="github.com",sw.PROVIDER_ID="github.com";class aw extends rw{constructor(){super("twitter.com")}static credential(e,t){return $v._fromParams({providerId:aw.PROVIDER_ID,signInMethod:aw.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return aw.credentialFromTaggedObject(e)}static credentialFromError(e){return aw.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return aw.credential(n,r)}catch(i){return null}}}aw.TWITTER_SIGN_IN_METHOD="twitter.com",aw.PROVIDER_ID="twitter.com";class lw{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await fv._fromIdTokenResponse(e,n,r),o=uw(n);return new lw({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=uw(n);return new lw({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function uw(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class cw extends vr{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,cw.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new cw(e,t,n,r)}}function hw(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw cw._fromErrorAndOperation(e,n,t,r);throw n})}async function dw(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await av(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return lw._forOperation(e,"link",r)}async function fw(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e,i="reauthenticate";try{const o=await av(e,hw(r,i,t,e),n);jy(o.idToken,r,"internal-error");const s=sv(o.idToken);jy(s,r,"internal-error");const{sub:a}=s;return jy(e.uid===a,r,"user-mismatch"),lw._forOperation(e,i,o)}catch(ze){throw(null===ze||void 0===ze?void 0:ze.code)==="auth/".concat("user-not-found")&&Ly(r,"user-mismatch"),ze}}async function pw(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="signIn",i=await hw(e,r,t),o=await lw._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}new WeakMap;const mw="__sak";class gw{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(mw,"1"),this.storage.removeItem(mw),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class yw extends gw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=gr();return kv(e)||xv(e)}()&&function(){try{return!(!window||window===window.top)}catch(ze){return!1}}(),this.fallbackToPolling=Av(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Nv()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}yw.type="LOCAL";const vw=yw;class ww extends gw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}ww.type="SESSION";const bw=ww;class Ew{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new Ew(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null===o||void 0===o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(o).map(async e=>e(t.origin,i)),a=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function kw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Ew.receivers=[];class _w{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise((s,a)=>{const l=kw("",20);r.port1.start();const u=setTimeout(()=>{a(new Error("unsupported_event"))},n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(u),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}function Tw(){return window}function Sw(){return"undefined"!==typeof Tw().WorkerGlobalScope&&"function"===typeof Tw().importScripts}const Cw="firebaseLocalStorageDb",Iw="firebaseLocalStorage",xw="fbase_key";class Nw{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Aw(e,t){return e.transaction([Iw],t?"readwrite":"readonly").objectStore(Iw)}function Rw(){const e=indexedDB.open(Cw,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(Iw,{keyPath:xw})}catch(ze){n(ze)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(Iw)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Cw);return new Nw(e).toPromise()}(),t(await Rw()))})})}async function Dw(e,t,n){const r=Aw(e,!0).put({[xw]:t,value:n});return new Nw(r).toPromise()}function Pw(e,t){const n=Aw(e,!0).delete(t);return new Nw(n).toPromise()}class Ow{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await Rw()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(ze){if(t++>3)throw ze;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Sw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ew._getInstance(Sw()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new _w(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Rw();return await Dw(e,mw,"1"),await Pw(e,mw),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Dw(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=Aw(e,!1).get(t),r=await new Nw(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Pw(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=Aw(e,!1).getAll();return new Nw(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Ow.type="LOCAL";const Lw=Ow;Mv("rcb"),new Ky(3e4,6e4);const Mw="recaptcha";async function Fw(e,t,n){var r;const i=await n.verify();try{let o;if(jy("string"===typeof i,e,"argument-error"),jy(n.type===Mw,e,"argument-error"),o="string"===typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){jy("enroll"===t.type,e,"internal-error");const n=await function(e,t){return Jy(e,"POST","/v2/accounts/mfaEnrollment:start",$y(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{jy("signin"===t.type,e,"internal-error");const n=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;jy(n,e,"missing-multi-factor-info");const s=await function(e,t){return Jy(e,"POST","/v2/accounts/mfaSignIn:start",$y(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return s.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Jy(e,"POST","/v1/accounts:sendVerificationCode",$y(e,t))}(e,{phoneNumber:o.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class Uw{constructor(e){this.providerId=Uw.PROVIDER_ID,this.auth=zv(e)}verifyPhoneNumber(e,t){return Fw(this.auth,e,xr(t))}static credential(e,t){return Zv._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Uw.credentialFromTaggedObject(t)}static credentialFromError(e){return Uw.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Zv._fromTokenResponse(n,r):null}}function jw(e,t){return t?mv(t):(jy(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Uw.PROVIDER_ID="phone",Uw.PHONE_SIGN_IN_METHOD="phone";class Vw extends Kv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xv(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Xv(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Xv(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function zw(e){return pw(e.auth,new Vw(e),e.bypassAuthState)}function Bw(e){const{auth:t,user:n}=e;return jy(n,t,"internal-error"),fw(n,new Vw(e),e.bypassAuthState)}async function qw(e){const{auth:t,user:n}=e;return jy(n,t,"internal-error"),dw(n,new Vw(e),e.bypassAuthState)}class Ww{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(ze){this.reject(ze)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:s}=e;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(ze){this.reject(ze)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return zw;case"linkViaPopup":case"linkViaRedirect":return qw;case"reauthViaPopup":case"reauthViaRedirect":return Bw;default:Ly(this.auth,"internal-error")}}resolve(e){zy(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){zy(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Hw=new Ky(2e3,1e4);class Kw extends Ww{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Kw.currentPopupAction&&Kw.currentPopupAction.cancel(),Kw.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return jy(e,this.auth,"internal-error"),e}async onExecution(){zy(1===this.filter.length,"Popup operations only handle one event");const e=kw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(My(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(My(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Kw.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(My(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,Hw.get())};e()}}Kw.currentPopupAction=null;const Gw=new Map;class Qw extends Ww{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Gw.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=$w(t),r=Xw(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(ze){e=()=>Promise.reject(ze)}Gw.set(this.auth._key(),e)}return this.bypassAuthState||Gw.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Yw(e,t){Gw.set(e._key(),t)}function Xw(e){return mv(e._redirectPersistence)}function $w(e){return vv("pendingRedirect",e.config.apiKey,e.name)}async function Jw(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=zv(e),i=jw(r,t),o=new Qw(r,i,n),s=await o.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}class Zw{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tb(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!tb(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(My(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(eb(e))}saveEventToCache(e){this.cachedEventUids.add(eb(e)),this.lastProcessedEventTime=Date.now()}}function eb(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function tb(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const nb=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rb=/^https?/;async function ib(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return Jy(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(ob(r))return}catch(n){}Ly(e,"unauthorized-domain")}function ob(e){const t=By(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!rb.test(n))return!1;if(nb.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const sb=new Ky(3e4,6e4);function ab(){const e=Tw().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let lb=null;function ub(e){return lb=lb||function(e){return new Promise((t,n)=>{var r,i,o;function s(){ab(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{ab(),n(My(e,"network-request-failed"))},timeout:sb.get()})}if(null===(i=null===(r=Tw().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=Tw().gapi)||void 0===o?void 0:o.load)){const t=Mv("iframefcb");return Tw()[t]=()=>{gapi.load?s():n(My(e,"network-request-failed"))},Lv("https://apis.google.com/js/api.js?onload=".concat(t)).catch(e=>n(e))}s()}}).catch(e=>{throw lb=null,e})}(e),lb}const cb=new Ky(5e3,15e3),hb={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},db=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fb(e){const t=e.config;jy(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Gy(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:ji},i=db.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),"".concat(n,"?").concat(_r(r).slice(1))}const pb={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class mb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(ze){}}}function gb(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},pb),{width:r.toString(),height:i.toString(),top:o,left:s}),u=gr().toLowerCase();n&&(a=_v(u)?"_blank":n),Ev(u)&&(t=t||"http://localhost",l.scrollbars="yes");const c=Object.entries(l).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return xv(arguments.length>0&&void 0!==arguments[0]?arguments[0]:gr())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(u)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new mb(null);const h=window.open(t||"",a,c);jy(h,e,"popup-blocked");try{h.focus()}catch(ze){}return new mb(h)}const yb="__/auth/handler",vb="emulator/auth/handler",wb=encodeURIComponent("fac");async function bb(e,t,n,r,i,o){jy(e.config.authDomain,e,"auth-domain-config-required"),jy(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:ji,eventId:i};if(t instanceof nw){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))s[e]=t}if(t instanceof rw){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const c of Object.keys(a))void 0===a[c]&&delete a[c];const l=await e._getAppCheckToken(),u=l?"#".concat(wb,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(yb);return Gy(t,vb)}(e),"?").concat(_r(a).slice(1)).concat(u)}const Eb="webStorageSupport";const kb=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bw,this._completeRedirectFn=Jw,this._overrideRedirectResult=Yw}async _openPopup(e,t,n,r){var i;zy(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return gb(e,await bb(e,t,n,By(),r),kw())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Tw().location.href=e}(await bb(e,t,n,By(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(zy(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await async function(e){const t=await ub(e),n=Tw().gapi;return jy(n,e,"internal-error"),t.open({where:document.body,url:fb(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hb,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=My(e,"network-request-failed"),o=Tw().setTimeout(()=>{r(i)},cb.get());function s(){Tw().clearTimeout(o),n(t)}t.ping(s).then(s,()=>{r(i)})}))}(e),n=new Zw(e);return t.register("authEvent",t=>{jy(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Eb,{type:Eb},n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Eb];void 0!==i&&t(!!i),Ly(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=ib(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Av()||kv()||xv()}};var _b="@firebase/auth",Tb="0.23.2";class Sb{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){jy(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Cb=fr("authIdTokenMaxAge")||300;let Ib=null;var xb;xb="Browser",Li(new Nr("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;jy(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:xb,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Rv(xb)},u=new Vv(r,i,o,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(mv);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Li(new Nr("auth-internal",e=>(e=>new Sb(e))(zv(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),Bi(_b,Tb,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(xb)),Bi(_b,Tb,"esm2017");const Nb="firebasestorage.googleapis.com",Ab="storageBucket";class Rb extends vr{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(Ob(e),"Firebase Storage: ".concat(t," (").concat(Ob(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Rb.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Ob(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var Db,Pb;function Ob(e){return"storage/"+e}function Lb(){return new Rb(Db.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Mb(){return new Rb(Db.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Fb(){return new Rb(Db.CANCELED,"User canceled the upload/download.")}function Ub(e){return new Rb(Db.INVALID_ARGUMENT,e)}function jb(){return new Rb(Db.APP_DELETED,"The Firebase app was deleted.")}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(Db||(Db={}));class Vb{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=Vb.makeFromUrl(e,t)}catch(ze){return new Vb(e,"")}if(""===n.path)return n;throw r=e,new Rb(Db.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}const s=t.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(t===Nb?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}];for(let l=0;l<a.length;l++){const t=a[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new Vb(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new Rb(Db.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class zb{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function Bb(e,t,n,r){if(r<t)throw Ub("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw Ub("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function qb(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function Wb(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Pb||(Pb={}));class Hb{constructor(e,t,n,r,i,o,s,a,l,u,c){let h=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=a,this.timeout_=l,this.progressCallback_=u,this.connectionFactory_=c,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()})}start_(){const e=(e,t)=>{if(t)return void e(!1,new Kb(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===Pb.NO_ERROR,i=n.getStatus();if(!t||Wb(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===Pb.ABORT;return void e(!1,new Kb(!1,null,t))}const o=-1!==this.successCodes_.indexOf(i);e(!0,new Kb(o,n))})},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(ze){r(ze)}else if(null!==i){const e=Lb();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?jb():Fb())}else{r(Mb())}};this.canceled_?t(0,new Kb(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return 2===a}let u=!1;function c(){if(!u){u=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function h(t){i=setTimeout(()=>{i=null,e(f,l())},t)}function d(){o&&clearTimeout(o)}function f(e){if(u)return void d();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return d(),void c.call(null,e,...n);if(l()||s)return d(),void c.call(null,e,...n);let o;r<64&&(r*=2),1===a?(a=2,o=0):o=1e3*(r+Math.random()),h(o)}let p=!1;function m(e){p||(p=!0,d(),u||(null!==i?(e||(a=2),clearTimeout(i),h(0)):e||(a=1)))}return h(0),o=setTimeout(()=>{s=!0,m(!0)},n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Kb{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function Gb(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}class Qb{constructor(e,t){this._service=e,this._location=t instanceof Vb?t:Vb.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Qb(e,t)}get root(){const e=new Vb(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Gb(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new Vb(this._location.bucket,e);return new Qb(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new Rb(Db.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function Yb(e,t){const n=null===t||void 0===t?void 0:t[Ab];return null==n?null:Vb.makeFromBucketSpec(n,e)}class Xb{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=Nb,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Vb.makeFromBucketSpec(r,this._host):Yb(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=Vb.makeFromBucketSpec(this._url,e):this._bucket=Yb(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Bb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Bb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Qb(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new zb(jb());{const o=function(e,t,n,r,i,o){let s=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const a=qb(e.urlParams),l=e.url+a,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new Hb(l,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,s)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const $b="@firebase/storage",Jb="0.11.2",Zb="storage";function eE(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new Xb(r,i,o,n,ji)}Li(new Nr(Zb,eE,"PUBLIC").setMultipleInstances(!0)),Bi($b,Jb,""),Bi($b,Jb,"esm2017");const tE=Vi({apiKey:"AIzaSyAbnjelTLvylcsfks_BukE2i2SKsoZtVog",authDomain:"magx-portal-c03d8.firebaseapp.com",projectId:"magx-portal-c03d8",storageBucket:"magx-portal-c03d8.firebasestorage.app",messagingSenderId:"1076489415753",appId:"1:1076489415753:web:0406e2db52cb5db647e398"}),nE=function(e,t){const n="string"==typeof e?e:t||"(default)",r=Mi("object"==typeof e?e:zi(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=hr("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const o=(e=yg(e,wg))._getSettings(),s="".concat(t,":").concat(n);if("firestore.googleapis.com"!==o.host&&o.host!==s&&Cu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=bu.MOCK_USER;else{t=mr(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new Du(Ru.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new bu(o)}e._authCredentials=new Mu(new Ou(t,n))}}(r,...e)}return r}(tE),rE=(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zi();const t=Mi(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Mi(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Er(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;Ly(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:kb,persistence:[Lw,vw,bw]}),r=fr("authTokenSyncURL");if(r){const e=(i=r,async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Cb)return;const r=null===t||void 0===t?void 0:t.token;Ib!==r&&(Ib=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){xr(e).beforeAuthStateChanged(t,n)}(n,e,()=>e(n.currentUser)),function(e,t,n,r){xr(e).onIdTokenChanged(t,n,r)}(n,t=>e(t))}var i;const o=cr("auth");o&&qv(n,"http://".concat(o))}(tE),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zi(),t=arguments.length>1?arguments[1]:void 0;e=xr(e);const n=Mi(e,Zb).getImmediate({identifier:t}),r=hr("storage");r&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:mr(i,e.app.options.projectId))}(e,t,n,r)}(n,...r)}(tE),async e=>{try{const t=await function(e,t){const n=yg(e.firestore,Cg),r=Tg(e),i=vy(e.converter,t);return Iy(n,[Vg(jg(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,_d.exists(!1))]).then(()=>r)}(_g(nE,"teachers"),Ve(Ve({},e),{},{createdAt:xy(),updatedAt:xy()}));return t.id}catch(t){throw console.error("Error adding teacher:",t),t}}),iE=async()=>{try{const e=ay(_g(nE,"teachers"),dy("fullname","asc"));return(await Sy(e)).docs.map(e=>Ve({id:e.id},e.data()))}catch(e){throw console.error("Error getting teachers:",e),e}},oE=async(e,t)=>{try{const n=Tg(nE,"teachers",e);return await function(e,t,n){e=yg(e,bg);const r=yg(e.firestore,Cg),i=jg(r);let o;for(var s=arguments.length,a=new Array(s>3?s-3:0),l=3;l<s;l++)a[l-3]=arguments[l];return o="string"==typeof(t=xr(t))||t instanceof Ag?Wg(i,"updateDoc",e._key,t,n,a):qg(i,"updateDoc",e._key,t),Iy(r,[o.toMutation(e._key,_d.exists(!0))])}(n,Ve(Ve({},t),{},{updatedAt:xy()})),!0}catch(n){throw console.error("Error updating teacher:",n),n}},sE=async()=>{try{const e=(await Sy(_g(nE,"teachers"))).docs.map(e=>e.data()),t=[...new Set(e.map(e=>e.department))];return{totalTeachers:e.length,totalDepartments:t.length}}catch(e){throw console.error("Error getting teacher statistics:",e),e}},aE=()=>{const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(!1),[o,s]=(0,i.useState)(null),[a,l]=(0,i.useState)({totalTeachers:0,totalDepartments:0}),u=(0,i.useCallback)(async e=>{r(!0),s(null);try{return await e()}catch(t){return console.error("Database operation error:",t),s(t.message||"An error occurred"),null}finally{r(!1)}},[]),c=(0,i.useCallback)(async()=>{const e=await u(iE);e&&t(e)},[u]),h=(0,i.useCallback)(async e=>{const t=await u(()=>rE(e));return t&&await c(),t},[u,c]),d=(0,i.useCallback)(async(e,t)=>{const n=await u(()=>oE(e,t));return n&&await c(),n},[u,c]),f=(0,i.useCallback)(async e=>{const n=await u(()=>(async e=>{try{const t=ay(_g(nE,"attendance"),uy("teacherId","==",e)),n=(await Sy(t)).docs.map(e=>Cy(e.ref));return await Promise.all(n),await Cy(Tg(nE,"teachers",e)),!0}catch(o){throw console.error("Error deleting teacher:",o),o}})(e));return n&&t(t=>t.filter(t=>t.id!==e)),n},[u]),p=(0,i.useCallback)(async e=>{if(!e.trim())return void await c();const n=await u(()=>(async e=>{try{const t=ay(_g(nE,"teachers"),uy("fullname",">=",e),uy("fullname","<=",e+"\uf8ff"),dy("fullname","asc"));return(await Sy(t)).docs.map(e=>Ve({id:e.id},e.data()))}catch(o){throw console.error("Error searching teachers:",o),o}})(e));n&&t(n)},[u,c]),m=(0,i.useCallback)(async()=>{const e=await u(sE);e&&l(e)},[u]);return(0,i.useEffect)(()=>{c(),m()},[c,m]),{teachers:e,loading:n,error:o,stats:a,fetchTeachers:c,addTeacher:h,updateTeacher:d,deleteTeacher:f,searchTeachers:p,fetchTeacherStats:m}};function lE(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function uE(e){lE(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===Me(e)&&"[object Date]"===t?new Date(e.getTime()):"number"===typeof e||"[object Number]"===t?new Date(e):("string"!==typeof e&&"[object String]"!==t||"undefined"===typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function cE(e){if(lE(1,arguments),!function(e){return lE(1,arguments),e instanceof Date||"object"===Me(e)&&"[object Date]"===Object.prototype.toString.call(e)}(e)&&"number"!==typeof e)return!1;var t=uE(e);return!isNaN(Number(t))}function hE(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function dE(e,t){return lE(2,arguments),function(e,t){lE(2,arguments);var n=uE(e).getTime(),r=hE(t);return new Date(n+r)}(e,-hE(t))}function fE(e){lE(1,arguments);var t=uE(e),n=t.getUTCDay(),r=(n<1?7:0)+n-1;return t.setUTCDate(t.getUTCDate()-r),t.setUTCHours(0,0,0,0),t}function pE(e){lE(1,arguments);var t=uE(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=fE(r),o=new Date(0);o.setUTCFullYear(n,0,4),o.setUTCHours(0,0,0,0);var s=fE(o);return t.getTime()>=i.getTime()?n+1:t.getTime()>=s.getTime()?n:n-1}function mE(e){lE(1,arguments);var t=uE(e),n=fE(t).getTime()-function(e){lE(1,arguments);var t=pE(e),n=new Date(0);return n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0),fE(n)}(t).getTime();return Math.round(n/6048e5)+1}var gE={};function yE(){return gE}function vE(e,t){var n,r,i,o,s,a,l,u;lE(1,arguments);var c=yE(),h=hE(null!==(n=null!==(r=null!==(i=null!==(o=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==o?o:null===t||void 0===t||null===(s=t.locale)||void 0===s||null===(a=s.options)||void 0===a?void 0:a.weekStartsOn)&&void 0!==i?i:c.weekStartsOn)&&void 0!==r?r:null===(l=c.locale)||void 0===l||null===(u=l.options)||void 0===u?void 0:u.weekStartsOn)&&void 0!==n?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var d=uE(e),f=d.getUTCDay(),p=(f<h?7:0)+f-h;return d.setUTCDate(d.getUTCDate()-p),d.setUTCHours(0,0,0,0),d}function wE(e,t){var n,r,i,o,s,a,l,u;lE(1,arguments);var c=uE(e),h=c.getUTCFullYear(),d=yE(),f=hE(null!==(n=null!==(r=null!==(i=null!==(o=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==o?o:null===t||void 0===t||null===(s=t.locale)||void 0===s||null===(a=s.options)||void 0===a?void 0:a.firstWeekContainsDate)&&void 0!==i?i:d.firstWeekContainsDate)&&void 0!==r?r:null===(l=d.locale)||void 0===l||null===(u=l.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==n?n:1);if(!(f>=1&&f<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=new Date(0);p.setUTCFullYear(h+1,0,f),p.setUTCHours(0,0,0,0);var m=vE(p,t),g=new Date(0);g.setUTCFullYear(h,0,f),g.setUTCHours(0,0,0,0);var y=vE(g,t);return c.getTime()>=m.getTime()?h+1:c.getTime()>=y.getTime()?h:h-1}function bE(e,t){lE(1,arguments);var n=uE(e),r=vE(n,t).getTime()-function(e,t){var n,r,i,o,s,a,l,u;lE(1,arguments);var c=yE(),h=hE(null!==(n=null!==(r=null!==(i=null!==(o=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==o?o:null===t||void 0===t||null===(s=t.locale)||void 0===s||null===(a=s.options)||void 0===a?void 0:a.firstWeekContainsDate)&&void 0!==i?i:c.firstWeekContainsDate)&&void 0!==r?r:null===(l=c.locale)||void 0===l||null===(u=l.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==n?n:1),d=wE(e,t),f=new Date(0);return f.setUTCFullYear(d,0,h),f.setUTCHours(0,0,0,0),vE(f,t)}(n,t).getTime();return Math.round(r/6048e5)+1}function EE(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}const kE={y:function(e,t){var n=e.getUTCFullYear(),r=n>0?n:1-n;return EE("yy"===t?r%100:r,t.length)},M:function(e,t){var n=e.getUTCMonth();return"M"===t?String(n+1):EE(n+1,2)},d:function(e,t){return EE(e.getUTCDate(),t.length)},a:function(e,t){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:function(e,t){return EE(e.getUTCHours()%12||12,t.length)},H:function(e,t){return EE(e.getUTCHours(),t.length)},m:function(e,t){return EE(e.getUTCMinutes(),t.length)},s:function(e,t){return EE(e.getUTCSeconds(),t.length)},S:function(e,t){var n=t.length,r=e.getUTCMilliseconds();return EE(Math.floor(r*Math.pow(10,n-3)),t.length)}};var _E="midnight",TE="noon",SE="morning",CE="afternoon",IE="evening",xE="night",NE={G:function(e,t,n){var r=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){var r=e.getUTCFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return kE.y(e,t)},Y:function(e,t,n,r){var i=wE(e,r),o=i>0?i:1-i;return"YY"===t?EE(o%100,2):"Yo"===t?n.ordinalNumber(o,{unit:"year"}):EE(o,t.length)},R:function(e,t){return EE(pE(e),t.length)},u:function(e,t){return EE(e.getUTCFullYear(),t.length)},Q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return EE(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return EE(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){var r=e.getUTCMonth();switch(t){case"M":case"MM":return kE.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){var r=e.getUTCMonth();switch(t){case"L":return String(r+1);case"LL":return EE(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){var i=bE(e,r);return"wo"===t?n.ordinalNumber(i,{unit:"week"}):EE(i,t.length)},I:function(e,t,n){var r=mE(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):EE(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):kE.d(e,t)},D:function(e,t,n){var r=function(e){lE(1,arguments);var t=uE(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=n-t.getTime();return Math.floor(r/864e5)+1}(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):EE(r,t.length)},E:function(e,t,n){var r=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){var i=e.getUTCDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return EE(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){var i=e.getUTCDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return EE(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){var r=e.getUTCDay(),i=0===r?7:r;switch(t){case"i":return String(i);case"ii":return EE(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){var r,i=e.getUTCHours();switch(r=12===i?TE:0===i?_E:i/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){var r,i=e.getUTCHours();switch(r=i>=17?IE:i>=12?CE:i>=4?SE:xE,t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){var r=e.getUTCHours()%12;return 0===r&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return kE.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):kE.H(e,t)},K:function(e,t,n){var r=e.getUTCHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):EE(r,t.length)},k:function(e,t,n){var r=e.getUTCHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):EE(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):kE.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):kE.s(e,t)},S:function(e,t){return kE.S(e,t)},X:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();if(0===i)return"Z";switch(t){case"X":return RE(i);case"XXXX":case"XX":return DE(i);default:return DE(i,":")}},x:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"x":return RE(i);case"xxxx":case"xx":return DE(i);default:return DE(i,":")}},O:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+AE(i,":");default:return"GMT"+DE(i,":")}},z:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+AE(i,":");default:return"GMT"+DE(i,":")}},t:function(e,t,n,r){var i=r._originalDate||e;return EE(Math.floor(i.getTime()/1e3),t.length)},T:function(e,t,n,r){return EE((r._originalDate||e).getTime(),t.length)}};function AE(e,t){var n=e>0?"-":"+",r=Math.abs(e),i=Math.floor(r/60),o=r%60;if(0===o)return n+String(i);var s=t||"";return n+String(i)+s+EE(o,2)}function RE(e,t){return e%60===0?(e>0?"-":"+")+EE(Math.abs(e)/60,2):DE(e,t)}function DE(e,t){var n=t||"",r=e>0?"-":"+",i=Math.abs(e);return r+EE(Math.floor(i/60),2)+n+EE(i%60,2)}const PE=NE;var OE=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},LE=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},ME={p:LE,P:function(e,t){var n,r=e.match(/(P+)(p+)?/)||[],i=r[1],o=r[2];if(!o)return OE(e,t);switch(i){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",OE(i,t)).replace("{{time}}",LE(o,t))}};const FE=ME;var UE=["D","DD"],jE=["YY","YYYY"];function VE(e,t,n){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===e)throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===e)throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===e)throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var zE={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};const BE=function(e,t,n){var r,i=zE[e];return r="string"===typeof i?i:1===t?i.one:i.other.replace("{{count}}",t.toString()),null!==n&&void 0!==n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function qE(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}var WE={date:qE({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:qE({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:qE({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})};var HE={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function KE(e){return function(t,n){var r;if("formatting"===(null!==n&&void 0!==n&&n.context?String(n.context):"standalone")&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,o=null!==n&&void 0!==n&&n.width?String(n.width):i;r=e.formattingValues[o]||e.formattingValues[i]}else{var s=e.defaultWidth,a=null!==n&&void 0!==n&&n.width?String(n.width):e.defaultWidth;r=e.values[a]||e.values[s]}return r[e.argumentCallback?e.argumentCallback(t):t]}}function GE(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;var s,a=o[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(l)?function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n;return}(l,function(e){return e.test(a)}):function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n;return}(l,function(e){return e.test(a)});return s=e.valueCallback?e.valueCallback(u):u,{value:s=n.valueCallback?n.valueCallback(s):s,rest:t.slice(a.length)}}}var QE;const YE={code:"en-US",formatDistance:BE,formatLong:WE,formatRelative:function(e,t,n,r){return HE[e]},localize:{ordinalNumber:function(e,t){var n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:KE({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:KE({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:KE({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:KE({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:KE({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(QE={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.match(QE.matchPattern);if(!n)return null;var r=n[0],i=e.match(QE.parsePattern);if(!i)return null;var o=QE.valueCallback?QE.valueCallback(i[0]):i[0];return{value:o=t.valueCallback?t.valueCallback(o):o,rest:e.slice(r.length)}}),era:GE({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:GE({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:GE({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:GE({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:GE({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};var XE=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,$E=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,JE=/^'([^]*?)'?$/,ZE=/''/g,ek=/[a-zA-Z]/;function tk(e,t,n){var r,i,o,s,a,l,u,c,h,d,f,p,m,g,y,v,w,b;lE(2,arguments);var E=String(t),k=yE(),_=null!==(r=null!==(i=null===n||void 0===n?void 0:n.locale)&&void 0!==i?i:k.locale)&&void 0!==r?r:YE,T=hE(null!==(o=null!==(s=null!==(a=null!==(l=null===n||void 0===n?void 0:n.firstWeekContainsDate)&&void 0!==l?l:null===n||void 0===n||null===(u=n.locale)||void 0===u||null===(c=u.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==a?a:k.firstWeekContainsDate)&&void 0!==s?s:null===(h=k.locale)||void 0===h||null===(d=h.options)||void 0===d?void 0:d.firstWeekContainsDate)&&void 0!==o?o:1);if(!(T>=1&&T<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var S=hE(null!==(f=null!==(p=null!==(m=null!==(g=null===n||void 0===n?void 0:n.weekStartsOn)&&void 0!==g?g:null===n||void 0===n||null===(y=n.locale)||void 0===y||null===(v=y.options)||void 0===v?void 0:v.weekStartsOn)&&void 0!==m?m:k.weekStartsOn)&&void 0!==p?p:null===(w=k.locale)||void 0===w||null===(b=w.options)||void 0===b?void 0:b.weekStartsOn)&&void 0!==f?f:0);if(!(S>=0&&S<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!_.localize)throw new RangeError("locale must contain localize property");if(!_.formatLong)throw new RangeError("locale must contain formatLong property");var C=uE(e);if(!cE(C))throw new RangeError("Invalid time value");var I=function(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}(C),x=dE(C,I),N={firstWeekContainsDate:T,weekStartsOn:S,locale:_,_originalDate:C};return E.match($E).map(function(e){var t=e[0];return"p"===t||"P"===t?(0,FE[t])(e,_.formatLong):e}).join("").match(XE).map(function(r){if("''"===r)return"'";var i=r[0];if("'"===i)return function(e){var t=e.match(JE);if(!t)return e;return t[1].replace(ZE,"'")}(r);var o,s=PE[i];if(s)return null!==n&&void 0!==n&&n.useAdditionalWeekYearTokens||(o=r,-1===jE.indexOf(o))||VE(r,t,String(e)),null!==n&&void 0!==n&&n.useAdditionalDayOfYearTokens||!function(e){return-1!==UE.indexOf(e)}(r)||VE(r,t,String(e)),s(x,r,_.localize,N);if(i.match(ek))throw new RangeError("Format string contains an unescaped latin alphabet character `"+i+"`");return r}).join("")}const nk={container:{maxWidth:"1200px",margin:"0 auto"},welcomeSection:Ve({display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:2*Mn,padding:Mn,backgroundColor:Dn,borderRadius:zn},Yn),welcomeTitle:{fontSize:Bn,fontWeight:Qn,color:An,margin:0,marginBottom:jn,fontFamily:Kn},welcomeSubtitle:{fontSize:Wn,color:Rn,margin:0,marginBottom:jn,fontFamily:Kn},welcomeTime:{fontSize:Hn,color:_n,margin:0,fontFamily:Kn,fontWeight:Gn},notificationButton:Ve(Ve({backgroundColor:Dn,width:"44px",height:"44px",borderRadius:"22px",display:"flex",justifyContent:"center",alignItems:"center"},Yn),{},{border:"1px solid ".concat(Ln)}),statsContainer:{marginBottom:2*Mn},sectionTitle:{fontSize:qn,fontWeight:Qn,color:Sn,marginBottom:Fn,fontFamily:Kn},statsGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:Fn},statCard:Ve({backgroundColor:Dn,borderRadius:zn,padding:Mn,display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",borderLeft:"4px solid"},Yn),statValue:{fontSize:Bn,fontWeight:Qn,margin:"".concat(jn,"px 0"),color:An,fontFamily:Kn},statLabel:{fontSize:Wn,color:Rn,margin:0,marginBottom:jn,fontFamily:Kn,fontWeight:Gn},statSubtext:{fontSize:Hn,color:Rn,margin:0,fontFamily:Kn},quickActionsContainer:{marginBottom:2*Mn},quickActionsGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:Fn},quickActionCard:Ve(Ve({backgroundColor:Dn,borderRadius:zn,padding:Mn,textAlign:"center"},Yn),{},{transition:"transform 0.2s ease",cursor:"pointer"}),actionIcon:{width:"48px",height:"48px",borderRadius:"24px",display:"flex",justifyContent:"center",alignItems:"center",margin:"0 auto",marginBottom:Fn},actionTitle:{fontSize:Wn,fontWeight:Qn,color:An,margin:0,marginBottom:jn,fontFamily:Kn},actionDescription:{fontSize:Hn,color:Rn,margin:0,fontFamily:Kn},recentActivityContainer:{marginBottom:2*Mn},activityList:Ve({backgroundColor:Dn,borderRadius:zn},Yn),activityItem:{display:"flex",alignItems:"center",padding:Mn,borderBottom:"1px solid ".concat(Ln)},activityIcon:{width:"32px",height:"32px",borderRadius:"16px",backgroundColor:On,display:"flex",justifyContent:"center",alignItems:"center",marginRight:Fn},activityContent:{flex:1},activityText:{fontSize:Hn,color:An,margin:0,marginBottom:jn,fontFamily:Kn,fontWeight:Gn},activityTime:{fontSize:Hn,color:Rn,margin:0,fontFamily:Kn}},rk=()=>{const{stats:e}=aE(),[t,n]=(0,i.useState)(new Date);(0,i.useEffect)(()=>{const e=setInterval(()=>{n(new Date)},6e4);return()=>clearInterval(e)},[]);const r=[{icon:En,value:(null===e||void 0===e?void 0:e.totalTeachers)||0,label:"Teachers",subtext:"Active staff",color:_n,borderColor:_n},{icon:hn,value:"92%",label:"Attendance",subtext:"This week",color:Cn,borderColor:Cn},{icon:cn,value:(null===e||void 0===e?void 0:e.totalDepartments)||0,label:"Classes",subtext:"Active classes",color:Nn,borderColor:Nn},{icon:fn,value:"GH\u20b52.4K",label:"Allowance",subtext:"This month",color:In,borderColor:In}],o=[{icon:En,label:"Add Teacher",description:"Register new teacher",color:_n},{icon:hn,label:"Mark Attendance",description:"Record daily attendance",color:Cn},{icon:fn,label:"Calculate Allowance",description:"Weekly allowance calculation",color:In},{icon:dn,label:"Canteen Payment",description:"Record canteen payments",color:Nn}];return(0,Jn.jsxs)("div",{style:nk.container,children:[(0,Jn.jsxs)("div",{style:nk.welcomeSection,children:[(0,Jn.jsxs)("div",{children:[(0,Jn.jsx)("h1",{style:nk.welcomeTitle,children:"Welcome Back!"}),(0,Jn.jsx)("p",{style:nk.welcomeSubtitle,children:(s=t,tk(s,"EEEE, MMMM do, yyyy"))}),(0,Jn.jsx)("p",{style:nk.welcomeTime,children:(e=>tk(e,"h:mm a"))(t)})]}),(0,Jn.jsx)("div",{style:nk.notificationButton,children:(0,Jn.jsx)(bn,{size:24,color:_n})})]}),(0,Jn.jsxs)("div",{style:nk.statsContainer,children:[(0,Jn.jsx)("h2",{style:nk.sectionTitle,children:"Overview"}),(0,Jn.jsx)("div",{style:nk.statsGrid,children:r.map((e,t)=>(0,Jn.jsxs)("div",{style:Ve(Ve({},nk.statCard),{},{borderLeftColor:e.borderColor}),children:[(0,Jn.jsx)(e.icon,{size:28,color:e.color}),(0,Jn.jsx)("h3",{style:nk.statValue,children:e.value}),(0,Jn.jsx)("p",{style:nk.statLabel,children:e.label}),(0,Jn.jsx)("p",{style:nk.statSubtext,children:e.subtext})]},t))})]}),(0,Jn.jsxs)("div",{style:nk.quickActionsContainer,children:[(0,Jn.jsx)("h2",{style:nk.sectionTitle,children:"Quick Actions"}),(0,Jn.jsx)("div",{style:nk.quickActionsGrid,children:o.map((e,t)=>(0,Jn.jsxs)("div",{style:nk.quickActionCard,children:[(0,Jn.jsx)("div",{style:Ve(Ve({},nk.actionIcon),{},{backgroundColor:e.color}),children:(0,Jn.jsx)(e.icon,{size:24,color:Dn})}),(0,Jn.jsx)("h3",{style:nk.actionTitle,children:e.label}),(0,Jn.jsx)("p",{style:nk.actionDescription,children:e.description})]},t))})]}),(0,Jn.jsxs)("div",{style:nk.recentActivityContainer,children:[(0,Jn.jsx)("h2",{style:nk.sectionTitle,children:"Recent Activity"}),(0,Jn.jsxs)("div",{style:nk.activityList,children:[(0,Jn.jsxs)("div",{style:nk.activityItem,children:[(0,Jn.jsx)("div",{style:nk.activityIcon,children:(0,Jn.jsx)(En,{size:16,color:_n})}),(0,Jn.jsxs)("div",{style:nk.activityContent,children:[(0,Jn.jsx)("p",{style:nk.activityText,children:"New teacher registered: John Doe"}),(0,Jn.jsx)("p",{style:nk.activityTime,children:"2 hours ago"})]})]}),(0,Jn.jsxs)("div",{style:nk.activityItem,children:[(0,Jn.jsx)("div",{style:nk.activityIcon,children:(0,Jn.jsx)(hn,{size:16,color:Cn})}),(0,Jn.jsxs)("div",{style:nk.activityContent,children:[(0,Jn.jsx)("p",{style:nk.activityText,children:"Attendance marked for today"}),(0,Jn.jsx)("p",{style:nk.activityTime,children:"4 hours ago"})]})]}),(0,Jn.jsxs)("div",{style:nk.activityItem,children:[(0,Jn.jsx)("div",{style:nk.activityIcon,children:(0,Jn.jsx)(fn,{size:16,color:In})}),(0,Jn.jsxs)("div",{style:nk.activityContent,children:[(0,Jn.jsx)("p",{style:nk.activityText,children:"Allowance calculated for Week 3"}),(0,Jn.jsx)("p",{style:nk.activityTime,children:"1 day ago"})]})]})]})]})]});var s},ik={container:{maxWidth:"1200px",margin:"0 auto"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:2*Mn},title:{fontSize:Bn,fontWeight:Qn,color:An,margin:0,fontFamily:Kn},addButton:{display:"flex",alignItems:"center",gap:jn,backgroundColor:_n,color:Dn,border:"none",borderRadius:Vn,padding:"".concat(Un,"px ").concat(Mn,"px"),fontSize:Hn,fontWeight:Gn,cursor:"pointer",fontFamily:Kn,transition:"background-color 0.2s ease"},searchContainer:{marginBottom:2*Mn},searchInput:Ve({display:"flex",alignItems:"center",backgroundColor:Dn,borderRadius:Vn,padding:"".concat(Un,"px ").concat(Mn,"px"),border:"1px solid ".concat(Ln)},Yn),input:{flex:1,border:"none",outline:"none",fontSize:Hn,fontFamily:Kn,marginLeft:jn},modalOverlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},modal:Ve({backgroundColor:Dn,borderRadius:zn,padding:2*Mn,width:"90%",maxWidth:"500px",maxHeight:"80vh",overflow:"auto"},$n),modalHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:2*Mn,paddingBottom:Mn,borderBottom:"1px solid ".concat(Ln)},modalTitle:{fontSize:qn,fontWeight:Qn,color:An,margin:0,fontFamily:Kn},closeButton:{background:"none",border:"none",cursor:"pointer",color:Pn},form:{display:"flex",flexDirection:"column",gap:Mn},formGroup:{display:"flex",flexDirection:"column",gap:jn},label:{fontSize:Hn,fontWeight:Gn,color:An,fontFamily:Kn},select:{padding:"".concat(Un,"px ").concat(Mn,"px"),border:"1px solid ".concat(Ln),borderRadius:Vn,fontSize:Hn,fontFamily:Kn,backgroundColor:Dn},formActions:{display:"flex",gap:Fn,marginTop:Mn},cancelButton:{flex:1,padding:"".concat(Un,"px ").concat(Mn,"px"),border:"1px solid ".concat(Ln),borderRadius:Vn,backgroundColor:Dn,color:An,fontSize:Hn,fontWeight:Gn,cursor:"pointer",fontFamily:Kn},submitButton:{flex:1,padding:"".concat(Un,"px ").concat(Mn,"px"),border:"none",borderRadius:Vn,backgroundColor:_n,color:Dn,fontSize:Hn,fontWeight:Gn,cursor:"pointer",fontFamily:Kn},teachersList:{marginTop:2*Mn},loading:{textAlign:"center",padding:2*Mn,color:Rn,fontFamily:Kn},error:{textAlign:"center",padding:2*Mn,color:xn,fontFamily:Kn},empty:{textAlign:"center",padding:2*Mn,color:Rn,fontFamily:Kn},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:Fn},teacherCard:Ve(Ve({backgroundColor:Dn,borderRadius:zn,padding:Mn,display:"flex",justifyContent:"space-between",alignItems:"center"},Yn),{},{border:"1px solid ".concat(Ln)}),teacherInfo:{flex:1},teacherName:{fontSize:Wn,fontWeight:Qn,color:An,margin:0,marginBottom:jn,fontFamily:Kn},teacherDepartment:{fontSize:Hn,color:Rn,margin:0,fontFamily:Kn},teacherActions:{display:"flex",gap:jn},actionButton:{width:"36px",height:"36px",border:"none",borderRadius:Vn,backgroundColor:On,color:An,cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center",transition:"background-color 0.2s ease"},deleteButton:{backgroundColor:xn,color:Dn}},ok=()=>{const{teachers:e,loading:t,error:n,addTeacher:r,updateTeacher:o,deleteTeacher:s,searchTeachers:a}=aE(),[l,u]=(0,i.useState)(!1),[c,h]=(0,i.useState)(null),[d,f]=(0,i.useState)(""),[p,m]=(0,i.useState)({fullname:"",department:""}),g=()=>{u(!1),h(null),m({fullname:"",department:""})};return(0,Jn.jsxs)("div",{style:ik.container,children:[(0,Jn.jsxs)("div",{style:ik.header,children:[(0,Jn.jsx)("h1",{style:ik.title,children:"Teachers Management"}),(0,Jn.jsxs)("button",{style:ik.addButton,onClick:()=>u(!0),children:[(0,Jn.jsx)(gn,{size:20}),"Add Teacher"]})]}),(0,Jn.jsx)("div",{style:ik.searchContainer,children:(0,Jn.jsxs)("div",{style:ik.searchInput,children:[(0,Jn.jsx)(yn,{size:20,color:Pn}),(0,Jn.jsx)("input",{type:"text",placeholder:"Search teachers...",value:d,onChange:e=>{const t=e.target.value;f(t),a(t)},style:ik.input})]})}),l&&(0,Jn.jsx)("div",{style:ik.modalOverlay,children:(0,Jn.jsxs)("div",{style:ik.modal,children:[(0,Jn.jsxs)("div",{style:ik.modalHeader,children:[(0,Jn.jsx)("h2",{style:ik.modalTitle,children:c?"Edit Teacher":"Add New Teacher"}),(0,Jn.jsx)("button",{style:ik.closeButton,onClick:g,children:(0,Jn.jsx)(kn,{size:24})})]}),(0,Jn.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),p.fullname.trim()&&p.department.trim())try{c?(await o(c.id,p),tn.success("Teacher updated successfully")):(await r(p),tn.success("Teacher added successfully")),u(!1),h(null),m({fullname:"",department:""})}catch(n){tn.error(n.message||"An error occurred")}else tn.error("Please fill in all required fields")},style:ik.form,children:[(0,Jn.jsxs)("div",{style:ik.formGroup,children:[(0,Jn.jsx)("label",{style:ik.label,children:"Full Name *"}),(0,Jn.jsx)("input",{type:"text",value:p.fullname,onChange:e=>m(Ve(Ve({},p),{},{fullname:e.target.value})),style:ik.input,placeholder:"Enter teacher's full name",required:!0})]}),(0,Jn.jsxs)("div",{style:ik.formGroup,children:[(0,Jn.jsx)("label",{style:ik.label,children:"Department *"}),(0,Jn.jsxs)("select",{value:p.department,onChange:e=>m(Ve(Ve({},p),{},{department:e.target.value})),style:ik.select,required:!0,children:[(0,Jn.jsx)("option",{value:"",children:"Select Department"}),["Creche","Nursery","Kindergarten","Basic 1","Basic 2","Basic 3","Basic 4","Basic 5","Basic 6","Basic 7","Basic 8","Basic 9"].map(e=>(0,Jn.jsx)("option",{value:e,children:e},e))]})]}),(0,Jn.jsxs)("div",{style:ik.formActions,children:[(0,Jn.jsx)("button",{type:"button",style:ik.cancelButton,onClick:g,children:"Cancel"}),(0,Jn.jsx)("button",{type:"submit",style:ik.submitButton,children:c?"Update":"Add Teacher"})]})]})]})}),(0,Jn.jsx)("div",{style:ik.teachersList,children:t?(0,Jn.jsx)("div",{style:ik.loading,children:"Loading teachers..."}):n?(0,Jn.jsxs)("div",{style:ik.error,children:["Error: ",n]}):0===e.length?(0,Jn.jsxs)("div",{style:ik.empty,children:[(0,Jn.jsx)("p",{children:"No teachers found"}),(0,Jn.jsx)("button",{style:ik.addButton,onClick:()=>u(!0),children:"Add your first teacher"})]}):(0,Jn.jsx)("div",{style:ik.grid,children:e.map(e=>(0,Jn.jsxs)("div",{style:ik.teacherCard,children:[(0,Jn.jsxs)("div",{style:ik.teacherInfo,children:[(0,Jn.jsx)("h3",{style:ik.teacherName,children:e.fullname}),(0,Jn.jsx)("p",{style:ik.teacherDepartment,children:e.department})]}),(0,Jn.jsxs)("div",{style:ik.teacherActions,children:[(0,Jn.jsx)("button",{style:ik.actionButton,onClick:()=>(e=>{h(e),m({fullname:e.fullname,department:e.department}),u(!0)})(e),children:(0,Jn.jsx)(pn,{size:16})}),(0,Jn.jsx)("button",{style:Ve(Ve({},ik.actionButton),ik.deleteButton),onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete ".concat(e.fullname,"?")))try{await s(e.id),tn.success("Teacher deleted successfully")}catch(n){tn.error(n.message||"An error occurred")}})(e),children:(0,Jn.jsx)(wn,{size:16})})]})]},e.id))})})]})},sk=()=>(0,Jn.jsxs)("div",{style:{padding:"20px",textAlign:"center"},children:[(0,Jn.jsx)("h1",{children:"Attendance Management"}),(0,Jn.jsx)("p",{children:"Coming soon..."})]}),ak=()=>(0,Jn.jsxs)("div",{style:{padding:"20px",textAlign:"center"},children:[(0,Jn.jsx)("h1",{children:"Allowance Management"}),(0,Jn.jsx)("p",{children:"Coming soon..."})]}),lk=()=>(0,Jn.jsxs)("div",{style:{padding:"20px",textAlign:"center"},children:[(0,Jn.jsx)("h1",{children:"Students Management"}),(0,Jn.jsx)("p",{children:"Coming soon..."})]}),uk=()=>(0,Jn.jsxs)("div",{style:{padding:"20px",textAlign:"center"},children:[(0,Jn.jsx)("h1",{children:"Canteen Management"}),(0,Jn.jsx)("p",{children:"Coming soon..."})]}),ck=()=>(0,Jn.jsxs)("div",{style:{padding:"20px",textAlign:"center"},children:[(0,Jn.jsx)("h1",{children:"Settings"}),(0,Jn.jsx)("p",{children:"Coming soon..."})]});const hk=function(){return(0,Jn.jsx)(Ie,{children:(0,Jn.jsxs)("div",{className:"App",children:[(0,Jn.jsx)(nr,{children:(0,Jn.jsxs)(we,{children:[(0,Jn.jsx)(ye,{path:"/",element:(0,Jn.jsx)(rk,{})}),(0,Jn.jsx)(ye,{path:"/teachers",element:(0,Jn.jsx)(ok,{})}),(0,Jn.jsx)(ye,{path:"/attendance",element:(0,Jn.jsx)(sk,{})}),(0,Jn.jsx)(ye,{path:"/allowance",element:(0,Jn.jsx)(ak,{})}),(0,Jn.jsx)(ye,{path:"/students",element:(0,Jn.jsx)(lk,{})}),(0,Jn.jsx)(ye,{path:"/canteen",element:(0,Jn.jsx)(uk,{})}),(0,Jn.jsx)(ye,{path:"/settings",element:(0,Jn.jsx)(ck,{})})]})}),(0,Jn.jsx)(en,{position:"top-right",toastOptions:{duration:4e3,style:{background:Dn,color:An,border:"1px solid ".concat(Ln)},success:{iconTheme:{primary:Cn,secondary:Dn}},error:{iconTheme:{primary:xn,secondary:Dn}}}})]})})};s.createRoot(document.getElementById("root")).render((0,Jn.jsx)(i.StrictMode,{children:(0,Jn.jsx)(hk,{})}))})();
//# sourceMappingURL=main.f8bd4cce.js.map