/*! For license information please see main.05532348.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},153:(e,t,n)=>{var r=n(43),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var w=b.prototype=new v;w.constructor=b,m(w,y.prototype),w.isPureReactComponent=!0;var k=Array.isArray,E=Object.prototype.hasOwnProperty,T={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,r){var i,a={},s=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(s=""+t.key),t)E.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var l=arguments.length-2;if(1===l)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===a[i]&&(a[i]=l[i]);return{$$typeof:n,type:e,key:s,ref:o,props:a,_owner:T.current}}function x(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function N(e,t,i,a,s){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return s=s(l=e),e=""===a?"."+I(l,0):a,k(s)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),N(s,t,i,"",function(e){return e})):null!=s&&(x(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,i+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(C,"$&/")+"/")+e)),t.push(s)),1;if(l=0,a=""===a?".":a+":",k(e))for(var c=0;c<e.length;c++){var u=a+I(o=e[c],c);l+=N(o,t,i,u,s)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=N(o=o.value,t,i,u=a+I(o,c++),s);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",function(e){return t.call(n,e,i++)}),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},O={transition:null},P={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:O,ReactCurrentOwner:T};function L(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:A,forEach:function(e,t,n){A(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return A(e,function(){t++}),t},toArray:function(e){return A(e,function(e){return e})||[]},only:function(e){if(!x(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=s,t.PureComponent=b,t.StrictMode=a,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.act=L,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),a=e.key,s=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,o=T.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)E.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:a,ref:s,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=x,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=L,t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>a(l,n))c<i&&0>a(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<i&&0>a(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function k(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,O(E);else{var t=r(u);null!==t&&P(k,t.startTime-e)}}function E(e,n){m=!1,g&&(g=!1,v(x),x=-1),p=!0;var a=f;try{for(w(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!N());){var s=d.callback;if("function"===typeof s){d.callback=null,f=d.priorityLevel;var o=s(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?d.callback=o:d===r(c)&&i(c),w(n)}else i(c);d=r(c)}if(null!==d)var l=!0;else{var h=r(u);null!==h&&P(k,h.startTime-n),l=!1}return l}finally{d=null,f=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var T,S=!1,_=null,x=-1,C=5,I=-1;function N(){return!(t.unstable_now()-I<C)}function A(){if(null!==_){var e=t.unstable_now();I=e;var n=!0;try{n=_(!0,e)}finally{n?T():(S=!1,_=null)}}else S=!1}if("function"===typeof b)T=function(){b(A)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,D=R.port2;R.port1.onmessage=A,T=function(){D.postMessage(null)}}else T=function(){y(A,0)};function O(e){_=e,S||(S=!0,T())}function P(e,n){x=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,O(E))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,a){var s=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:a,expirationTime:o=a+o,sortIndex:-1},a>s?(e.sortIndex=a,n(u,e),null===r(c)&&e===r(u)&&(g?(v(x),x=-1):g=!0,P(k,a-s))):(e.sortIndex=o,n(c,e),m||p||(m=!0,O(E))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},579:(e,t,n)=>{e.exports=n(153)},730:(e,t,n)=>{var r=n(43),i=n(853);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)s.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,a,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),E=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),C=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var P=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var M,j=Object.assign;function F(e){if(void 0===M)try{throw Error()}catch(Qe){var t=Qe.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(We){var r=We}Reflect.construct(e,[],t)}else{try{t.call()}catch(We){r=We}e.call(t.prototype)}else{try{throw Error()}catch(We){r=We}e()}}catch(We){if(We&&r&&"string"===typeof We.stack){for(var i=We.stack.split("\n"),a=r.stack.split("\n"),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(1!==s||1!==o)do{if(s--,0>--o||i[s]!==a[o]){var l="\n"+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=o);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function z(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case T:return"Fragment";case E:return"Portal";case _:return"Profiler";case S:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case x:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return B(e(t))}catch(Qe){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function $(e,t){X(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n)})}:e}(function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function pe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=pe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach(function(e){fe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]})});var ge=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ve(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,Ee=null,Te=null;function Se(e){if(e=Ii(e)){if("function"!==typeof ke)throw Error(a(280));var t=e.stateNode;t&&(t=Ai(t),ke(e.stateNode,e.type,t))}}function _e(e){Ee?Te?Te.push(e):Te=[e]:Ee=e}function xe(){if(Ee){var e=Ee,t=Te;if(Te=Ee=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ce(e,t){return e(t)}function Ie(){}var Ne=!1;function Ae(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Ce(e,t,n)}finally{Ne=!1,(null!==Ee||null!==Te)&&(Ie(),xe())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=Ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var De=!1;if(u)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){De=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(qe){De=!1}function Pe(e,t,n,r,i,a,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Le=!1,Me=null,je=!1,Fe=null,Ue={onError:function(e){Le=!0,Me=e}};function Ve(e,t,n,r,i,a,s,o,l){Le=!1,Me=null,Pe.apply(Ue,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ge(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ke(e){if(ze(e)!==e)throw Error(a(188))}function Ye(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Ke(i),e;if(s===r)return Ke(i),t;s=s.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e),null!==e?Je(e):null}function Je(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Je(e);if(null!==t)return t;e=e.sibling}return null}var Xe=i.unstable_scheduleCallback,et=i.unstable_cancelCallback,nt=i.unstable_shouldYield,rt=i.unstable_requestPaint,it=i.unstable_now,at=i.unstable_getCurrentPriorityLevel,st=i.unstable_ImmediatePriority,ot=i.unstable_UserBlockingPriority,lt=i.unstable_NormalPriority,ct=i.unstable_LowPriority,ut=i.unstable_IdlePriority,ht=null,dt=null;var ft=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(pt(e)/mt|0)|0},pt=Math.log,mt=Math.LN2;var gt=64,yt=4194304;function vt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function bt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,s=268435455&n;if(0!==s){var o=s&~i;0!==o?r=vt(o):0!==(a&=s)&&(r=vt(a))}else 0!==(s=n&~i)?r=vt(s):0!==a&&(r=vt(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ft(t)),r|=e[n],t&=~i;return r}function wt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function kt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Tt(){var e=gt;return 0===(4194240&(gt<<=1))&&(gt=64),e}function St(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function _t(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ft(t)]=n}function xt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ft(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Ct=0;function It(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var Nt,At,Rt,Dt,Ot,Pt=!1,Lt=[],Mt=null,jt=null,Ft=null,Vt=new Map,zt=new Map,Bt=[],Ht="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wt(e,t){switch(e){case"focusin":case"focusout":Mt=null;break;case"dragenter":case"dragleave":jt=null;break;case"mouseover":case"mouseout":Ft=null;break;case"pointerover":case"pointerout":Vt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":zt.delete(t.pointerId)}}function qt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=Ii(t))&&At(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Gt(e){var t=Ci(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ge(n)))return e.blockedOn=t,void Ot(e.priority,function(){Rt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Kt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=an(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Ii(n))&&At(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Qt(e,t,n){Kt(e)&&n.delete(t)}function Yt(){Pt=!1,null!==Mt&&Kt(Mt)&&(Mt=null),null!==jt&&Kt(jt)&&(jt=null),null!==Ft&&Kt(Ft)&&(Ft=null),Vt.forEach(Qt),zt.forEach(Qt)}function Jt(e,t){e.blockedOn===t&&(e.blockedOn=null,Pt||(Pt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Yt)))}function Xt(e){function t(t){return Jt(t,e)}if(0<Lt.length){Jt(Lt[0],e);for(var n=1;n<Lt.length;n++){var r=Lt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Mt&&Jt(Mt,e),null!==jt&&Jt(jt,e),null!==Ft&&Jt(Ft,e),Vt.forEach(t),zt.forEach(t),n=0;n<Bt.length;n++)(r=Bt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Bt.length&&null===(n=Bt[0]).blockedOn;)Gt(n),null===n.blockedOn&&Bt.shift()}var $t=w.ReactCurrentBatchConfig,Zt=!0;function en(e,t,n,r){var i=Ct,a=$t.transition;$t.transition=null;try{Ct=1,nn(e,t,n,r)}finally{Ct=i,$t.transition=a}}function tn(e,t,n,r){var i=Ct,a=$t.transition;$t.transition=null;try{Ct=4,nn(e,t,n,r)}finally{Ct=i,$t.transition=a}}function nn(e,t,n,r){if(Zt){var i=an(e,t,n,r);if(null===i)Zr(e,t,r,rn,n),Wt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Mt=qt(Mt,e,t,n,r,i),!0;case"dragenter":return jt=qt(jt,e,t,n,r,i),!0;case"mouseover":return Ft=qt(Ft,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Vt.set(a,qt(Vt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,zt.set(a,qt(zt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Wt(e,r),4&t&&-1<Ht.indexOf(e)){for(;null!==i;){var a=Ii(i);if(null!==a&&Nt(a),null===(a=an(e,t,n,r))&&Zr(e,t,r,rn,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Zr(e,t,r,null,n)}}var rn=null;function an(e,t,n,r){if(rn=null,null!==(e=Ci(e=we(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ge(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return rn=e,null}function sn(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(at()){case st:return 1;case ot:return 4;case lt:case ct:return 16;case ut:return 536870912;default:return 16}default:return 16}}var on=null,ln=null,cn=null;function un(){if(cn)return cn;var e,t,n=ln,r=n.length,i="value"in on?on.value:on.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[a-t];t++);return cn=i.slice(e,1<t?1-t:void 0)}function hn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function dn(){return!0}function fn(){return!1}function pn(e){function t(t,n,r,i,a){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?dn:fn,this.isPropagationStopped=fn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=dn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=dn)},persist:function(){},isPersistent:dn}),t}var mn,gn,yn,vn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bn=pn(vn),wn=j({},vn,{view:0,detail:0}),kn=pn(wn),En=j({},wn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yn&&(yn&&"mousemove"===e.type?(mn=e.screenX-yn.screenX,gn=e.screenY-yn.screenY):gn=mn=0,yn=e),mn)},movementY:function(e){return"movementY"in e?e.movementY:gn}}),Tn=pn(En),Sn=pn(j({},En,{dataTransfer:0})),_n=pn(j({},wn,{relatedTarget:0})),xn=pn(j({},vn,{animationName:0,elapsedTime:0,pseudoElement:0})),Cn=j({},vn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),In=pn(Cn),Nn=pn(j({},vn,{data:0})),An={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function On(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Dn[e])&&!!t[e]}function Pn(){return On}var Ln=j({},wn,{key:function(e){if(e.key){var t=An[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=hn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Rn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pn,charCode:function(e){return"keypress"===e.type?hn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?hn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Mn=pn(Ln),jn=pn(j({},En,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Fn=pn(j({},wn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pn})),Un=pn(j({},vn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Vn=j({},En,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),zn=pn(Vn),Bn=[9,13,27,32],Hn=u&&"CompositionEvent"in window,Wn=null;u&&"documentMode"in document&&(Wn=document.documentMode);var qn=u&&"TextEvent"in window&&!Wn,Gn=u&&(!Hn||Wn&&8<Wn&&11>=Wn),Kn=String.fromCharCode(32),Qn=!1;function Yn(e,t){switch(e){case"keyup":return-1!==Bn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Xn=!1;var $n={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!$n[e.type]:"textarea"===t}function er(e,t,n,r){_e(r),0<(t=ti(t,"onChange")).length&&(n=new bn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var tr=null,nr=null;function rr(e){Kr(e,0)}function ir(e){if(K(Ni(e)))return e}function ar(e,t){if("change"===e)return t}var sr=!1;if(u){var or;if(u){var lr="oninput"in document;if(!lr){var cr=document.createElement("div");cr.setAttribute("oninput","return;"),lr="function"===typeof cr.oninput}or=lr}else or=!1;sr=or&&(!document.documentMode||9<document.documentMode)}function ur(){tr&&(tr.detachEvent("onpropertychange",hr),nr=tr=null)}function hr(e){if("value"===e.propertyName&&ir(nr)){var t=[];er(t,nr,e,we(e)),Ae(rr,t)}}function dr(e,t,n){"focusin"===e?(ur(),nr=n,(tr=t).attachEvent("onpropertychange",hr)):"focusout"===e&&ur()}function fr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return ir(nr)}function pr(e,t){if("click"===e)return ir(t)}function mr(e,t){if("input"===e||"change"===e)return ir(t)}var gr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function yr(e,t){if(gr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!gr(e[i],t[i]))return!1}return!0}function vr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function br(e,t){var n,r=vr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=vr(r)}}function wr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?wr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function kr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch($e){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function Er(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function Tr(e){var t=kr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&wr(n.ownerDocument.documentElement,n)){if(null!==r&&Er(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=br(n,a);var s=br(n,r);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Sr=u&&"documentMode"in document&&11>=document.documentMode,_r=null,xr=null,Cr=null,Ir=!1;function Nr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Ir||null==_r||_r!==Q(r)||("selectionStart"in(r=_r)&&Er(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},Cr&&yr(Cr,r)||(Cr=r,0<(r=ti(xr,"onSelect")).length&&(t=new bn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=_r)))}function Ar(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Rr={animationend:Ar("Animation","AnimationEnd"),animationiteration:Ar("Animation","AnimationIteration"),animationstart:Ar("Animation","AnimationStart"),transitionend:Ar("Transition","TransitionEnd")},Dr={},Or={};function Pr(e){if(Dr[e])return Dr[e];if(!Rr[e])return e;var t,n=Rr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Or)return Dr[e]=n[t];return e}u&&(Or=document.createElement("div").style,"AnimationEvent"in window||(delete Rr.animationend.animation,delete Rr.animationiteration.animation,delete Rr.animationstart.animation),"TransitionEvent"in window||delete Rr.transitionend.transition);var Lr=Pr("animationend"),Mr=Pr("animationiteration"),jr=Pr("animationstart"),Fr=Pr("transitionend"),Ur=new Map,Vr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zr(e,t){Ur.set(e,t),l(t,[e])}for(var Br=0;Br<Vr.length;Br++){var Hr=Vr[Br];zr(Hr.toLowerCase(),"on"+(Hr[0].toUpperCase()+Hr.slice(1)))}zr(Lr,"onAnimationEnd"),zr(Mr,"onAnimationIteration"),zr(jr,"onAnimationStart"),zr("dblclick","onDoubleClick"),zr("focusin","onFocus"),zr("focusout","onBlur"),zr(Fr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wr));function Gr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,o,l,c){if(Ve.apply(this,arguments),Le){if(!Le)throw Error(a(198));var u=Me;Le=!1,Me=null,je||(je=!0,Fe=u)}}(r,t,void 0,e),e.currentTarget=null}function Kr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;Gr(i,o,c),a=l}else for(s=0;s<r.length;s++){if(l=(o=r[s]).instance,c=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;Gr(i,o,c),a=l}}}if(je)throw e=Fe,je=!1,Fe=null,e}function Qr(e,t){var n=t[Si];void 0===n&&(n=t[Si]=new Set);var r=e+"__bubble";n.has(r)||($r(t,e,2,!1),n.add(r))}function Yr(e,t,n){var r=0;t&&(r|=4),$r(n,e,r,t)}var Jr="_reactListening"+Math.random().toString(36).slice(2);function Xr(e){if(!e[Jr]){e[Jr]=!0,s.forEach(function(t){"selectionchange"!==t&&(qr.has(t)||Yr(t,!1,e),Yr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Jr]||(t[Jr]=!0,Yr("selectionchange",!1,t))}}function $r(e,t,n,r){switch(sn(t)){case 1:var i=en;break;case 4:i=tn;break;default:i=nn}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Zr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;s=s.return}for(;null!==o;){if(null===(s=Ci(o)))return;if(5===(l=s.tag)||6===l){r=a=s;continue e}o=o.parentNode}}r=r.return}Ae(function(){var r=a,i=we(n),s=[];e:{var o=Ur.get(e);if(void 0!==o){var l=bn,c=e;switch(e){case"keypress":if(0===hn(n))break e;case"keydown":case"keyup":l=Mn;break;case"focusin":c="focus",l=_n;break;case"focusout":c="blur",l=_n;break;case"beforeblur":case"afterblur":l=_n;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=Tn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=Sn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Fn;break;case Lr:case Mr:case jr:l=xn;break;case Fr:l=Un;break;case"scroll":l=kn;break;case"wheel":l=zn;break;case"copy":case"cut":case"paste":l=In;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=jn}var u=0!==(4&t),h=!u&&"scroll"===e,d=u?null!==o?o+"Capture":null:o;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=Re(p,d))&&u.push(ei(p,m,f)))),h)break;p=p.return}0<u.length&&(o=new l(o,c,null,n,i),s.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!Ci(c)&&!c[Ti])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?Ci(c):null)&&(c!==(h=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=Tn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=jn,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?o:Ni(l),f=null==c?o:Ni(c),(o=new u(m,p+"leave",l,n,i)).target=h,o.relatedTarget=f,m=null,Ci(i)===r&&((u=new u(d,p+"enter",c,n,i)).target=f,u.relatedTarget=h,m=u),h=m,l&&c)e:{for(d=c,p=0,f=u=l;f;f=ni(f))p++;for(f=0,m=d;m;m=ni(m))f++;for(;0<p-f;)u=ni(u),p--;for(;0<f-p;)d=ni(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break e;u=ni(u),d=ni(d)}u=null}else u=null;null!==l&&ri(s,o,l,u,!1),null!==c&&null!==h&&ri(s,h,c,u,!0)}if("select"===(l=(o=r?Ni(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=ar;else if(Zn(o))if(sr)g=mr;else{g=fr;var y=dr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=pr);switch(g&&(g=g(e,r))?er(s,g,n,i):(y&&y(e,o,r),"focusout"===e&&(y=o._wrapperState)&&y.controlled&&"number"===o.type&&ee(o,"number",o.value)),y=r?Ni(r):window,e){case"focusin":(Zn(y)||"true"===y.contentEditable)&&(_r=y,xr=r,Cr=null);break;case"focusout":Cr=xr=_r=null;break;case"mousedown":Ir=!0;break;case"contextmenu":case"mouseup":case"dragend":Ir=!1,Nr(s,n,i);break;case"selectionchange":if(Sr)break;case"keydown":case"keyup":Nr(s,n,i)}var v;if(Hn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Xn?Yn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Gn&&"ko"!==n.locale&&(Xn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Xn&&(v=un()):(ln="value"in(on=i)?on.value:on.textContent,Xn=!0)),0<(y=ti(r,b)).length&&(b=new Nn(b,e,null,n,i),s.push({event:b,listeners:y}),v?b.data=v:null!==(v=Jn(n))&&(b.data=v))),(v=qn?function(e,t){switch(e){case"compositionend":return Jn(t);case"keypress":return 32!==t.which?null:(Qn=!0,Kn);case"textInput":return(e=t.data)===Kn&&Qn?null:e;default:return null}}(e,n):function(e,t){if(Xn)return"compositionend"===e||!Hn&&Yn(e,t)?(e=un(),cn=ln=on=null,Xn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Gn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=ti(r,"onBeforeInput")).length&&(i=new Nn("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=v))}Kr(s,t)})}function ei(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ti(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Re(e,n))&&r.unshift(ei(e,a,i)),null!=(a=Re(e,t))&&r.push(ei(e,a,i))),e=e.return}return r}function ni(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function ri(e,t,n,r,i){for(var a=t._reactName,s=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,i?null!=(l=Re(n,a))&&s.unshift(ei(n,l,o)):i||null!=(l=Re(n,a))&&s.push(ei(n,l,o))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var ii=/\r\n?/g,ai=/\u0000|\uFFFD/g;function si(e){return("string"===typeof e?e:""+e).replace(ii,"\n").replace(ai,"")}function oi(e,t,n){if(t=si(t),si(e)!==t&&n)throw Error(a(425))}function li(){}var ci=null,ui=null;function hi(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var di="function"===typeof setTimeout?setTimeout:void 0,fi="function"===typeof clearTimeout?clearTimeout:void 0,pi="function"===typeof Promise?Promise:void 0,mi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof pi?function(e){return pi.resolve(null).then(e).catch(gi)}:di;function gi(e){setTimeout(function(){throw e})}function yi(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Xt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Xt(t)}function vi(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function bi(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var wi=Math.random().toString(36).slice(2),ki="__reactFiber$"+wi,Ei="__reactProps$"+wi,Ti="__reactContainer$"+wi,Si="__reactEvents$"+wi,_i="__reactListeners$"+wi,xi="__reactHandles$"+wi;function Ci(e){var t=e[ki];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ti]||n[ki]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=bi(e);null!==e;){if(n=e[ki])return n;e=bi(e)}return t}n=(e=n).parentNode}return null}function Ii(e){return!(e=e[ki]||e[Ti])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Ni(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function Ai(e){return e[Ei]||null}var Ri=[],Di=-1;function Oi(e){return{current:e}}function Pi(e){0>Di||(e.current=Ri[Di],Ri[Di]=null,Di--)}function Li(e,t){Di++,Ri[Di]=e.current,e.current=t}var Mi={},ji=Oi(Mi),Fi=Oi(!1),Ui=Mi;function Vi(e,t){var n=e.type.contextTypes;if(!n)return Mi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function zi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Bi(){Pi(Fi),Pi(ji)}function Hi(e,t,n){if(ji.current!==Mi)throw Error(a(168));Li(ji,t),Li(Fi,n)}function Wi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,H(e)||"Unknown",i));return j({},n,r)}function qi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Mi,Ui=ji.current,Li(ji,e),Li(Fi,Fi.current),!0}function Gi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Wi(e,t,Ui),r.__reactInternalMemoizedMergedChildContext=e,Pi(Fi),Pi(ji),Li(ji,e)):Pi(Fi),Li(Fi,n)}var Ki=null,Qi=!1,Yi=!1;function Ji(e){null===Ki?Ki=[e]:Ki.push(e)}function Xi(){if(!Yi&&null!==Ki){Yi=!0;var e=0,t=Ct;try{var n=Ki;for(Ct=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ki=null,Qi=!1}catch(Be){throw null!==Ki&&(Ki=Ki.slice(e+1)),Xe(st,Xi),Be}finally{Ct=t,Yi=!1}}return null}var $i=[],Zi=0,ea=null,ta=0,na=[],ra=0,ia=null,aa=1,sa="";function oa(e,t){$i[Zi++]=ta,$i[Zi++]=ea,ea=e,ta=t}function la(e,t,n){na[ra++]=aa,na[ra++]=sa,na[ra++]=ia,ia=e;var r=aa;e=sa;var i=32-ft(r)-1;r&=~(1<<i),n+=1;var a=32-ft(t)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,aa=1<<32-ft(t)+i|n<<i|r,sa=a+e}else aa=1<<a|n<<i|r,sa=e}function ca(e){null!==e.return&&(oa(e,1),la(e,1,0))}function ua(e){for(;e===ea;)ea=$i[--Zi],$i[Zi]=null,ta=$i[--Zi],$i[Zi]=null;for(;e===ia;)ia=na[--ra],na[ra]=null,sa=na[--ra],na[ra]=null,aa=na[--ra],na[ra]=null}var ha=null,da=null,fa=!1,pa=null;function ma(e,t){var n=zc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ga(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ha=e,da=vi(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ha=e,da=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==ia?{id:aa,overflow:sa}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=zc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ha=e,da=null,!0);default:return!1}}function ya(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function va(e){if(fa){var t=da;if(t){var n=t;if(!ga(e,t)){if(ya(e))throw Error(a(418));t=vi(n.nextSibling);var r=ha;t&&ga(e,t)?ma(r,n):(e.flags=-4097&e.flags|2,fa=!1,ha=e)}}else{if(ya(e))throw Error(a(418));e.flags=-4097&e.flags|2,fa=!1,ha=e}}}function wa(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ha=e}function ka(e){if(e!==ha)return!1;if(!fa)return wa(e),fa=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!hi(e.type,e.memoizedProps)),t&&(t=da)){if(ya(e))throw Ea(),Error(a(418));for(;t;)ma(e,t),t=vi(t.nextSibling)}if(wa(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){da=vi(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}da=null}}else da=ha?vi(e.stateNode.nextSibling):null;return!0}function Ea(){for(var e=da;e;)e=vi(e.nextSibling)}function Ta(){da=ha=null,fa=!1}function Sa(e){null===pa?pa=[e]:pa.push(e)}var _a=w.ReactCurrentBatchConfig;function xa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=i.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ca(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ia(e){return(0,e._init)(e._payload)}function Na(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Hc(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Kc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===T?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===D&&Ia(a)===t.type)?((r=i(t,n.props)).ref=xa(e,t,n),r.return=e,r):((r=Wc(n.type,n.key,n.props,null,e.mode,r)).ref=xa(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Qc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,a){return null===t||7!==t.tag?((t=qc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Kc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case k:return(n=Wc(t.type,t.key,t.props,null,e.mode,n)).ref=xa(e,null,t),n.return=e,n;case E:return(t=Qc(t,e.mode,n)).return=e,t;case D:return d(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=qc(t,e.mode,n,null)).return=e,t;Ca(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case k:return n.key===i?c(e,t,n,r):null;case E:return n.key===i?u(e,t,n,r):null;case D:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:h(e,t,n,r,null);Ca(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case k:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case E:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case D:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return h(t,e=e.get(n)||null,r,i,null);Ca(t,r)}return null}function m(i,a,o,l){for(var c=null,u=null,h=a,m=a=0,g=null;null!==h&&m<o.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var y=f(i,h,o[m],l);if(null===y){null===h&&(h=g);break}e&&h&&null===y.alternate&&t(i,h),a=s(y,a,m),null===u?c=y:u.sibling=y,u=y,h=g}if(m===o.length)return n(i,h),fa&&oa(i,m),c;if(null===h){for(;m<o.length;m++)null!==(h=d(i,o[m],l))&&(a=s(h,a,m),null===u?c=h:u.sibling=h,u=h);return fa&&oa(i,m),c}for(h=r(i,h);m<o.length;m++)null!==(g=p(h,i,m,o[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),a=s(g,a,m),null===u?c=g:u.sibling=g,u=g);return e&&h.forEach(function(e){return t(i,e)}),fa&&oa(i,m),c}function g(i,o,l,c){var u=L(l);if("function"!==typeof u)throw Error(a(150));if(null==(l=u.call(l)))throw Error(a(151));for(var h=u=null,m=o,g=o=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=f(i,m,v.value,c);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(i,m),o=s(b,o,g),null===h?u=b:h.sibling=b,h=b,m=y}if(v.done)return n(i,m),fa&&oa(i,g),u;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=d(i,v.value,c))&&(o=s(v,o,g),null===h?u=v:h.sibling=v,h=v);return fa&&oa(i,g),u}for(m=r(i,m);!v.done;g++,v=l.next())null!==(v=p(m,i,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),o=s(v,o,g),null===h?u=v:h.sibling=v,h=v);return e&&m.forEach(function(e){return t(i,e)}),fa&&oa(i,g),u}return function e(r,a,s,l){if("object"===typeof s&&null!==s&&s.type===T&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case k:e:{for(var c=s.key,u=a;null!==u;){if(u.key===c){if((c=s.type)===T){if(7===u.tag){n(r,u.sibling),(a=i(u,s.props.children)).return=r,r=a;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===D&&Ia(c)===u.type){n(r,u.sibling),(a=i(u,s.props)).ref=xa(r,u,s),a.return=r,r=a;break e}n(r,u);break}t(r,u),u=u.sibling}s.type===T?((a=qc(s.props.children,r.mode,l,s.key)).return=r,r=a):((l=Wc(s.type,s.key,s.props,null,r.mode,l)).ref=xa(r,a,s),l.return=r,r=l)}return o(r);case E:e:{for(u=s.key;null!==a;){if(a.key===u){if(4===a.tag&&a.stateNode.containerInfo===s.containerInfo&&a.stateNode.implementation===s.implementation){n(r,a.sibling),(a=i(a,s.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Qc(s,r.mode,l)).return=r,r=a}return o(r);case D:return e(r,a,(u=s._init)(s._payload),l)}if(te(s))return m(r,a,s,l);if(L(s))return g(r,a,s,l);Ca(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,s)).return=r,r=a):(n(r,a),(a=Kc(s,r.mode,l)).return=r,r=a),o(r)):n(r,a)}}var Aa=Na(!0),Ra=Na(!1),Da=Oi(null),Oa=null,Pa=null,La=null;function Ma(){La=Pa=Oa=null}function ja(e){var t=Da.current;Pi(Da),e._currentValue=t}function Fa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ua(e,t){Oa=e,La=Pa=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(No=!0),e.firstContext=null)}function Va(e){var t=e._currentValue;if(La!==e)if(e={context:e,memoizedValue:t,next:null},null===Pa){if(null===Oa)throw Error(a(308));Pa=e,Oa.dependencies={lanes:0,firstContext:e}}else Pa=Pa.next=e;return t}var za=null;function Ba(e){null===za?za=[e]:za.push(e)}function Ha(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ba(t)):(n.next=i.next,i.next=n),t.interleaved=n,Wa(e,r)}function Wa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var qa=!1;function Ga(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ka(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Qa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ya(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Fl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Wa(e,n)}return null===(i=r.interleaved)?(t.next=t,Ba(r)):(t.next=i.next,i.next=t),r.interleaved=t,Wa(e,n)}function Ja(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,xt(e,n)}}function Xa(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=s:a=a.next=s,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function $a(e,t,n,r){var i=e.updateQueue;qa=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===s?a=c:s.next=c,s=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==a){var h=i.baseState;for(s=0,u=c=l=null,o=a;;){var d=o.lane,f=o.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(d=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(f,h,d):p)||void 0===d)break e;h=j({},h,d);break e;case 2:qa=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[o]:d.push(o))}else f={eventTime:f,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=h):u=u.next=f,s|=d;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(d=o).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===u&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Gl|=s,e.lanes=s,e.memoizedState=h}}function Za(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var es={},ts=Oi(es),ns=Oi(es),rs=Oi(es);function is(e){if(e===es)throw Error(a(174));return e}function as(e,t){switch(Li(rs,t),Li(ns,e),Li(ts,es),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Pi(ts),Li(ts,t)}function ss(){Pi(ts),Pi(ns),Pi(rs)}function os(e){is(rs.current);var t=is(ts.current),n=le(t,e.type);t!==n&&(Li(ns,e),Li(ts,n))}function ls(e){ns.current===e&&(Pi(ts),Pi(ns))}var cs=Oi(0);function us(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var hs=[];function ds(){for(var e=0;e<hs.length;e++)hs[e]._workInProgressVersionPrimary=null;hs.length=0}var fs=w.ReactCurrentDispatcher,ps=w.ReactCurrentBatchConfig,ms=0,gs=null,ys=null,vs=null,bs=!1,ws=!1,ks=0,Es=0;function Ts(){throw Error(a(321))}function Ss(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!gr(e[n],t[n]))return!1;return!0}function _s(e,t,n,r,i,s){if(ms=s,gs=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fs.current=null===e||null===e.memoizedState?lo:co,e=n(r,i),ws){s=0;do{if(ws=!1,ks=0,25<=s)throw Error(a(301));s+=1,vs=ys=null,t.updateQueue=null,fs.current=uo,e=n(r,i)}while(ws)}if(fs.current=oo,t=null!==ys&&null!==ys.next,ms=0,vs=ys=gs=null,bs=!1,t)throw Error(a(300));return e}function xs(){var e=0!==ks;return ks=0,e}function Cs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===vs?gs.memoizedState=vs=e:vs=vs.next=e,vs}function Is(){if(null===ys){var e=gs.alternate;e=null!==e?e.memoizedState:null}else e=ys.next;var t=null===vs?gs.memoizedState:vs.next;if(null!==t)vs=t,ys=e;else{if(null===e)throw Error(a(310));e={memoizedState:(ys=e).memoizedState,baseState:ys.baseState,baseQueue:ys.baseQueue,queue:ys.queue,next:null},null===vs?gs.memoizedState=vs=e:vs=vs.next=e}return vs}function Ns(e,t){return"function"===typeof t?t(e):t}function As(e){var t=Is(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=ys,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,r=r.baseState;var l=o=null,c=null,u=s;do{var h=u.lane;if((ms&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,o=r):c=c.next=d,gs.lanes|=h,Gl|=h}u=u.next}while(null!==u&&u!==s);null===c?o=r:c.next=l,gr(r,t.memoizedState)||(No=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{s=i.lane,gs.lanes|=s,Gl|=s,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Rs(e){var t=Is(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{s=e(s,o.action),o=o.next}while(o!==i);gr(s,t.memoizedState)||(No=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Ds(){}function Os(e,t){var n=gs,r=Is(),i=t(),s=!gr(r.memoizedState,i);if(s&&(r.memoizedState=i,No=!0),r=r.queue,qs(Ms.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==vs&&1&vs.memoizedState.tag){if(n.flags|=2048,Vs(9,Ls.bind(null,n,r,i,t),void 0,null),null===Ul)throw Error(a(349));0!==(30&ms)||Ps(n,t,i)}return i}function Ps(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=gs.updateQueue)?(t={lastEffect:null,stores:null},gs.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ls(e,t,n,r){t.value=n,t.getSnapshot=r,js(t)&&Fs(e)}function Ms(e,t,n){return n(function(){js(t)&&Fs(e)})}function js(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!gr(e,n)}catch($e){return!0}}function Fs(e){var t=Wa(e,1);null!==t&&dc(t,e,1,-1)}function Us(e){var t=Cs();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ns,lastRenderedState:e},t.queue=e,e=e.dispatch=ro.bind(null,gs,e),[t.memoizedState,e]}function Vs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=gs.updateQueue)?(t={lastEffect:null,stores:null},gs.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function zs(){return Is().memoizedState}function Bs(e,t,n,r){var i=Cs();gs.flags|=e,i.memoizedState=Vs(1|t,n,void 0,void 0===r?null:r)}function Hs(e,t,n,r){var i=Is();r=void 0===r?null:r;var a=void 0;if(null!==ys){var s=ys.memoizedState;if(a=s.destroy,null!==r&&Ss(r,s.deps))return void(i.memoizedState=Vs(t,n,a,r))}gs.flags|=e,i.memoizedState=Vs(1|t,n,a,r)}function Ws(e,t){return Bs(8390656,8,e,t)}function qs(e,t){return Hs(2048,8,e,t)}function Gs(e,t){return Hs(4,2,e,t)}function Ks(e,t){return Hs(4,4,e,t)}function Qs(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ys(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Hs(4,4,Qs.bind(null,t,e),n)}function Js(){}function Xs(e,t){var n=Is();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ss(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $s(e,t){var n=Is();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ss(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Zs(e,t,n){return 0===(21&ms)?(e.baseState&&(e.baseState=!1,No=!0),e.memoizedState=n):(gr(n,t)||(n=Tt(),gs.lanes|=n,Gl|=n,e.baseState=!0),t)}function eo(e,t){var n=Ct;Ct=0!==n&&4>n?n:4,e(!0);var r=ps.transition;ps.transition={};try{e(!1),t()}finally{Ct=n,ps.transition=r}}function to(){return Is().memoizedState}function no(e,t,n){var r=hc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},io(e))ao(t,n);else if(null!==(n=Ha(e,t,n,r))){dc(n,e,r,uc()),so(n,t,r)}}function ro(e,t,n){var r=hc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(io(e))ao(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,gr(o,s)){var l=t.interleaved;return null===l?(i.next=i,Ba(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(We){}null!==(n=Ha(e,t,i,r))&&(dc(n,e,r,i=uc()),so(n,t,r))}}function io(e){var t=e.alternate;return e===gs||null!==t&&t===gs}function ao(e,t){ws=bs=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function so(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,xt(e,n)}}var oo={readContext:Va,useCallback:Ts,useContext:Ts,useEffect:Ts,useImperativeHandle:Ts,useInsertionEffect:Ts,useLayoutEffect:Ts,useMemo:Ts,useReducer:Ts,useRef:Ts,useState:Ts,useDebugValue:Ts,useDeferredValue:Ts,useTransition:Ts,useMutableSource:Ts,useSyncExternalStore:Ts,useId:Ts,unstable_isNewReconciler:!1},lo={readContext:Va,useCallback:function(e,t){return Cs().memoizedState=[e,void 0===t?null:t],e},useContext:Va,useEffect:Ws,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bs(4194308,4,Qs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bs(4,2,e,t)},useMemo:function(e,t){var n=Cs();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Cs();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=no.bind(null,gs,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Cs().memoizedState=e},useState:Us,useDebugValue:Js,useDeferredValue:function(e){return Cs().memoizedState=e},useTransition:function(){var e=Us(!1),t=e[0];return e=eo.bind(null,e[1]),Cs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=gs,i=Cs();if(fa){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Ul)throw Error(a(349));0!==(30&ms)||Ps(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Ws(Ms.bind(null,r,s,e),[e]),r.flags|=2048,Vs(9,Ls.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Cs(),t=Ul.identifierPrefix;if(fa){var n=sa;t=":"+t+"R"+(n=(aa&~(1<<32-ft(aa)-1)).toString(32)+n),0<(n=ks++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=Es++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},co={readContext:Va,useCallback:Xs,useContext:Va,useEffect:qs,useImperativeHandle:Ys,useInsertionEffect:Gs,useLayoutEffect:Ks,useMemo:$s,useReducer:As,useRef:zs,useState:function(){return As(Ns)},useDebugValue:Js,useDeferredValue:function(e){return Zs(Is(),ys.memoizedState,e)},useTransition:function(){return[As(Ns)[0],Is().memoizedState]},useMutableSource:Ds,useSyncExternalStore:Os,useId:to,unstable_isNewReconciler:!1},uo={readContext:Va,useCallback:Xs,useContext:Va,useEffect:qs,useImperativeHandle:Ys,useInsertionEffect:Gs,useLayoutEffect:Ks,useMemo:$s,useReducer:Rs,useRef:zs,useState:function(){return Rs(Ns)},useDebugValue:Js,useDeferredValue:function(e){var t=Is();return null===ys?t.memoizedState=e:Zs(t,ys.memoizedState,e)},useTransition:function(){return[Rs(Ns)[0],Is().memoizedState]},useMutableSource:Ds,useSyncExternalStore:Os,useId:to,unstable_isNewReconciler:!1};function ho(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function fo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var po={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=uc(),i=hc(e),a=Qa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ya(e,a,i))&&(dc(t,e,i,r),Ja(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=uc(),i=hc(e),a=Qa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ya(e,a,i))&&(dc(t,e,i,r),Ja(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=uc(),r=hc(e),i=Qa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ya(e,i,r))&&(dc(t,e,r,n),Ja(t,e,r))}};function mo(e,t,n,r,i,a,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,s):!t.prototype||!t.prototype.isPureReactComponent||(!yr(n,r)||!yr(i,a))}function go(e,t,n){var r=!1,i=Mi,a=t.contextType;return"object"===typeof a&&null!==a?a=Va(a):(i=zi(t)?Ui:ji.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Vi(e,i):Mi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=po,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function yo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&po.enqueueReplaceState(t,t.state,null)}function vo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Ga(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Va(a):(a=zi(t)?Ui:ji.current,i.context=Vi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(fo(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&po.enqueueReplaceState(i,i.state,null),$a(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function bo(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(Ze){i="\nError generating stack: "+Ze.message+"\n"+Ze.stack}return{value:e,source:t,stack:i,digest:null}}function wo(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ko(e,t){try{console.error(t.value)}catch(Qe){setTimeout(function(){throw Qe})}}var Eo="function"===typeof WeakMap?WeakMap:Map;function To(e,t,n){(n=Qa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ec||(ec=!0,tc=r),ko(0,t)},n}function So(e,t,n){(n=Qa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ko(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){ko(0,t),"function"!==typeof r&&(null===nc?nc=new Set([this]):nc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function _o(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new Eo;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Lc.bind(null,e,t,n),t.then(e,e))}function xo(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function Co(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Qa(-1,1)).tag=2,Ya(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var Io=w.ReactCurrentOwner,No=!1;function Ao(e,t,n,r){t.child=null===e?Ra(t,null,n,r):Aa(t,e.child,n,r)}function Ro(e,t,n,r,i){n=n.render;var a=t.ref;return Ua(t,i),r=_s(e,t,n,r,a,i),n=xs(),null===e||No?(fa&&n&&ca(t),t.flags|=1,Ao(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,el(e,t,i))}function Do(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Bc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Wc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Oo(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var s=a.memoizedProps;if((n=null!==(n=n.compare)?n:yr)(s,r)&&e.ref===t.ref)return el(e,t,i)}return t.flags|=1,(e=Hc(a,r)).ref=t.ref,e.return=t,t.child=e}function Oo(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(yr(a,r)&&e.ref===t.ref){if(No=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,el(e,t,i);0!==(131072&e.flags)&&(No=!0)}}return Mo(e,t,n,r,i)}function Po(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Li(Hl,Bl),Bl|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Li(Hl,Bl),Bl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Li(Hl,Bl),Bl|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Li(Hl,Bl),Bl|=r;return Ao(e,t,i,n),t.child}function Lo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Mo(e,t,n,r,i){var a=zi(n)?Ui:ji.current;return a=Vi(t,a),Ua(t,i),n=_s(e,t,n,r,a,i),r=xs(),null===e||No?(fa&&r&&ca(t),t.flags|=1,Ao(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,el(e,t,i))}function jo(e,t,n,r,i){if(zi(n)){var a=!0;qi(t)}else a=!1;if(Ua(t,i),null===t.stateNode)Zo(e,t),go(t,n,r),vo(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=Va(c):c=Vi(t,c=zi(n)?Ui:ji.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;h||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==r||l!==c)&&yo(t,s,r,c),qa=!1;var d=t.memoizedState;s.state=d,$a(t,r,s,i),l=t.memoizedState,o!==r||d!==l||Fi.current||qa?("function"===typeof u&&(fo(t,n,u,r),l=t.memoizedState),(o=qa||mo(t,n,o,r,d,l,c))?(h||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=o):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Ka(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:ho(t.type,o),s.props=c,h=t.pendingProps,d=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=Va(l):l=Vi(t,l=zi(n)?Ui:ji.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==h||d!==l)&&yo(t,s,r,l),qa=!1,d=t.memoizedState,s.state=d,$a(t,r,s,i);var p=t.memoizedState;o!==h||d!==p||Fi.current||qa?("function"===typeof f&&(fo(t,n,f,r),p=t.memoizedState),(c=qa||mo(t,n,c,r,d,p,l)||!1)?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=c):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Fo(e,t,n,r,a,i)}function Fo(e,t,n,r,i,a){Lo(e,t);var s=0!==(128&t.flags);if(!r&&!s)return i&&Gi(t,n,!1),el(e,t,a);r=t.stateNode,Io.current=t;var o=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=Aa(t,e.child,null,a),t.child=Aa(t,null,o,a)):Ao(e,t,o,a),t.memoizedState=r.state,i&&Gi(t,n,!0),t.child}function Uo(e){var t=e.stateNode;t.pendingContext?Hi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Hi(0,t.context,!1),as(e,t.containerInfo)}function Vo(e,t,n,r,i){return Ta(),Sa(i),t.flags|=256,Ao(e,t,n,r),t.child}var zo,Bo,Ho,Wo,qo={dehydrated:null,treeContext:null,retryLane:0};function Go(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ko(e,t,n){var r,i=t.pendingProps,s=cs.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Li(cs,1&s),null===e)return va(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,o?(i=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Gc(l,i,0,null),e=qc(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Go(n),t.memoizedState=qo,e):Qo(t,l));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,i,s,o){if(n)return 256&t.flags?(t.flags&=-257,Yo(e,t,o,r=wo(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Gc({mode:"visible",children:r.children},i,0,null),(s=qc(s,i,o,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&Aa(t,e.child,null,o),t.child.memoizedState=Go(o),t.memoizedState=qo,s);if(0===(1&t.mode))return Yo(e,t,o,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Yo(e,t,o,r=wo(s=Error(a(419)),r,void 0))}if(l=0!==(o&e.childLanes),No||l){if(null!==(r=Ul)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|o))?0:i)&&i!==s.retryLane&&(s.retryLane=i,Wa(e,i),dc(r,e,i,-1))}return _c(),Yo(e,t,o,r=wo(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=jc.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,da=vi(i.nextSibling),ha=t,fa=!0,pa=null,null!==e&&(na[ra++]=aa,na[ra++]=sa,na[ra++]=ia,aa=e.id,sa=e.overflow,ia=t),t=Qo(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,s,n);if(o){o=i.fallback,l=t.mode,r=(s=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==s?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Hc(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==r?o=Hc(r,o):(o=qc(o,l,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,l=null===(l=e.child.memoizedState)?Go(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=qo,i}return e=(o=e.child).sibling,i=Hc(o,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Qo(e,t){return(t=Gc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Yo(e,t,n,r){return null!==r&&Sa(r),Aa(t,e.child,null,n),(e=Qo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Jo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Fa(e.return,t,n)}function Xo(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function $o(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Ao(e,t,r.children,n),0!==(2&(r=cs.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Jo(e,n,t);else if(19===e.tag)Jo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Li(cs,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===us(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Xo(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===us(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Xo(t,!0,n,null,a);break;case"together":Xo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Zo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function el(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Gl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Hc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Hc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function tl(e,t){if(!fa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function nl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function rl(e,t,n){var r=t.pendingProps;switch(ua(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nl(t),null;case 1:case 17:return zi(t.type)&&Bi(),nl(t),null;case 3:return r=t.stateNode,ss(),Pi(Fi),Pi(ji),ds(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ka(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==pa&&(gc(pa),pa=null))),Bo(e,t),nl(t),null;case 5:ls(t);var i=is(rs.current);if(n=t.type,null!==e&&null!=t.stateNode)Ho(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return nl(t),null}if(e=is(ts.current),ka(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[ki]=t,r[Ei]=s,e=0!==(1&t.mode),n){case"dialog":Qr("cancel",r),Qr("close",r);break;case"iframe":case"object":case"embed":Qr("load",r);break;case"video":case"audio":for(i=0;i<Wr.length;i++)Qr(Wr[i],r);break;case"source":Qr("error",r);break;case"img":case"image":case"link":Qr("error",r),Qr("load",r);break;case"details":Qr("toggle",r);break;case"input":J(r,s),Qr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Qr("invalid",r);break;case"textarea":ie(r,s),Qr("invalid",r)}for(var l in ye(n,s),i=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==s.suppressHydrationWarning&&oi(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&oi(r.textContent,c,e),i=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Qr("scroll",r)}switch(n){case"input":G(r),Z(r,s,!0);break;case"textarea":G(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=li)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[ki]=t,e[Ei]=r,zo(e,t,!1,!1),t.stateNode=e;e:{switch(l=ve(n,r),n){case"dialog":Qr("cancel",e),Qr("close",e),i=r;break;case"iframe":case"object":case"embed":Qr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Wr.length;i++)Qr(Wr[i],e);i=r;break;case"source":Qr("error",e),i=r;break;case"img":case"image":case"link":Qr("error",e),Qr("load",e),i=r;break;case"details":Qr("toggle",e),i=r;break;case"input":J(e,r),i=Y(e,r),Qr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),Qr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Qr("invalid",e)}for(s in ye(n,i),c=i)if(c.hasOwnProperty(s)){var u=c[s];"style"===s?me(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&ue(e,u):"children"===s?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(o.hasOwnProperty(s)?null!=u&&"onScroll"===s&&Qr("scroll",e):null!=u&&b(e,s,u,l))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=li)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return nl(t),null;case 6:if(e&&null!=t.stateNode)Wo(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=is(rs.current),is(ts.current),ka(t)){if(r=t.stateNode,n=t.memoizedProps,r[ki]=t,(s=r.nodeValue!==n)&&null!==(e=ha))switch(e.tag){case 3:oi(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&oi(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ki]=t,t.stateNode=r}return nl(t),null;case 13:if(Pi(cs),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(fa&&null!==da&&0!==(1&t.mode)&&0===(128&t.flags))Ea(),Ta(),t.flags|=98560,s=!1;else if(s=ka(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(a(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(a(317));s[ki]=t}else Ta(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;nl(t),s=!1}else null!==pa&&(gc(pa),pa=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&cs.current)?0===Wl&&(Wl=3):_c())),null!==t.updateQueue&&(t.flags|=4),nl(t),null);case 4:return ss(),Bo(e,t),null===e&&Xr(t.stateNode.containerInfo),nl(t),null;case 10:return ja(t.type._context),nl(t),null;case 19:if(Pi(cs),null===(s=t.memoizedState))return nl(t),null;if(r=0!==(128&t.flags),null===(l=s.rendering))if(r)tl(s,!1);else{if(0!==Wl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=us(e))){for(t.flags|=128,tl(s,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Li(cs,1&cs.current|2),t.child}e=e.sibling}null!==s.tail&&it()>$l&&(t.flags|=128,r=!0,tl(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=us(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),tl(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!fa)return nl(t),null}else 2*it()-s.renderingStartTime>$l&&1073741824!==n&&(t.flags|=128,r=!0,tl(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=it(),t.sibling=null,n=cs.current,Li(cs,r?1&n|2:1&n),t):(nl(t),null);case 22:case 23:return kc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Bl)&&(nl(t),6&t.subtreeFlags&&(t.flags|=8192)):nl(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function il(e,t){switch(ua(t),t.tag){case 1:return zi(t.type)&&Bi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ss(),Pi(Fi),Pi(ji),ds(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return ls(t),null;case 13:if(Pi(cs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));Ta()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Pi(cs),null;case 4:return ss(),null;case 10:return ja(t.type._context),null;case 22:case 23:return kc(),null;default:return null}}zo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Bo=function(){},Ho=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,is(ts.current);var a,s=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),s=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),s=[];break;case"textarea":i=re(e,i),r=re(e,r),s=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=li)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Qr("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},Wo=function(e,t,n,r){n!==r&&(t.flags|=4)};var al=!1,sl=!1,ol="function"===typeof WeakSet?WeakSet:Set,ll=null;function cl(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch($e){Pc(e,t,$e)}else n.current=null}function ul(e,t,n){try{n()}catch($e){Pc(e,t,$e)}}var hl=!1;function dl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&ul(t,n,a)}i=i.next}while(i!==r)}}function fl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function pl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ml(e){var t=e.alternate;null!==t&&(e.alternate=null,ml(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ki],delete t[Ei],delete t[Si],delete t[_i],delete t[xi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function gl(e){return 5===e.tag||3===e.tag||4===e.tag}function yl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||gl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function vl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=li));else if(4!==r&&null!==(e=e.child))for(vl(e,t,n),e=e.sibling;null!==e;)vl(e,t,n),e=e.sibling}function bl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(bl(e,t,n),e=e.sibling;null!==e;)bl(e,t,n),e=e.sibling}var wl=null,kl=!1;function El(e,t,n){for(n=n.child;null!==n;)Tl(e,t,n),n=n.sibling}function Tl(e,t,n){if(dt&&"function"===typeof dt.onCommitFiberUnmount)try{dt.onCommitFiberUnmount(ht,n)}catch(tt){}switch(n.tag){case 5:sl||cl(n,t);case 6:var r=wl,i=kl;wl=null,El(e,t,n),kl=i,null!==(wl=r)&&(kl?(e=wl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):wl.removeChild(n.stateNode));break;case 18:null!==wl&&(kl?(e=wl,n=n.stateNode,8===e.nodeType?yi(e.parentNode,n):1===e.nodeType&&yi(e,n),Xt(e)):yi(wl,n.stateNode));break;case 4:r=wl,i=kl,wl=n.stateNode.containerInfo,kl=!0,El(e,t,n),wl=r,kl=i;break;case 0:case 11:case 14:case 15:if(!sl&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,s=a.destroy;a=a.tag,void 0!==s&&(0!==(2&a)||0!==(4&a))&&ul(n,t,s),i=i.next}while(i!==r)}El(e,t,n);break;case 1:if(!sl&&(cl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(tt){Pc(n,t,tt)}El(e,t,n);break;case 21:El(e,t,n);break;case 22:1&n.mode?(sl=(r=sl)||null!==n.memoizedState,El(e,t,n),sl=r):El(e,t,n);break;default:El(e,t,n)}}function Sl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ol),t.forEach(function(t){var r=Fc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function _l(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:wl=l.stateNode,kl=!1;break e;case 3:case 4:wl=l.stateNode.containerInfo,kl=!0;break e}l=l.return}if(null===wl)throw Error(a(160));Tl(s,o,i),wl=null,kl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(We){Pc(i,t,We)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)xl(t,e),t=t.sibling}function xl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(_l(t,e),Cl(e),4&r){try{dl(3,e,e.return),fl(3,e)}catch(He){Pc(e,e.return,He)}try{dl(5,e,e.return)}catch(He){Pc(e,e.return,He)}}break;case 1:_l(t,e),Cl(e),512&r&&null!==n&&cl(n,n.return);break;case 5:if(_l(t,e),Cl(e),512&r&&null!==n&&cl(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(He){Pc(e,e.return,He)}}if(4&r&&null!=(i=e.stateNode)){var s=e.memoizedProps,o=null!==n?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&X(i,s),ve(l,o);var u=ve(l,s);for(o=0;o<c.length;o+=2){var h=c[o],d=c[o+1];"style"===h?me(i,d):"dangerouslySetInnerHTML"===h?ue(i,d):"children"===h?he(i,d):b(i,h,d,u)}switch(l){case"input":$(i,s);break;case"textarea":ae(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;null!=p?ne(i,!!s.multiple,p,!1):f!==!!s.multiple&&(null!=s.defaultValue?ne(i,!!s.multiple,s.defaultValue,!0):ne(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ei]=s}catch(He){Pc(e,e.return,He)}}break;case 6:if(_l(t,e),Cl(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(He){Pc(e,e.return,He)}}break;case 3:if(_l(t,e),Cl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Xt(t.containerInfo)}catch(He){Pc(e,e.return,He)}break;case 4:default:_l(t,e),Cl(e);break;case 13:_l(t,e),Cl(e),8192&(i=e.child).flags&&(s=null!==i.memoizedState,i.stateNode.isHidden=s,!s||null!==i.alternate&&null!==i.alternate.memoizedState||(Xl=it())),4&r&&Sl(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(sl=(u=sl)||h,_l(t,e),sl=u):_l(t,e),Cl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!h&&0!==(1&e.mode))for(ll=e,h=e.child;null!==h;){for(d=ll=h;null!==ll;){switch(p=(f=ll).child,f.tag){case 0:case 11:case 14:case 15:dl(4,f,f.return);break;case 1:cl(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(He){Pc(r,n,He)}}break;case 5:cl(f,f.return);break;case 22:if(null!==f.memoizedState){Rl(d);continue}}null!==p?(p.return=f,ll=p):Rl(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,u?"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=d.stateNode,o=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=pe("display",o))}catch(He){Pc(e,e.return,He)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(He){Pc(e,e.return,He)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:_l(t,e),Cl(e),4&r&&Sl(e);case 21:}}function Cl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(gl(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),bl(e,yl(e),i);break;case 3:case 4:var s=r.stateNode.containerInfo;vl(e,yl(e),s);break;default:throw Error(a(161))}}catch(Et){Pc(e,e.return,Et)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Il(e,t,n){ll=e,Nl(e,t,n)}function Nl(e,t,n){for(var r=0!==(1&e.mode);null!==ll;){var i=ll,a=i.child;if(22===i.tag&&r){var s=null!==i.memoizedState||al;if(!s){var o=i.alternate,l=null!==o&&null!==o.memoizedState||sl;o=al;var c=sl;if(al=s,(sl=l)&&!c)for(ll=i;null!==ll;)l=(s=ll).child,22===s.tag&&null!==s.memoizedState?Dl(i):null!==l?(l.return=s,ll=l):Dl(i);for(;null!==a;)ll=a,Nl(a,t,n),a=a.sibling;ll=i,al=o,sl=c}Al(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,ll=a):Al(e)}}function Al(e){for(;null!==ll;){var t=ll;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:sl||fl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!sl)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ho(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Za(t,s,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Za(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Xt(d)}}}break;default:throw Error(a(163))}sl||512&t.flags&&pl(t)}catch(f){Pc(t,t.return,f)}}if(t===e){ll=null;break}if(null!==(n=t.sibling)){n.return=t.return,ll=n;break}ll=t.return}}function Rl(e){for(;null!==ll;){var t=ll;if(t===e){ll=null;break}var n=t.sibling;if(null!==n){n.return=t.return,ll=n;break}ll=t.return}}function Dl(e){for(;null!==ll;){var t=ll;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{fl(4,t)}catch(Et){Pc(t,n,Et)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(Et){Pc(t,i,Et)}}var a=t.return;try{pl(t)}catch(Et){Pc(t,a,Et)}break;case 5:var s=t.return;try{pl(t)}catch(Et){Pc(t,s,Et)}}}catch(Et){Pc(t,t.return,Et)}if(t===e){ll=null;break}var o=t.sibling;if(null!==o){o.return=t.return,ll=o;break}ll=t.return}}var Ol,Pl=Math.ceil,Ll=w.ReactCurrentDispatcher,Ml=w.ReactCurrentOwner,jl=w.ReactCurrentBatchConfig,Fl=0,Ul=null,Vl=null,zl=0,Bl=0,Hl=Oi(0),Wl=0,ql=null,Gl=0,Kl=0,Ql=0,Yl=null,Jl=null,Xl=0,$l=1/0,Zl=null,ec=!1,tc=null,nc=null,rc=!1,ic=null,ac=0,sc=0,oc=null,lc=-1,cc=0;function uc(){return 0!==(6&Fl)?it():-1!==lc?lc:lc=it()}function hc(e){return 0===(1&e.mode)?1:0!==(2&Fl)&&0!==zl?zl&-zl:null!==_a.transition?(0===cc&&(cc=Tt()),cc):0!==(e=Ct)?e:e=void 0===(e=window.event)?16:sn(e.type)}function dc(e,t,n,r){if(50<sc)throw sc=0,oc=null,Error(a(185));_t(e,n,r),0!==(2&Fl)&&e===Ul||(e===Ul&&(0===(2&Fl)&&(Kl|=n),4===Wl&&yc(e,zl)),fc(e,r),1===n&&0===Fl&&0===(1&t.mode)&&($l=it()+500,Qi&&Xi()))}function fc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-ft(a),o=1<<s,l=i[s];-1===l?0!==(o&n)&&0===(o&r)||(i[s]=wt(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}(e,t);var r=bt(e,e===Ul?zl:0);if(0===r)null!==n&&et(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&et(n),1===t)0===e.tag?function(e){Qi=!0,Ji(e)}(vc.bind(null,e)):Ji(vc.bind(null,e)),mi(function(){0===(6&Fl)&&Xi()}),n=null;else{switch(It(r)){case 1:n=st;break;case 4:n=ot;break;case 16:default:n=lt;break;case 536870912:n=ut}n=Uc(n,pc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function pc(e,t){if(lc=-1,cc=0,0!==(6&Fl))throw Error(a(327));var n=e.callbackNode;if(Dc()&&e.callbackNode!==n)return null;var r=bt(e,e===Ul?zl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=xc(e,r);else{t=r;var i=Fl;Fl|=2;var s=Sc();for(Ul===e&&zl===t||(Zl=null,$l=it()+500,Ec(e,t));;)try{Ic();break}catch(tt){Tc(e,tt)}Ma(),Ll.current=s,Fl=i,null!==Vl?t=0:(Ul=null,zl=0,t=Wl)}if(0!==t){if(2===t&&(0!==(i=kt(e))&&(r=i,t=mc(e,i))),1===t)throw n=ql,Ec(e,0),yc(e,r),fc(e,it()),n;if(6===t)yc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!gr(a(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=xc(e,r))&&(0!==(s=kt(e))&&(r=s,t=mc(e,s))),1===t))throw n=ql,Ec(e,0),yc(e,r),fc(e,it()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:Rc(e,Jl,Zl);break;case 3:if(yc(e,r),(130023424&r)===r&&10<(t=Xl+500-it())){if(0!==bt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){uc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=di(Rc.bind(null,e,Jl,Zl),t);break}Rc(e,Jl,Zl);break;case 4:if(yc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-ft(r);s=1<<o,(o=t[o])>i&&(i=o),r&=~s}if(r=i,10<(r=(120>(r=it()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Pl(r/1960))-r)){e.timeoutHandle=di(Rc.bind(null,e,Jl,Zl),r);break}Rc(e,Jl,Zl);break;default:throw Error(a(329))}}}return fc(e,it()),e.callbackNode===n?pc.bind(null,e):null}function mc(e,t){var n=Yl;return e.current.memoizedState.isDehydrated&&(Ec(e,t).flags|=256),2!==(e=xc(e,t))&&(t=Jl,Jl=n,null!==t&&gc(t)),e}function gc(e){null===Jl?Jl=e:Jl.push.apply(Jl,e)}function yc(e,t){for(t&=~Ql,t&=~Kl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ft(t),r=1<<n;e[n]=-1,t&=~r}}function vc(e){if(0!==(6&Fl))throw Error(a(327));Dc();var t=bt(e,0);if(0===(1&t))return fc(e,it()),null;var n=xc(e,t);if(0!==e.tag&&2===n){var r=kt(e);0!==r&&(t=r,n=mc(e,r))}if(1===n)throw n=ql,Ec(e,0),yc(e,t),fc(e,it()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Rc(e,Jl,Zl),fc(e,it()),null}function bc(e,t){var n=Fl;Fl|=1;try{return e(t)}finally{0===(Fl=n)&&($l=it()+500,Qi&&Xi())}}function wc(e){null!==ic&&0===ic.tag&&0===(6&Fl)&&Dc();var t=Fl;Fl|=1;var n=jl.transition,r=Ct;try{if(jl.transition=null,Ct=1,e)return e()}finally{Ct=r,jl.transition=n,0===(6&(Fl=t))&&Xi()}}function kc(){Bl=Hl.current,Pi(Hl)}function Ec(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,fi(n)),null!==Vl)for(n=Vl.return;null!==n;){var r=n;switch(ua(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Bi();break;case 3:ss(),Pi(Fi),Pi(ji),ds();break;case 5:ls(r);break;case 4:ss();break;case 13:case 19:Pi(cs);break;case 10:ja(r.type._context);break;case 22:case 23:kc()}n=n.return}if(Ul=e,Vl=e=Hc(e.current,null),zl=Bl=t,Wl=0,ql=null,Ql=Kl=Gl=0,Jl=Yl=null,null!==za){for(t=0;t<za.length;t++)if(null!==(r=(n=za[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var s=a.next;a.next=i,r.next=s}n.pending=r}za=null}return e}function Tc(e,t){for(;;){var n=Vl;try{if(Ma(),fs.current=oo,bs){for(var r=gs.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}bs=!1}if(ms=0,vs=ys=gs=null,ws=!1,ks=0,Ml.current=null,null===n||null===n.return){Wl=1,ql=t,Vl=null;break}e:{var s=e,o=n.return,l=n,c=t;if(t=zl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=xo(o);if(null!==p){p.flags&=-257,Co(p,o,l,0,t),1&p.mode&&_o(s,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){_o(s,u,t),_c();break e}c=Error(a(426))}else if(fa&&1&l.mode){var y=xo(o);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),Co(y,o,l,0,t),Sa(bo(c,l));break e}}s=c=bo(c,l),4!==Wl&&(Wl=2),null===Yl?Yl=[s]:Yl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Xa(s,To(0,c,t));break e;case 1:l=c;var v=s.type,b=s.stateNode;if(0===(128&s.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===nc||!nc.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t,Xa(s,So(s,l,t));break e}}s=s.return}while(null!==s)}Ac(n)}catch(ba){t=ba,Vl===n&&null!==n&&(Vl=n=n.return);continue}break}}function Sc(){var e=Ll.current;return Ll.current=oo,null===e?oo:e}function _c(){0!==Wl&&3!==Wl&&2!==Wl||(Wl=4),null===Ul||0===(268435455&Gl)&&0===(268435455&Kl)||yc(Ul,zl)}function xc(e,t){var n=Fl;Fl|=2;var r=Sc();for(Ul===e&&zl===t||(Zl=null,Ec(e,t));;)try{Cc();break}catch(Be){Tc(e,Be)}if(Ma(),Fl=n,Ll.current=r,null!==Vl)throw Error(a(261));return Ul=null,zl=0,Wl}function Cc(){for(;null!==Vl;)Nc(Vl)}function Ic(){for(;null!==Vl&&!nt();)Nc(Vl)}function Nc(e){var t=Ol(e.alternate,e,Bl);e.memoizedProps=e.pendingProps,null===t?Ac(e):Vl=t,Ml.current=null}function Ac(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=rl(n,t,Bl)))return void(Vl=n)}else{if(null!==(n=il(n,t)))return n.flags&=32767,void(Vl=n);if(null===e)return Wl=6,void(Vl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Vl=t);Vl=t=e}while(null!==t);0===Wl&&(Wl=5)}function Rc(e,t,n){var r=Ct,i=jl.transition;try{jl.transition=null,Ct=1,function(e,t,n,r){do{Dc()}while(null!==ic);if(0!==(6&Fl))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ft(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,s),e===Ul&&(Vl=Ul=null,zl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||rc||(rc=!0,Uc(lt,function(){return Dc(),null})),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=jl.transition,jl.transition=null;var o=Ct;Ct=1;var l=Fl;Fl|=4,Ml.current=null,function(e,t){if(ci=Zt,Er(e=kr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(Ut){n=null;break e}var o=0,l=-1,c=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=o+i),d!==s||0!==r&&3!==d.nodeType||(c=o+r),3===d.nodeType&&(o+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===i&&(l=o),f===s&&++h===r&&(c=o),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ui={focusedElem:e,selectionRange:n},Zt=!1,ll=t;null!==ll;)if(e=(t=ll).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,ll=e;else for(;null!==ll;){t=ll;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:ho(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(a(163))}}catch(Ut){Pc(t,t.return,Ut)}if(null!==(e=t.sibling)){e.return=t.return,ll=e;break}ll=t.return}m=hl,hl=!1}(e,n),xl(n,e),Tr(ui),Zt=!!ci,ui=ci=null,e.current=n,Il(n,e,i),rt(),Fl=l,Ct=o,jl.transition=s}else e.current=n;if(rc&&(rc=!1,ic=e,ac=i),s=e.pendingLanes,0===s&&(nc=null),function(e){if(dt&&"function"===typeof dt.onCommitFiberRoot)try{dt.onCommitFiberRoot(ht,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),fc(e,it()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ec)throw ec=!1,e=tc,tc=null,e;0!==(1&ac)&&0!==e.tag&&Dc(),s=e.pendingLanes,0!==(1&s)?e===oc?sc++:(sc=0,oc=e):sc=0,Xi()}(e,t,n,r)}finally{jl.transition=i,Ct=r}return null}function Dc(){if(null!==ic){var e=It(ac),t=jl.transition,n=Ct;try{if(jl.transition=null,Ct=16>e?16:e,null===ic)var r=!1;else{if(e=ic,ic=null,ac=0,0!==(6&Fl))throw Error(a(331));var i=Fl;for(Fl|=4,ll=e.current;null!==ll;){var s=ll,o=s.child;if(0!==(16&ll.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(ll=u;null!==ll;){var h=ll;switch(h.tag){case 0:case 11:case 15:dl(8,h,s)}var d=h.child;if(null!==d)d.return=h,ll=d;else for(;null!==ll;){var f=(h=ll).sibling,p=h.return;if(ml(h),h===u){ll=null;break}if(null!==f){f.return=p,ll=f;break}ll=p}}}var m=s.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}ll=s}}if(0!==(2064&s.subtreeFlags)&&null!==o)o.return=s,ll=o;else e:for(;null!==ll;){if(0!==(2048&(s=ll).flags))switch(s.tag){case 0:case 11:case 15:dl(9,s,s.return)}var v=s.sibling;if(null!==v){v.return=s.return,ll=v;break e}ll=s.return}}var b=e.current;for(ll=b;null!==ll;){var w=(o=ll).child;if(0!==(2064&o.subtreeFlags)&&null!==w)w.return=o,ll=w;else e:for(o=b;null!==ll;){if(0!==(2048&(l=ll).flags))try{switch(l.tag){case 0:case 11:case 15:fl(9,l)}}catch(ba){Pc(l,l.return,ba)}if(l===o){ll=null;break e}var k=l.sibling;if(null!==k){k.return=l.return,ll=k;break e}ll=l.return}}if(Fl=i,Xi(),dt&&"function"===typeof dt.onPostCommitFiberRoot)try{dt.onPostCommitFiberRoot(ht,e)}catch(ba){}r=!0}return r}finally{Ct=n,jl.transition=t}}return!1}function Oc(e,t,n){e=Ya(e,t=To(0,t=bo(n,t),1),1),t=uc(),null!==e&&(_t(e,1,t),fc(e,t))}function Pc(e,t,n){if(3===e.tag)Oc(e,e,n);else for(;null!==t;){if(3===t.tag){Oc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===nc||!nc.has(r))){t=Ya(t,e=So(t,e=bo(n,e),1),1),e=uc(),null!==t&&(_t(t,1,e),fc(t,e));break}}t=t.return}}function Lc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=uc(),e.pingedLanes|=e.suspendedLanes&n,Ul===e&&(zl&n)===n&&(4===Wl||3===Wl&&(130023424&zl)===zl&&500>it()-Xl?Ec(e,0):Ql|=n),fc(e,t)}function Mc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=yt,0===(130023424&(yt<<=1))&&(yt=4194304)));var n=uc();null!==(e=Wa(e,t))&&(_t(e,t,n),fc(e,n))}function jc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Mc(e,n)}function Fc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Mc(e,n)}function Uc(e,t){return Xe(e,t)}function Vc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zc(e,t,n,r){return new Vc(e,t,n,r)}function Bc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Hc(e,t){var n=e.alternate;return null===n?((n=zc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Wc(e,t,n,r,i,s){var o=2;if(r=e,"function"===typeof e)Bc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case T:return qc(n.children,i,s,t);case S:o=8,i|=8;break;case _:return(e=zc(12,n,t,2|i)).elementType=_,e.lanes=s,e;case N:return(e=zc(13,n,t,i)).elementType=N,e.lanes=s,e;case A:return(e=zc(19,n,t,i)).elementType=A,e.lanes=s,e;case O:return Gc(n,i,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case x:o=10;break e;case C:o=9;break e;case I:o=11;break e;case R:o=14;break e;case D:o=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=zc(o,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function qc(e,t,n,r){return(e=zc(7,e,r,t)).lanes=n,e}function Gc(e,t,n,r){return(e=zc(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Kc(e,t,n){return(e=zc(6,e,null,t)).lanes=n,e}function Qc(e,t,n){return(t=zc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Yc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=St(0),this.expirationTimes=St(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=St(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Jc(e,t,n,r,i,a,s,o,l){return e=new Yc(e,t,n,o,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=zc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ga(a),e}function Xc(e){if(!e)return Mi;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(zi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(zi(n))return Wi(e,n,t)}return t}function $c(e,t,n,r,i,a,s,o,l){return(e=Jc(n,r,!0,e,0,a,0,o,l)).context=Xc(null),n=e.current,(a=Qa(r=uc(),i=hc(n))).callback=void 0!==t&&null!==t?t:null,Ya(n,a,i),e.current.lanes=i,_t(e,i,r),fc(e,r),e}function Zc(e,t,n,r){var i=t.current,a=uc(),s=hc(i);return n=Xc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Qa(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ya(i,t,s))&&(dc(e,i,s,a),Ja(e,i,s)),s}function eu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function tu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function nu(e,t){tu(e,t),(e=e.alternate)&&tu(e,t)}Ol=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Fi.current)No=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return No=!1,function(e,t,n){switch(t.tag){case 3:Uo(t),Ta();break;case 5:os(t);break;case 1:zi(t.type)&&qi(t);break;case 4:as(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Li(Da,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Li(cs,1&cs.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ko(e,t,n):(Li(cs,1&cs.current),null!==(e=el(e,t,n))?e.sibling:null);Li(cs,1&cs.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return $o(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Li(cs,cs.current),r)break;return null;case 22:case 23:return t.lanes=0,Po(e,t,n)}return el(e,t,n)}(e,t,n);No=0!==(131072&e.flags)}else No=!1,fa&&0!==(1048576&t.flags)&&la(t,ta,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Zo(e,t),e=t.pendingProps;var i=Vi(t,ji.current);Ua(t,n),i=_s(null,t,r,e,i,n);var s=xs();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,zi(r)?(s=!0,qi(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ga(t),i.updater=po,t.stateNode=i,i._reactInternals=t,vo(t,r,e,n),t=Fo(null,t,r,!0,s,n)):(t.tag=0,fa&&s&&ca(t),Ao(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Zo(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Bc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===R)return 14}return 2}(r),e=ho(r,e),i){case 0:t=Mo(null,t,r,e,n);break e;case 1:t=jo(null,t,r,e,n);break e;case 11:t=Ro(null,t,r,e,n);break e;case 14:t=Do(null,t,r,ho(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Mo(e,t,r,i=t.elementType===r?i:ho(r,i),n);case 1:return r=t.type,i=t.pendingProps,jo(e,t,r,i=t.elementType===r?i:ho(r,i),n);case 3:e:{if(Uo(t),null===e)throw Error(a(387));r=t.pendingProps,i=(s=t.memoizedState).element,Ka(e,t),$a(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Vo(e,t,r,n,i=bo(Error(a(423)),t));break e}if(r!==i){t=Vo(e,t,r,n,i=bo(Error(a(424)),t));break e}for(da=vi(t.stateNode.containerInfo.firstChild),ha=t,fa=!0,pa=null,n=Ra(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Ta(),r===i){t=el(e,t,n);break e}Ao(e,t,r,n)}t=t.child}return t;case 5:return os(t),null===e&&va(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,o=i.children,hi(r,i)?o=null:null!==s&&hi(r,s)&&(t.flags|=32),Lo(e,t),Ao(e,t,o,n),t.child;case 6:return null===e&&va(t),null;case 13:return Ko(e,t,n);case 4:return as(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Aa(t,null,r,n):Ao(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ro(e,t,r,i=t.elementType===r?i:ho(r,i),n);case 7:return Ao(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ao(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,Li(Da,r._currentValue),r._currentValue=o,null!==s)if(gr(s.value,o)){if(s.children===i.children&&!Fi.current){t=el(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){o=s.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===s.tag){(c=Qa(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Fa(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===s.tag)o=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(o=s.return))throw Error(a(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Fa(o,n,t),o=s.sibling}else o=s.child;if(null!==o)o.return=s;else for(o=s;null!==o;){if(o===t){o=null;break}if(null!==(s=o.sibling)){s.return=o.return,o=s;break}o=o.return}s=o}Ao(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ua(t,n),r=r(i=Va(i)),t.flags|=1,Ao(e,t,r,n),t.child;case 14:return i=ho(r=t.type,t.pendingProps),Do(e,t,r,i=ho(r.type,i),n);case 15:return Oo(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ho(r,i),Zo(e,t),t.tag=1,zi(r)?(e=!0,qi(t)):e=!1,Ua(t,n),go(t,r,i),vo(t,r,i,n),Fo(null,t,r,!0,e,n);case 19:return $o(e,t,n);case 22:return Po(e,t,n)}throw Error(a(156,t.tag))};var ru="function"===typeof reportError?reportError:function(e){console.error(e)};function iu(e){this._internalRoot=e}function au(e){this._internalRoot=e}function su(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function ou(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function lu(){}function cu(e,t,n,r,i){var a=n._reactRootContainer;if(a){var s=a;if("function"===typeof i){var o=i;i=function(){var e=eu(s);o.call(e)}}Zc(t,s,e,i)}else s=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=eu(s);a.call(e)}}var s=$c(t,r,e,0,null,!1,0,"",lu);return e._reactRootContainer=s,e[Ti]=s.current,Xr(8===e.nodeType?e.parentNode:e),wc(),s}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var o=r;r=function(){var e=eu(l);o.call(e)}}var l=Jc(e,0,!1,null,0,!1,0,"",lu);return e._reactRootContainer=l,e[Ti]=l.current,Xr(8===e.nodeType?e.parentNode:e),wc(function(){Zc(t,l,n,r)}),l}(n,t,e,i,r);return eu(s)}au.prototype.render=iu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Zc(e,t,null,null)},au.prototype.unmount=iu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;wc(function(){Zc(null,e,null,null)}),t[Ti]=null}},au.prototype.unstable_scheduleHydration=function(e){if(e){var t=Dt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Bt.length&&0!==t&&t<Bt[n].priority;n++);Bt.splice(n,0,e),0===n&&Gt(e)}},Nt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=vt(t.pendingLanes);0!==n&&(xt(t,1|n),fc(t,it()),0===(6&Fl)&&($l=it()+500,Xi()))}break;case 13:wc(function(){var t=Wa(e,1);if(null!==t){var n=uc();dc(t,e,1,n)}}),nu(e,1)}},At=function(e){if(13===e.tag){var t=Wa(e,134217728);if(null!==t)dc(t,e,134217728,uc());nu(e,134217728)}},Rt=function(e){if(13===e.tag){var t=hc(e),n=Wa(e,t);if(null!==n)dc(n,e,t,uc());nu(e,t)}},Dt=function(){return Ct},Ot=function(e,t){var n=Ct;try{return Ct=e,t()}finally{Ct=n}},ke=function(e,t,n){switch(t){case"input":if($(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ai(r);if(!i)throw Error(a(90));K(r),$(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=bc,Ie=wc;var uu={usingClientEntryPoint:!1,Events:[Ii,Ni,Ai,_e,xe,bc]},hu={findFiberByHostInstance:Ci,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},du={bundleType:hu.bundleType,version:hu.version,rendererPackageName:hu.rendererPackageName,rendererConfig:hu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ye(e))?null:e.stateNode},findFiberByHostInstance:hu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fu.isDisabled&&fu.supportsFiber)try{ht=fu.inject(du),dt=fu}catch(qe){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!su(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!su(e))throw Error(a(299));var n=!1,r="",i=ru;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Jc(e,1,!1,null,0,n,0,r,i),e[Ti]=t.current,Xr(8===e.nodeType?e.parentNode:e),new iu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ye(t))?null:e.stateNode},t.flushSync=function(e){return wc(e)},t.hydrate=function(e,t,n){if(!ou(t))throw Error(a(200));return cu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!su(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,s="",o=ru;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=$c(t,null,e,1,null!=n?n:null,i,0,s,o),e[Ti]=t.current,Xr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new au(t)},t.render=function(e,t,n){if(!ou(t))throw Error(a(200));return cu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ou(e))throw Error(a(40));return!!e._reactRootContainer&&(wc(function(){cu(null,null,e,!1,function(){e._reactRootContainer=null,e[Ti]=null})}),!0)},t.unstable_batchedUpdates=bc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ou(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return cu(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var s={};e=e||[null,t({}),t([]),t(t)];for(var o=2&i&&r;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>s[e]=()=>r[e]);return s.default=()=>r,n.d(a,s),a}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(Be){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r=n(43),i=n.t(r,2),a=n(391);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function o(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}function l(e,t,n){return(t=o(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){l(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var h,d=n(950),f=n.t(d,2);function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(h||(h={}));const m="popstate";function g(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function y(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(Be){}}}function v(e,t){return{usr:e.state,key:e.key,idx:t}}function b(e,t,n,r){return void 0===n&&(n=null),p({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?k(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function w(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function k(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function E(e,t,n,r){void 0===r&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,o=h.Pop,l=null,c=u();function u(){return(s.state||{idx:null}).idx}function d(){o=h.Pop;let e=u(),t=null==e?null:e-c;c=e,l&&l({action:o,location:y.location,delta:t})}function f(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof e?e:w(e);return n=n.replace(/ $/,"%20"),g(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==c&&(c=0,s.replaceState(p({},s.state,{idx:c}),""));let y={get action(){return o},get location(){return e(i,s)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(m,d),l=e,()=>{i.removeEventListener(m,d),l=null}},createHref:e=>t(i,e),createURL:f,encodeLocation(e){let t=f(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){o=h.Push;let r=b(y.location,e,t);n&&n(r,e),c=u()+1;let d=v(r,c),f=y.createHref(r);try{s.pushState(d,"",f)}catch(p){if(p instanceof DOMException&&"DataCloneError"===p.name)throw p;i.location.assign(f)}a&&l&&l({action:o,location:y.location,delta:1})},replace:function(e,t){o=h.Replace;let r=b(y.location,e,t);n&&n(r,e),c=u();let i=v(r,c),d=y.createHref(r);s.replaceState(i,"",d),a&&l&&l({action:o,location:y.location,delta:0})},go:e=>s.go(e)};return y}var T;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(T||(T={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function S(e,t,n){return void 0===n&&(n="/"),_(e,t,n,!1)}function _(e,t,n,r){let i=U(("string"===typeof t?k(t):t).pathname||"/",n);if(null==i)return null;let a=x(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(a);let s=null;for(let o=0;null==s&&o<a.length;++o){let e=F(i);s=M(a[o],e,r)}return s}function x(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,a)=>{let s={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};s.relativePath.startsWith("/")&&(g(s.relativePath.startsWith(r),'Absolute route path "'+s.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(r.length));let o=W([r,s.relativePath]),l=n.concat(s);e.children&&e.children.length>0&&(g(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),x(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:L(o,e.index),routesMeta:l})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of C(e.path))i(e,t,r);else i(e,t)}),t}function C(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(0===r.length)return i?[a,""]:[a];let s=C(r.join("/")),o=[];return o.push(...s.map(e=>""===e?a:[a,e].join("/"))),i&&o.push(...s),o.map(t=>e.startsWith("/")&&""===t?"/":t)}const I=/^:[\w-]+$/,N=3,A=2,R=1,D=10,O=-2,P=e=>"*"===e;function L(e,t){let n=e.split("/"),r=n.length;return n.some(P)&&(r+=O),t&&(r+=A),n.filter(e=>!P(e)).reduce((e,t)=>e+(I.test(t)?N:""===t?R:D),r)}function M(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},a="/",s=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===a?t:t.slice(a.length)||"/",u=j({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),h=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=j({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),s.push({params:i,pathname:W([a,u.pathname]),pathnameBase:q(W([a,u.pathnameBase])),route:h}),"/"!==u.pathnameBase&&(a=W([a,u.pathnameBase]))}return s}function j(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);y("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=o[n]||"";s=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:a,pathnameBase:s,pattern:e}}function F(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return y(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function U(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function V(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function z(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function B(e,t){let n=z(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function H(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=k(e):(i=p({},e),g(!i.pathname||!i.pathname.includes("?"),V("?","pathname","search",i)),g(!i.pathname||!i.pathname.includes("#"),V("#","pathname","hash",i)),g(!i.search||!i.search.includes("#"),V("#","search","hash",i)));let a,s=""===e||""===i.pathname,o=s?"/":i.pathname;if(null==o)a=n;else{let e=t.length-1;if(!r&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}a=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?k(e):e,a=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:a,search:G(r),hash:K(i)}}(i,a),c=o&&"/"!==o&&o.endsWith("/"),u=(s||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}const W=e=>e.join("/").replace(/\/\/+/g,"/"),q=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),G=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",K=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function Q(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const Y=["post","put","patch","delete"],J=(new Set(Y),["get",...Y]);new Set(J),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function X(){return X=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},X.apply(this,arguments)}const $=r.createContext(null);const Z=r.createContext(null);const ee=r.createContext(null);const te=r.createContext(null);const ne=r.createContext({outlet:null,matches:[],isDataRoute:!1});const re=r.createContext(null);function ie(){return null!=r.useContext(te)}function ae(){return ie()||g(!1),r.useContext(te).location}function se(e){r.useContext(ee).static||r.useLayoutEffect(e)}function oe(){let{isDataRoute:e}=r.useContext(ne);return e?function(){let{router:e}=ye(me.UseNavigateStable),t=be(ge.UseNavigateStable),n=r.useRef(!1);se(()=>{n.current=!0});let i=r.useCallback(function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,X({fromRouteId:t},i)))},[e,t]);return i}():function(){ie()||g(!1);let e=r.useContext($),{basename:t,future:n,navigator:i}=r.useContext(ee),{matches:a}=r.useContext(ne),{pathname:s}=ae(),o=JSON.stringify(B(a,n.v7_relativeSplatPath)),l=r.useRef(!1);se(()=>{l.current=!0});let c=r.useCallback(function(n,r){if(void 0===r&&(r={}),!l.current)return;if("number"===typeof n)return void i.go(n);let a=H(n,JSON.parse(o),s,"path"===r.relative);null==e&&"/"!==t&&(a.pathname="/"===a.pathname?t:W([t,a.pathname])),(r.replace?i.replace:i.push)(a,r.state,r)},[t,i,o,s,e]);return c}()}function le(e,t){let{relative:n}=void 0===t?{}:t,{future:i}=r.useContext(ee),{matches:a}=r.useContext(ne),{pathname:s}=ae(),o=JSON.stringify(B(a,i.v7_relativeSplatPath));return r.useMemo(()=>H(e,JSON.parse(o),s,"path"===n),[e,o,s,n])}function ce(e,t,n,i){ie()||g(!1);let{navigator:a}=r.useContext(ee),{matches:s}=r.useContext(ne),o=s[s.length-1],l=o?o.params:{},c=(o&&o.pathname,o?o.pathnameBase:"/");o&&o.route;let u,d=ae();if(t){var f;let e="string"===typeof t?k(t):t;"/"===c||(null==(f=e.pathname)?void 0:f.startsWith(c))||g(!1),u=e}else u=d;let p=u.pathname||"/",m=p;if("/"!==c){let e=c.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(e.length).join("/")}let y=S(e,{pathname:m});let v=pe(y&&y.map(e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:W([c,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:W([c,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),s,n,i);return t&&v?r.createElement(te.Provider,{value:{location:X({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:h.Pop}},v):v}function ue(){let e=function(){var e;let t=r.useContext(re),n=ve(ge.UseRouteError),i=be(ge.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[i]}(),t=Q(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:a},n):null,null)}const he=r.createElement(ue,null);class de extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?r.createElement(ne.Provider,{value:this.props.routeContext},r.createElement(re.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function fe(e){let{routeContext:t,match:n,children:i}=e,a=r.useContext($);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(ne.Provider,{value:t},i)}function pe(e,t,n,i){var a;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===i&&(i=null),null==e){var s;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(s=i)&&s.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let o=e,l=null==(a=n)?void 0:a.errors;if(null!=l){let e=o.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||g(!1),o=o.slice(0,Math.min(o.length,e+1))}let c=!1,u=-1;if(n&&i&&i.v7_partialHydration)for(let r=0;r<o.length;r++){let e=o[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=r),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){c=!0,o=u>=0?o.slice(0,u+1):[o[0]];break}}}return o.reduceRight((e,i,a)=>{let s,h=!1,d=null,f=null;var p;n&&(s=l&&i.route.id?l[i.route.id]:void 0,d=i.route.errorElement||he,c&&(u<0&&0===a?(p="route-fallback",!1||we[p]||(we[p]=!0),h=!0,f=null):u===a&&(h=!0,f=i.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,a+1)),g=()=>{let t;return t=s?d:h?f:i.route.Component?r.createElement(i.route.Component,null):i.route.element?i.route.element:e,r.createElement(fe,{match:i,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(i.route.ErrorBoundary||i.route.errorElement||0===a)?r.createElement(de,{location:n.location,revalidation:n.revalidation,component:d,error:s,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()},null)}var me=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(me||{}),ge=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ge||{});function ye(e){let t=r.useContext($);return t||g(!1),t}function ve(e){let t=r.useContext(Z);return t||g(!1),t}function be(e){let t=function(){let e=r.useContext(ne);return e||g(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||g(!1),n.route.id}const we={};function ke(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}i.startTransition;function Ee(e){let{to:t,replace:n,state:i,relative:a}=e;ie()||g(!1);let{future:s,static:o}=r.useContext(ee),{matches:l}=r.useContext(ne),{pathname:c}=ae(),u=oe(),h=H(t,B(l,s.v7_relativeSplatPath),c,"path"===a),d=JSON.stringify(h);return r.useEffect(()=>u(JSON.parse(d),{replace:n,state:i,relative:a}),[u,d,a,n,i]),null}function Te(e){g(!1)}function Se(e){let{basename:t="/",children:n=null,location:i,navigationType:a=h.Pop,navigator:s,static:o=!1,future:l}=e;ie()&&g(!1);let c=t.replace(/^\/*/,"/"),u=r.useMemo(()=>({basename:c,navigator:s,static:o,future:X({v7_relativeSplatPath:!1},l)}),[c,l,s,o]);"string"===typeof i&&(i=k(i));let{pathname:d="/",search:f="",hash:p="",state:m=null,key:y="default"}=i,v=r.useMemo(()=>{let e=U(d,c);return null==e?null:{location:{pathname:e,search:f,hash:p,state:m,key:y},navigationType:a}},[c,d,f,p,m,y,a]);return null==v?null:r.createElement(ee.Provider,{value:u},r.createElement(te.Provider,{children:n,value:v}))}function _e(e){let{children:t,location:n}=e;return ce(xe(t),n)}new Promise(()=>{});r.Component;function xe(e,t){void 0===t&&(t=[]);let n=[];return r.Children.forEach(e,(e,i)=>{if(!r.isValidElement(e))return;let a=[...t,i];if(e.type===r.Fragment)return void n.push.apply(n,xe(e.props.children,a));e.type!==Te&&g(!1),e.props.index&&e.props.children&&g(!1);let s={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=xe(e.props.children,a)),n.push(s)}),n}function Ce(){return Ce=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ce.apply(this,arguments)}function Ie(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Ne=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Ae=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"];try{window.__reactRouterVersion="6"}catch(Be){}const Re=r.createContext({isTransitioning:!1});new Map;const De=i.startTransition;f.flushSync,i.useId;function Oe(e){let{basename:t,children:n,future:i,window:a}=e,s=r.useRef();var o;null==s.current&&(s.current=(void 0===(o={window:a,v5Compat:!0})&&(o={}),E(function(e,t){let{pathname:n,search:r,hash:i}=e.location;return b("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:w(t)},null,o)));let l=s.current,[c,u]=r.useState({action:l.action,location:l.location}),{v7_startTransition:h}=i||{},d=r.useCallback(e=>{h&&De?De(()=>u(e)):u(e)},[u,h]);return r.useLayoutEffect(()=>l.listen(d),[l,d]),r.useEffect(()=>ke(i),[i]),r.createElement(Se,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:i})}const Pe="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Le=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Me=r.forwardRef(function(e,t){let n,{onClick:i,relative:a,reloadDocument:s,replace:o,state:l,target:c,to:u,preventScrollReset:h,viewTransition:d}=e,f=Ie(e,Ne),{basename:p}=r.useContext(ee),m=!1;if("string"===typeof u&&Le.test(u)&&(n=u,Pe))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=U(t.pathname,p);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:m=!0}catch(Be){}let y=function(e,t){let{relative:n}=void 0===t?{}:t;ie()||g(!1);let{basename:i,navigator:a}=r.useContext(ee),{hash:s,pathname:o,search:l}=le(e,{relative:n}),c=o;return"/"!==i&&(c="/"===o?i:W([i,o])),a.createHref({pathname:c,search:l,hash:s})}(u,{relative:a}),v=function(e,t){let{target:n,replace:i,state:a,preventScrollReset:s,relative:o,viewTransition:l}=void 0===t?{}:t,c=oe(),u=ae(),h=le(e,{relative:o});return r.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==i?i:w(u)===w(h);c(e,{replace:n,state:a,preventScrollReset:s,relative:o,viewTransition:l})}},[u,c,h,i,a,n,e,s,o,l])}(u,{replace:o,state:l,target:c,preventScrollReset:h,relative:a,viewTransition:d});return r.createElement("a",Ce({},f,{href:n||y,onClick:m||s?i:function(e){i&&i(e),e.defaultPrevented||v(e)},ref:t,target:c}))});const je=r.forwardRef(function(e,t){let{"aria-current":n="page",caseSensitive:i=!1,className:a="",end:s=!1,style:o,to:l,viewTransition:c,children:u}=e,h=Ie(e,Ae),d=le(l,{relative:h.relative}),f=ae(),p=r.useContext(Z),{navigator:m,basename:y}=r.useContext(ee),v=null!=p&&function(e,t){void 0===t&&(t={});let n=r.useContext(Re);null==n&&g(!1);let{basename:i}=Ve(Fe.useViewTransitionState),a=le(e,{relative:t.relative});if(!n.isTransitioning)return!1;let s=U(n.currentLocation.pathname,i)||n.currentLocation.pathname,o=U(n.nextLocation.pathname,i)||n.nextLocation.pathname;return null!=j(a.pathname,o)||null!=j(a.pathname,s)}(d)&&!0===c,b=m.encodeLocation?m.encodeLocation(d).pathname:d.pathname,w=f.pathname,k=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;i||(w=w.toLowerCase(),k=k?k.toLowerCase():null,b=b.toLowerCase()),k&&y&&(k=U(k,y)||k);const E="/"!==b&&b.endsWith("/")?b.length-1:b.length;let T,S=w===b||!s&&w.startsWith(b)&&"/"===w.charAt(E),_=null!=k&&(k===b||!s&&k.startsWith(b)&&"/"===k.charAt(b.length)),x={isActive:S,isPending:_,isTransitioning:v},C=S?n:void 0;T="function"===typeof a?a(x):[a,S?"active":null,_?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let I="function"===typeof o?o(x):o;return r.createElement(Me,Ce({},h,{"aria-current":C,className:T,ref:t,style:I,to:l,viewTransition:c}),"function"===typeof u?u(x):u)});var Fe,Ue;function Ve(e){let t=r.useContext($);return t||g(!1),t}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Fe||(Fe={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ue||(Ue={}));function ze(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}let Be={data:""},He=e=>"object"==typeof window?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||Be,We=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,qe=/\/\*[^]*?\*\/|  +/g,Ge=/\n+/g,Ke=(e,t)=>{let n="",r="",i="";for(let a in e){let s=e[a];"@"==a[0]?"i"==a[1]?n=a+" "+s+";":r+="f"==a[1]?Ke(s,a):a+"{"+Ke(s,"k"==a[1]?"":t)+"}":"object"==typeof s?r+=Ke(s,t?t.replace(/([^,])+/g,e=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)):a):null!=s&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Ke.p?Ke.p(a,s):a+":"+s+";")}return n+(t&&i?t+"{"+i+"}":i)+r},Qe={},Ye=e=>{if("object"==typeof e){let t="";for(let n in e)t+=n+Ye(e[n]);return t}return e},Je=(e,t,n,r,i)=>{let a=Ye(e),s=Qe[a]||(Qe[a]=(e=>{let t=0,n=11;for(;t<e.length;)n=101*n+e.charCodeAt(t++)>>>0;return"go"+n})(a));if(!Qe[s]){let t=a!==e?e:(e=>{let t,n,r=[{}];for(;t=We.exec(e.replace(qe,""));)t[4]?r.shift():t[3]?(n=t[3].replace(Ge," ").trim(),r.unshift(r[0][n]=r[0][n]||{})):r[0][t[1]]=t[2].replace(Ge," ").trim();return r[0]})(e);Qe[s]=Ke(i?{["@keyframes "+s]:t}:t,n?"":"."+s)}let o=n&&Qe.g?Qe.g:null;return n&&(Qe.g=Qe[s]),((e,t,n,r)=>{r?t.data=t.data.replace(r,e):-1===t.data.indexOf(e)&&(t.data=n?e+t.data:t.data+e)})(Qe[s],t,r,o),s};function Xe(e){let t=this||{},n=e.call?e(t.p):e;return Je(n.unshift?n.raw?((e,t,n)=>e.reduce((e,r,i)=>{let a=t[i];if(a&&a.call){let e=a(n),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;a=t?"."+t:e&&"object"==typeof e?e.props?"":Ke(e,""):!1===e?"":e}return e+r+(null==a?"":a)},""))(n,[].slice.call(arguments,1),t.p):n.reduce((e,n)=>Object.assign(e,n&&n.call?n(t.p):n),{}):n,He(t.target),t.g,t.o,t.k)}Xe.bind({g:1});let $e,Ze,et,tt=Xe.bind({k:1});function nt(e,t){let n=this||{};return function(){let r=arguments;function i(a,s){let o=Object.assign({},a),l=o.className||i.className;n.p=Object.assign({theme:Ze&&Ze()},o),n.o=/ *go\d+/.test(l),o.className=Xe.apply(n,r)+(l?" "+l:""),t&&(o.ref=s);let c=e;return e[0]&&(c=o.as||e,delete o.as),et&&c[0]&&et(o),$e(c,o)}return t?t(i):i}}var rt,it,at,st,ot,lt,ct,ut,ht,dt,ft,pt,mt,gt,yt,vt,bt=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,wt=(()=>{let e=0;return()=>(++e).toString()})(),kt=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),Et="default",Tt=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return u(u({},e),{},{toasts:[t.toast,...e.toasts].slice(0,n)});case 1:return u(u({},e),{},{toasts:e.toasts.map(e=>e.id===t.toast.id?u(u({},e),t.toast):e)});case 2:let{toast:r}=t;return Tt(e,{type:e.toasts.find(e=>e.id===r.id)?1:0,toast:r});case 3:let{toastId:i}=t;return u(u({},e),{},{toasts:e.toasts.map(e=>e.id===i||void 0===i?u(u({},e),{},{dismissed:!0,visible:!1}):e)});case 4:return void 0===t.toastId?u(u({},e),{},{toasts:[]}):u(u({},e),{},{toasts:e.toasts.filter(e=>e.id!==t.toastId)});case 5:return u(u({},e),{},{pausedAt:t.time});case 6:let a=t.time-(e.pausedAt||0);return u(u({},e),{},{pausedAt:void 0,toasts:e.toasts.map(e=>u(u({},e),{},{pauseDuration:e.pauseDuration+a}))})}},St=[],_t={toasts:[],pausedAt:void 0,settings:{toastLimit:20}},xt={},Ct=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Et;xt[t]=Tt(xt[t]||_t,e),St.forEach(e=>{let[n,r]=e;n===t&&r(xt[t])})},It=e=>Object.keys(xt).forEach(t=>Ct(e,t)),Nt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et;return t=>{Ct(t,e)}},At={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Rt=e=>(t,n)=>{let r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",n=arguments.length>2?arguments[2]:void 0;return u(u({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0},n),{},{id:(null==n?void 0:n.id)||wt()})}(t,e,n);return Nt(r.toasterId||(e=>Object.keys(xt).find(t=>xt[t].toasts.some(t=>t.id===e)))(r.id))({type:2,toast:r}),r.id},Dt=(e,t)=>Rt("blank")(e,t);Dt.error=Rt("error"),Dt.success=Rt("success"),Dt.loading=Rt("loading"),Dt.custom=Rt("custom"),Dt.dismiss=(e,t)=>{let n={type:3,toastId:e};t?Nt(t)(n):It(n)},Dt.dismissAll=e=>Dt.dismiss(void 0,e),Dt.remove=(e,t)=>{let n={type:4,toastId:e};t?Nt(t)(n):It(n)},Dt.removeAll=e=>Dt.remove(void 0,e),Dt.promise=(e,t,n)=>{let r=Dt.loading(t.loading,u(u({},n),null==n?void 0:n.loading));return"function"==typeof e&&(e=e()),e.then(e=>{let i=t.success?bt(t.success,e):void 0;return i?Dt.success(i,u(u({id:r},n),null==n?void 0:n.success)):Dt.dismiss(r),e}).catch(e=>{let i=t.error?bt(t.error,e):void 0;i?Dt.error(i,u(u({id:r},n),null==n?void 0:n.error)):Dt.dismiss(r)}),e};var Ot=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",{toasts:n,pausedAt:i}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Et,[n,i]=(0,r.useState)(xt[t]||_t),a=(0,r.useRef)(xt[t]);(0,r.useEffect)(()=>(a.current!==xt[t]&&i(xt[t]),St.push([t,i]),()=>{let e=St.findIndex(e=>{let[n]=e;return n===t});e>-1&&St.splice(e,1)}),[t]);let s=n.toasts.map(t=>{var n,r,i;return u(u(u(u({},e),e[t.type]),t),{},{removeDelay:t.removeDelay||(null==(n=e[t.type])?void 0:n.removeDelay)||(null==e?void 0:e.removeDelay),duration:t.duration||(null==(r=e[t.type])?void 0:r.duration)||(null==e?void 0:e.duration)||At[t.type],style:u(u(u({},e.style),null==(i=e[t.type])?void 0:i.style),t.style)})});return u(u({},n),{},{toasts:s})}(e,t),a=(0,r.useRef)(new Map).current,s=(0,r.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;if(a.has(e))return;let n=setTimeout(()=>{a.delete(e),o({type:4,toastId:e})},t);a.set(e,n)},[]);(0,r.useEffect)(()=>{if(i)return;let e=Date.now(),r=n.map(n=>{if(n.duration===1/0)return;let r=(n.duration||0)+n.pauseDuration-(e-n.createdAt);if(!(r<0))return setTimeout(()=>Dt.dismiss(n.id,t),r);n.visible&&Dt.dismiss(n.id)});return()=>{r.forEach(e=>e&&clearTimeout(e))}},[n,i,t]);let o=(0,r.useCallback)(Nt(t),[t]),l=(0,r.useCallback)(()=>{o({type:5,time:Date.now()})},[o]),c=(0,r.useCallback)((e,t)=>{o({type:1,toast:{id:e,height:t}})},[o]),h=(0,r.useCallback)(()=>{i&&o({type:6,time:Date.now()})},[i,o]),d=(0,r.useCallback)((e,t)=>{let{reverseOrder:r=!1,gutter:i=8,defaultPosition:a}=t||{},s=n.filter(t=>(t.position||a)===(e.position||a)&&t.height),o=s.findIndex(t=>t.id===e.id),l=s.filter((e,t)=>t<o&&e.visible).length;return s.filter(e=>e.visible).slice(...r?[l+1]:[0,l]).reduce((e,t)=>e+(t.height||0)+i,0)},[n]);return(0,r.useEffect)(()=>{n.forEach(e=>{if(e.dismissed)s(e.id,e.removeDelay);else{let t=a.get(e.id);t&&(clearTimeout(t),a.delete(e.id))}})},[n,s]),{toasts:n,handlers:{updateHeight:c,startPause:l,endPause:h,calculateOffset:d}}},Pt=tt(rt||(rt=ze(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n transform: scale(1) rotate(45deg);\n  opacity: 1;\n}"]))),Lt=tt(it||(it=ze(["\nfrom {\n  transform: scale(0);\n  opacity: 0;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),Mt=tt(at||(at=ze(["\nfrom {\n  transform: scale(0) rotate(90deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(90deg);\n\topacity: 1;\n}"]))),jt=nt("div")(st||(st=ze(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n\n  &:after,\n  &:before {\n    content: '';\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 150ms;\n    position: absolute;\n    border-radius: 3px;\n    opacity: 0;\n    background: ",";\n    bottom: 9px;\n    left: 4px;\n    height: 2px;\n    width: 12px;\n  }\n\n  &:before {\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 180ms;\n    transform: rotate(90deg);\n  }\n"])),e=>e.primary||"#ff4b4b",Pt,Lt,e=>e.secondary||"#fff",Mt),Ft=tt(ot||(ot=ze(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]))),Ut=nt("div")(lt||(lt=ze(["\n  width: 12px;\n  height: 12px;\n  box-sizing: border-box;\n  border: 2px solid;\n  border-radius: 100%;\n  border-color: ",";\n  border-right-color: ",";\n  animation: "," 1s linear infinite;\n"])),e=>e.secondary||"#e0e0e0",e=>e.primary||"#616161",Ft),Vt=tt(ct||(ct=ze(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(45deg);\n\topacity: 1;\n}"]))),zt=tt(ut||(ut=ze(["\n0% {\n\theight: 0;\n\twidth: 0;\n\topacity: 0;\n}\n40% {\n  height: 0;\n\twidth: 6px;\n\topacity: 1;\n}\n100% {\n  opacity: 1;\n  height: 10px;\n}"]))),Bt=nt("div")(ht||(ht=ze(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n  &:after {\n    content: '';\n    box-sizing: border-box;\n    animation: "," 0.2s ease-out forwards;\n    opacity: 0;\n    animation-delay: 200ms;\n    position: absolute;\n    border-right: 2px solid;\n    border-bottom: 2px solid;\n    border-color: ",";\n    bottom: 6px;\n    left: 6px;\n    height: 10px;\n    width: 6px;\n  }\n"])),e=>e.primary||"#61d345",Vt,zt,e=>e.secondary||"#fff"),Ht=nt("div")(dt||(dt=ze(["\n  position: absolute;\n"]))),Wt=nt("div")(ft||(ft=ze(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 20px;\n  min-height: 20px;\n"]))),qt=tt(pt||(pt=ze(["\nfrom {\n  transform: scale(0.6);\n  opacity: 0.4;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),Gt=nt("div")(mt||(mt=ze(["\n  position: relative;\n  transform: scale(0.6);\n  opacity: 0.4;\n  min-width: 20px;\n  animation: "," 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n"])),qt),Kt=e=>{let{toast:t}=e,{icon:n,type:i,iconTheme:a}=t;return void 0!==n?"string"==typeof n?r.createElement(Gt,null,n):n:"blank"===i?null:r.createElement(Wt,null,r.createElement(Ut,u({},a)),"loading"!==i&&r.createElement(Ht,null,"error"===i?r.createElement(jt,u({},a)):r.createElement(Bt,u({},a))))},Qt=e=>"\n0% {transform: translate3d(0,".concat(-200*e,"%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n"),Yt=e=>"\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,".concat(-150*e,"%,-1px) scale(.6); opacity:0;}\n"),Jt=nt("div")(gt||(gt=ze(["\n  display: flex;\n  align-items: center;\n  background: #fff;\n  color: #363636;\n  line-height: 1.3;\n  will-change: transform;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);\n  max-width: 350px;\n  pointer-events: auto;\n  padding: 8px 10px;\n  border-radius: 8px;\n"]))),Xt=nt("div")(yt||(yt=ze(["\n  display: flex;\n  justify-content: center;\n  margin: 4px 10px;\n  color: inherit;\n  flex: 1 1 auto;\n  white-space: pre-line;\n"]))),$t=r.memo(e=>{let{toast:t,position:n,style:i,children:a}=e,s=t.height?((e,t)=>{let n=e.includes("top")?1:-1,[r,i]=kt()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[Qt(n),Yt(n)];return{animation:t?"".concat(tt(r)," 0.35s cubic-bezier(.21,1.02,.73,1) forwards"):"".concat(tt(i)," 0.4s forwards cubic-bezier(.06,.71,.55,1)")}})(t.position||n||"top-center",t.visible):{opacity:0},o=r.createElement(Kt,{toast:t}),l=r.createElement(Xt,u({},t.ariaProps),bt(t.message,t));return r.createElement(Jt,{className:t.className,style:u(u(u({},s),i),t.style)},"function"==typeof a?a({icon:o,message:l}):r.createElement(r.Fragment,null,o,l))});!function(e,t,n,r){Ke.p=t,$e=e,Ze=n,et=r}(r.createElement);var Zt=e=>{let{id:t,className:n,style:i,onHeightUpdate:a,children:s}=e,o=r.useCallback(e=>{if(e){let n=()=>{let n=e.getBoundingClientRect().height;a(t,n)};n(),new MutationObserver(n).observe(e,{subtree:!0,childList:!0,characterData:!0})}},[t,a]);return r.createElement("div",{ref:o,className:n,style:i},s)},en=Xe(vt||(vt=ze(["\n  z-index: 9999;\n  > * {\n    pointer-events: auto;\n  }\n"]))),tn=e=>{let{reverseOrder:t,position:n="top-center",toastOptions:i,gutter:a,children:s,toasterId:o,containerStyle:l,containerClassName:c}=e,{toasts:h,handlers:d}=Ot(i,o);return r.createElement("div",{"data-rht-toaster":o||"",style:u({position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none"},l),className:c,onMouseEnter:d.startPause,onMouseLeave:d.endPause},h.map(e=>{let i=e.position||n,o=((e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return u(u({left:0,right:0,display:"flex",position:"absolute",transition:kt()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:"translateY(".concat(t*(n?1:-1),"px)")},r),i)})(i,d.calculateOffset(e,{reverseOrder:t,gutter:a,defaultPosition:n}));return r.createElement(Zt,{id:e.id,key:e.id,onHeightUpdate:d.updateHeight,className:e.visible?en:"",style:o},"custom"===e.type?bt(e.message,e):s?s(e):r.createElement($t,{toast:e,position:i}))}))},nn=Dt,rn={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},an=r.createContext&&r.createContext(rn),sn=function(){return sn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},sn.apply(this,arguments)},on=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function ln(e){return e&&e.map(function(e,t){return r.createElement(e.tag,sn({key:t},e.attr),ln(e.child))})}function cn(e){return function(t){return r.createElement(un,sn({attr:sn({},e.attr)},t),ln(e.child))}}function un(e){var t=function(t){var n,i=e.attr,a=e.size,s=e.title,o=on(e,["attr","size","title"]),l=a||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),r.createElement("svg",sn({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,o,{className:n,style:sn(sn({color:e.color||t.color},t.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&r.createElement("title",null,s),e.children)};return void 0!==an?r.createElement(an.Consumer,null,function(e){return t(e)}):t(rn)}function hn(e){return cn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}},{tag:"path",attr:{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"}}]})(e)}function dn(e){return cn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"}},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"}},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"}}]})(e)}function fn(e){return cn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 8h1a4 4 0 0 1 0 8h-1"}},{tag:"path",attr:{d:"M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z"}},{tag:"line",attr:{x1:"6",y1:"1",x2:"6",y2:"4"}},{tag:"line",attr:{x1:"10",y1:"1",x2:"10",y2:"4"}},{tag:"line",attr:{x1:"14",y1:"1",x2:"14",y2:"4"}}]})(e)}function pn(e){return cn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"}},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"}}]})(e)}function mn(e){return cn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"}}]})(e)}function gn(e){return cn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"}}]})(e)}function yn(e){return cn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"}},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"}}]})(e)}function vn(e){return cn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"}},{tag:"polyline",attr:{points:"7 3 7 8 15 8"}}]})(e)}function bn(e){return cn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"}},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}}]})(e)}function wn(e){return cn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"}},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"}}]})(e)}function kn(e){return cn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"}},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"}},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"}}]})(e)}function En(e){return cn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"}},{tag:"polyline",attr:{points:"17 6 23 6 23 12"}}]})(e)}function Tn(e){return cn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"}},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"}},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"}}]})(e)}function Sn(e){return cn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"}},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"}}]})(e)}const _n="#1E88E5",xn="#E3F2FD",Cn="#1565C0",In="#388E3C",Nn="#F57C00",An="#D32F2F",Rn="#1976D2",Dn="#263238",On="#546E7A",Pn="#FFFFFF",Ln="#9E9E9E",Mn="#F5F5F5",jn="#E0E0E0",Fn=20,Un=15,Vn=10,zn=8,Bn=6,Hn=12,Wn=28,qn=20,Gn=18,Kn=14,Qn="'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif",Yn=500,Jn=700,Xn={boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"},$n={boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)"},Zn={boxShadow:"0 8px 16px rgba(0, 0, 0, 0.1)"},er="768px";var tr=n(579);const nr={sidebar:u({height:"100vh",backgroundColor:Pn,borderRight:"1px solid ".concat(jn),display:"flex",flexDirection:"column",position:"fixed",left:0,top:0,transition:"transform 0.3s ease-in-out"},$n),logo:{padding:Fn,borderBottom:"1px solid ".concat(jn),backgroundColor:_n,display:"flex",alignItems:"center",justifyContent:"space-between"},logoText:{color:Pn,fontSize:qn,fontWeight:Jn,margin:0,fontFamily:Qn},closeButton:{background:"none",border:"none",color:Pn,cursor:"pointer",padding:"4px",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center"},nav:{flex:1,padding:Vn,overflowY:"auto"},navItem:{display:"flex",alignItems:"center",padding:"".concat(Vn,"px ").concat(Fn,"px"),marginBottom:zn,borderRadius:Bn,textDecoration:"none",color:On,transition:"all 0.2s ease",fontFamily:Qn,fontSize:Kn,fontWeight:Yn,minHeight:"48px"},navItemActive:{backgroundColor:xn,color:_n},navIcon:{marginRight:Vn,flexShrink:0},navLabel:{fontSize:Kn,fontWeight:Yn}},rr=e=>{let{isOpen:t,isMobile:n,onClose:r,onToggle:i}=e;const a=[{path:"/",icon:gn,label:"Dashboard"},{path:"/teachers",icon:Tn,label:"Teachers"},{path:"/attendance",icon:dn,label:"Attendance"},{path:"/calculator",icon:pn,label:"Friday Allowance"},{path:"/students",icon:hn,label:"Students"},{path:"/canteen",icon:fn,label:"Canteen"},{path:"/settings",icon:wn,label:"Settings"}],s=()=>{n&&r()};return(0,tr.jsxs)("div",{style:u(u({},nr.sidebar),{},{transform:n?t?"translateX(0)":"translateX(-100%)":"translateX(0)",width:n?"280px":"250px",zIndex:1e3}),children:[(0,tr.jsxs)("div",{style:nr.logo,children:[(0,tr.jsx)("h2",{style:nr.logoText,children:"School Admin"}),n&&(0,tr.jsx)("button",{onClick:r,style:nr.closeButton,"aria-label":"Close menu",children:(0,tr.jsx)(Sn,{size:20})})]}),(0,tr.jsx)("nav",{style:nr.nav,children:a.map(e=>(0,tr.jsxs)(je,{to:e.path,onClick:s,style:e=>{let{isActive:t}=e;return u(u({},nr.navItem),t?nr.navItemActive:{})},children:[(0,tr.jsx)(e.icon,{size:20,style:nr.navIcon}),(0,tr.jsx)("span",{style:nr.navLabel,children:e.label})]},e.path))})]})},ir={container:{display:"flex",minHeight:"100vh",backgroundColor:Mn,position:"relative"},main:{flex:1,padding:Fn,minHeight:"100vh",width:"100%",boxSizing:"border-box"},mobileHeader:{position:"fixed",top:0,left:0,right:0,height:"60px",backgroundColor:Pn,borderBottom:"1px solid ".concat(jn),display:"flex",alignItems:"center",padding:"0 ".concat(Fn,"px"),zIndex:999,boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"},menuButton:{background:"none",border:"none",padding:"8px",borderRadius:"4px",cursor:"pointer",color:Dn,display:"flex",alignItems:"center",justifyContent:"center",marginRight:Vn},mobileTitle:{fontSize:"18px",fontWeight:"600",color:Dn,margin:0},overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:998}},ar=e=>{let{children:t}=e;const[n,i]=(0,r.useState)(!1),[a,s]=(0,r.useState)(!1);(0,r.useEffect)(()=>{const e=()=>{s(window.innerWidth<=parseInt(er)),window.innerWidth>parseInt(er)&&i(!1)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);const o=()=>{i(!n)},l=()=>{a&&i(!1)};return(0,tr.jsxs)("div",{style:ir.container,children:[(0,tr.jsx)(rr,{isOpen:n,isMobile:a,onClose:l,onToggle:o}),a&&(0,tr.jsxs)("div",{style:ir.mobileHeader,children:[(0,tr.jsx)("button",{onClick:o,style:ir.menuButton,"aria-label":"Toggle menu",children:(0,tr.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,tr.jsx)("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),(0,tr.jsx)("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),(0,tr.jsx)("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})}),(0,tr.jsx)("h1",{style:ir.mobileTitle,children:"School Admin"})]}),a&&n&&(0,tr.jsx)("div",{style:ir.overlay,onClick:l}),(0,tr.jsx)("main",{style:u(u({},ir.main),{},{marginLeft:a?0:"250px",paddingTop:a?"70px":Fn}),children:t})]})},sr=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},or={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],a=i+1<e.length,s=a?e[i+1]:0,o=i+2<e.length,l=o?e[i+2]:0,c=t>>2,u=(3&t)<<4|s>>4;let h=(15&s)<<2|l>>6,d=63&l;o||(d=64,a||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(sr(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){const a=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{const a=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&a)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const s=i<e.length?n[e.charAt(i)]:64;++i;const o=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==a||null==s||null==o)throw new lr;const l=t<<2|a>>4;if(r.push(l),64!==s){const e=a<<4&240|s>>2;if(r.push(e),64!==o){const e=s<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class lr extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const cr=function(e){return function(e){const t=sr(e);return or.encodeByteArray(t,!0)}(e).replace(/\./g,"")},ur=function(e){try{return or.decodeString(e,!0)}catch(Be){console.error("base64Decode failed: ",Be)}return null};const hr=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,dr=()=>{try{return hr()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/school-management-system",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(Be){return}const t=e&&ur(e[1]);return t&&JSON.parse(t)})()}catch(Be){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(Be))}},fr=e=>{var t,n;return null===(n=null===(t=dr())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},pr=e=>{const t=fr(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},mr=()=>{var e;return null===(e=dr())||void 0===e?void 0:e.config},gr=e=>{var t;return null===(t=dr())||void 0===t?void 0:t["_".concat(e)]};class yr{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function vr(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[cr(JSON.stringify({alg:"none",type:"JWT"})),cr(JSON.stringify(a)),""].join(".")}function br(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function wr(){try{return"object"===typeof indexedDB}catch(Be){return!1}}class kr extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,kr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Er.prototype.create)}}class Er{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Tr,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new kr(n,a,t)}}const Tr=/\{\$([^}]+)}/g;function Sr(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],a=t[i];if(_r(n)&&_r(a)){if(!Sr(n,a))return!1}else if(n!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function _r(e){return null!==e&&"object"===typeof e}function xr(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Cr(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function Ir(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class Nr{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Ar),void 0===r.error&&(r.error=Ar),void 0===r.complete&&(r.complete=Ar);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(Be){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(Be){"undefined"!==typeof console&&console.error&&console.error(Be)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ar(){}function Rr(e){return e&&e._delegate?e._delegate:e}class Dr{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Or="[DEFAULT]";class Pr{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new yr;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(Be){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(Be){if(r)return null;throw Be}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Or})}catch(Be){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(Be){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Or;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Or;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Or;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,a]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&a.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===Or?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(a){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Or;return this.component?this.component.multipleInstances?e:Or:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Lr{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Pr(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Mr=[];var jr;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(jr||(jr={}));const Fr={debug:jr.DEBUG,verbose:jr.VERBOSE,info:jr.INFO,warn:jr.WARN,error:jr.ERROR,silent:jr.SILENT},Ur=jr.INFO,Vr={[jr.DEBUG]:"log",[jr.VERBOSE]:"log",[jr.INFO]:"info",[jr.WARN]:"warn",[jr.ERROR]:"error"},zr=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Vr[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,a=new Array(i>2?i-2:0),s=2;s<i;s++)a[s-2]=arguments[s];console[r]("[".concat(n,"]  ").concat(e.name,":"),...a)};class Br{constructor(e){this.name=e,this._logLevel=Ur,this._logHandler=zr,this._userLogHandler=null,Mr.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in jr))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Fr[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,jr.DEBUG,...t),this._logHandler(this,jr.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,jr.VERBOSE,...t),this._logHandler(this,jr.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,jr.INFO,...t),this._logHandler(this,jr.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,jr.WARN,...t),this._logHandler(this,jr.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,jr.ERROR,...t),this._logHandler(this,jr.ERROR,...t)}}let Hr,Wr;const qr=new WeakMap,Gr=new WeakMap,Kr=new WeakMap,Qr=new WeakMap,Yr=new WeakMap;let Jr={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Gr.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Kr.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zr(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Xr(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Wr||(Wr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(ei(this),n),Zr(qr.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Zr(e.apply(ei(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const a=e.call(ei(this),t,...r);return Kr.set(a,t.sort?t.sort():[t]),Zr(a)}}function $r(e){return"function"===typeof e?Xr(e):(e instanceof IDBTransaction&&function(e){if(Gr.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=()=>{t(),r()},a=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)});Gr.set(e,t)}(e),t=e,(Hr||(Hr=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,Jr):e);var t}function Zr(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",a)},i=()=>{t(Zr(e.result)),r()},a=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)});return t.then(t=>{t instanceof IDBCursor&&qr.set(t,e)}).catch(()=>{}),Yr.set(t,e),t}(e);if(Qr.has(e))return Qr.get(e);const t=$r(e);return t!==e&&(Qr.set(e,t),Yr.set(t,e)),t}const ei=e=>Yr.get(e);const ti=["get","getKey","getAll","getAllKeys","count"],ni=["put","add","delete","clear"],ri=new Map;function ii(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(ri.get(t))return ri.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=ni.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!ti.includes(n))return;const a=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let a=t.store;for(var s=arguments.length,o=new Array(s>1?s-1:0),l=1;l<s;l++)o[l-1]=arguments[l];return r&&(a=a.index(o.shift())),(await Promise.all([a[n](...o),i&&t.done]))[0]};return ri.set(t,a),a}Jr=(e=>u(u({},e),{},{get:(t,n,r)=>ii(t,n)||e.get(t,n,r),has:(t,n)=>!!ii(t,n)||e.has(t,n)}))(Jr);class ai{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const si="@firebase/app",oi="0.9.13",li=new Br("@firebase/app"),ci="@firebase/app-compat",ui="@firebase/analytics-compat",hi="@firebase/analytics",di="@firebase/app-check-compat",fi="@firebase/app-check",pi="@firebase/auth",mi="@firebase/auth-compat",gi="@firebase/database",yi="@firebase/database-compat",vi="@firebase/functions",bi="@firebase/functions-compat",wi="@firebase/installations",ki="@firebase/installations-compat",Ei="@firebase/messaging",Ti="@firebase/messaging-compat",Si="@firebase/performance",_i="@firebase/performance-compat",xi="@firebase/remote-config",Ci="@firebase/remote-config-compat",Ii="@firebase/storage",Ni="@firebase/storage-compat",Ai="@firebase/firestore",Ri="@firebase/firestore-compat",Di="firebase",Oi="[DEFAULT]",Pi={[si]:"fire-core",[ci]:"fire-core-compat",[hi]:"fire-analytics",[ui]:"fire-analytics-compat",[fi]:"fire-app-check",[di]:"fire-app-check-compat",[pi]:"fire-auth",[mi]:"fire-auth-compat",[gi]:"fire-rtdb",[yi]:"fire-rtdb-compat",[vi]:"fire-fn",[bi]:"fire-fn-compat",[wi]:"fire-iid",[ki]:"fire-iid-compat",[Ei]:"fire-fcm",[Ti]:"fire-fcm-compat",[Si]:"fire-perf",[_i]:"fire-perf-compat",[xi]:"fire-rc",[Ci]:"fire-rc-compat",[Ii]:"fire-gcs",[Ni]:"fire-gcs-compat",[Ai]:"fire-fst",[Ri]:"fire-fst-compat","fire-js":"fire-js",[Di]:"fire-js-all"},Li=new Map,Mi=new Map;function ji(e,t){try{e.container.addComponent(t)}catch(Be){li.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),Be)}}function Fi(e){const t=e.name;if(Mi.has(t))return li.debug("There were multiple attempts to register component ".concat(t,".")),!1;Mi.set(t,e);for(const n of Li.values())ji(n,e);return!0}function Ui(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const Vi=new Er("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class zi{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Dr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vi.create("app-deleted",{appName:this._name})}}const Bi="9.23.0";function Hi(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Oi,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Vi.create("bad-app-name",{appName:String(i)});if(n||(n=mr()),!n)throw Vi.create("no-options");const a=Li.get(i);if(a){if(Sr(n,a.options)&&Sr(r,a.config))return a;throw Vi.create("duplicate-app",{appName:i})}const s=new Lr(i);for(const l of Mi.values())s.addComponent(l);const o=new zi(n,r,s);return Li.set(i,o),o}function Wi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oi;const t=Li.get(e);if(!t&&e===Oi&&mr())return Hi();if(!t)throw Vi.create("no-app",{appName:e});return t}function qi(e,t,n){var r;let i=null!==(r=Pi[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const a=i.match(/\s|\//),s=t.match(/\s|\//);if(a||s){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&s&&e.push("and"),s&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void li.warn(e.join(" "))}Fi(new Dr("".concat(i,"-version"),()=>({library:i,version:t}),"VERSION"))}const Gi="firebase-heartbeat-store";let Ki=null;function Qi(){return Ki||(Ki=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),o=Zr(s);return r&&s.addEventListener("upgradeneeded",e=>{r(Zr(s.result),e.oldVersion,e.newVersion,Zr(s.transaction),e)}),n&&s.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),o.then(e=>{a&&e.addEventListener("close",()=>a()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(Gi)}}).catch(e=>{throw Vi.create("idb-open",{originalErrorMessage:e.message})})),Ki}async function Yi(e,t){try{const n=(await Qi()).transaction(Gi,"readwrite"),r=n.objectStore(Gi);await r.put(t,Ji(e)),await n.done}catch(Be){if(Be instanceof kr)li.warn(Be.message);else{const t=Vi.create("idb-set",{originalErrorMessage:null===Be||void 0===Be?void 0:Be.message});li.warn(t.message)}}}function Ji(e){return"".concat(e.name,"!").concat(e.options.appId)}class Xi{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Zi(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=$i();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some(e=>e.date===t))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=$i(),{heartbeatsToSend:t,unsentEntries:n}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),ea(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ea(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=cr(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function $i(){return(new Date).toISOString().substring(0,10)}class Zi{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!wr()&&new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=await Qi();return await t.transaction(Gi).objectStore(Gi).get(Ji(e))}catch(Be){if(Be instanceof kr)li.warn(Be.message);else{const t=Vi.create("idb-get",{originalErrorMessage:null===Be||void 0===Be?void 0:Be.message});li.warn(t.message)}}}(this.app);return e||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Yi(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Yi(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function ea(e){return cr(JSON.stringify({version:2,heartbeats:e})).length}var ta;ta="",Fi(new Dr("platform-logger",e=>new ai(e),"PRIVATE")),Fi(new Dr("heartbeat",e=>new Xi(e),"PRIVATE")),qi(si,oi,ta),qi(si,oi,"esm2017"),qi("fire-js","");var na,ra="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},ia={},aa=aa||{},sa=ra||self;function oa(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function la(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var ca="closure_uid_"+(1e9*Math.random()>>>0),ua=0;function ha(e,t,n){return e.call.apply(e.bind,arguments)}function da(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function fa(e,t,n){return(fa=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ha:da).apply(null,arguments)}function pa(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function ma(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function ga(){this.s=this.s,this.o=this.o}ga.prototype.s=!1,ga.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function(e){Object.prototype.hasOwnProperty.call(e,ca)&&e[ca]||(e[ca]=++ua)}(this)},ga.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ya=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function va(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function ba(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(oa(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function wa(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}wa.prototype.h=function(){this.defaultPrevented=!0};var ka=function(){if(!sa.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{sa.addEventListener("test",()=>{},t),sa.removeEventListener("test",()=>{},t)}catch(Qe){}return e}();function Ea(e){return/^[\s\xa0]*$/.test(e)}function Ta(){var e=sa.navigator;return e&&(e=e.userAgent)?e:""}function Sa(e){return-1!=Ta().indexOf(e)}function _a(e){return _a[" "](e),e}_a[" "]=function(){};var xa,Ca,Ia=Sa("Opera"),Na=Sa("Trident")||Sa("MSIE"),Aa=Sa("Edge"),Ra=Aa||Na,Da=Sa("Gecko")&&!(-1!=Ta().toLowerCase().indexOf("webkit")&&!Sa("Edge"))&&!(Sa("Trident")||Sa("MSIE"))&&!Sa("Edge"),Oa=-1!=Ta().toLowerCase().indexOf("webkit")&&!Sa("Edge");function Pa(){var e=sa.document;return e?e.documentMode:void 0}e:{var La="",Ma=function(){var e=Ta();return Da?/rv:([^\);]+)(\)|;)/.exec(e):Aa?/Edge\/([\d\.]+)/.exec(e):Na?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Oa?/WebKit\/(\S+)/.exec(e):Ia?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Ma&&(La=Ma?Ma[1]:""),Na){var ja=Pa();if(null!=ja&&ja>parseFloat(La)){xa=String(ja);break e}}xa=La}if(sa.document&&Na){var Fa=Pa();Ca=Fa||(parseInt(xa,10)||void 0)}else Ca=void 0;var Ua=Ca;function Va(e,t){if(wa.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Da){e:{try{_a(t.nodeName);var i=!0;break e}catch(Ze){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:za[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Va.$.h.call(this)}}ma(Va,wa);var za={2:"touch",3:"pen",4:"mouse"};Va.prototype.h=function(){Va.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Ba="closure_listenable_"+(1e6*Math.random()|0),Ha=0;function Wa(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Ha,this.fa=this.ia=!1}function qa(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Ga(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function Ka(e){const t={};for(const n in e)t[n]=e[n];return t}const Qa="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ya(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<Qa.length;t++)n=Qa[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Ja(e){this.src=e,this.g={},this.h=0}function Xa(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=ya(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(qa(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function $a(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.fa&&a.listener==t&&a.capture==!!n&&a.la==r)return i}return-1}Ja.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var s=$a(e,t,r,i);return-1<s?(t=e[s],n||(t.ia=!1)):((t=new Wa(t,this.src,a,!!r,i)).ia=n,e.push(t)),t};var Za="closure_lm_"+(1e6*Math.random()|0),es={};function ts(e,t,n,r,i){if(r&&r.once)return rs(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)ts(e,t[a],n,r,i);return null}return n=us(n),e&&e[Ba]?e.O(t,n,la(r)?!!r.capture:!!r,i):ns(e,t,n,!1,r,i)}function ns(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var s=la(i)?!!i.capture:!!i,o=ls(e);if(o||(e[Za]=o=new Ja(e)),(n=o.add(t,n,r,s,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=os;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)ka||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(ss(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function rs(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)rs(e,t[a],n,r,i);return null}return n=us(n),e&&e[Ba]?e.P(t,n,la(r)?!!r.capture:!!r,i):ns(e,t,n,!0,r,i)}function is(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)is(e,t[a],n,r,i);else r=la(r)?!!r.capture:!!r,n=us(n),e&&e[Ba]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=$a(a=e.g[t],n,r,i))&&(qa(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=ls(e))&&(t=e.g[t.toString()],e=-1,t&&(e=$a(t,n,r,i)),(n=-1<e?t[e]:null)&&as(n))}function as(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Ba])Xa(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ss(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ls(t))?(Xa(n,e),0==n.h&&(n.src=null,t[Za]=null)):qa(e)}}}function ss(e){return e in es?es[e]:es[e]="on"+e}function os(e,t){if(e.fa)e=!0;else{t=new Va(t,this);var n=e.listener,r=e.la||e.src;e.ia&&as(e),e=n.call(r,t)}return e}function ls(e){return(e=e[Za])instanceof Ja?e:null}var cs="__closure_events_fn_"+(1e9*Math.random()>>>0);function us(e){return"function"===typeof e?e:(e[cs]||(e[cs]=function(t){return e.handleEvent(t)}),e[cs])}function hs(){ga.call(this),this.i=new Ja(this),this.S=this,this.J=null}function ds(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new wa(t,e);else if(t instanceof wa)t.target=t.target||e;else{var i=t;Ya(t=new wa(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var s=t.g=n[a];i=fs(s,r,!0,t)&&i}if(i=fs(s=t.g=e,r,!0,t)&&i,i=fs(s,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=fs(s=t.g=n[a],r,!1,t)&&i}function fs(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var s=t[a];if(s&&!s.fa&&s.capture==n){var o=s.listener,l=s.la||s.src;s.ia&&Xa(e.i,s),i=!1!==o.call(l,r)&&i}}return i&&!r.defaultPrevented}ma(hs,ga),hs.prototype[Ba]=!0,hs.prototype.removeEventListener=function(e,t,n,r){is(this,e,t,n,r)},hs.prototype.N=function(){if(hs.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)qa(n[r]);delete t.g[e],t.h--}}this.J=null},hs.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},hs.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var ps=sa.JSON.stringify;function ms(){var e=Es;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var gs=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new ys,e=>e.reset());class ys{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function vs(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function bs(e){sa.setTimeout(()=>{throw e},0)}let ws,ks=!1,Es=new class{constructor(){this.h=this.g=null}add(e,t){const n=gs.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},Ts=()=>{const e=sa.Promise.resolve(void 0);ws=()=>{e.then(Ss)}};var Ss=()=>{for(var e;e=ms();){try{e.h.call(e.g)}catch(Qe){bs(Qe)}var t=gs;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}ks=!1};function _s(e,t){hs.call(this),this.h=e||1,this.g=t||sa,this.j=fa(this.qb,this),this.l=Date.now()}function xs(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Cs(e,t,n){if("function"===typeof e)n&&(e=fa(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=fa(e.handleEvent,e)}return 2147483647<Number(t)?-1:sa.setTimeout(e,t||0)}function Is(e){e.g=Cs(()=>{e.g=null,e.i&&(e.i=!1,Is(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}ma(_s,hs),(na=_s.prototype).ga=!1,na.T=null,na.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ds(this,"tick"),this.ga&&(xs(this),this.start()))}},na.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},na.N=function(){_s.$.N.call(this),xs(this),delete this.g};class Ns extends ga{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Is(this)}N(){super.N(),this.g&&(sa.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function As(e){ga.call(this),this.h=e,this.g={}}ma(As,ga);var Rs=[];function Ds(e,t,n,r){Array.isArray(n)||(n&&(Rs[0]=n.toString()),n=Rs);for(var i=0;i<n.length;i++){var a=ts(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Os(e){Ga(e.g,function(e,t){this.g.hasOwnProperty(t)&&as(e)},e),e.g={}}function Ps(){this.g=!0}function Ls(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var s=1;s<i.length;s++)i[s]=""}}}return ps(n)}catch(Ge){return t}}(e,n)+(r?" "+r:"")})}As.prototype.N=function(){As.$.N.call(this),Os(this)},As.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ps.prototype.Ea=function(){this.g=!1},Ps.prototype.info=function(){};var Ms={},js=null;function Fs(){return js=js||new hs}function Us(e){wa.call(this,Ms.Ta,e)}function Vs(e){const t=Fs();ds(t,new Us(t))}function zs(e,t){wa.call(this,Ms.STAT_EVENT,e),this.stat=t}function Bs(e){const t=Fs();ds(t,new zs(t,e))}function Hs(e,t){wa.call(this,Ms.Ua,e),this.size=t}function Ws(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return sa.setTimeout(function(){e()},t)}Ms.Ta="serverreachability",ma(Us,wa),Ms.STAT_EVENT="statevent",ma(zs,wa),Ms.Ua="timingevent",ma(Hs,wa);var qs={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Gs={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Ks(){}function Qs(e){return e.h||(e.h=e.i())}function Ys(){}Ks.prototype.h=null;var Js,Xs={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function $s(){wa.call(this,"d")}function Zs(){wa.call(this,"c")}function eo(){}function to(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new As(this),this.P=ro,e=Ra?125:void 0,this.V=new _s(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new no}function no(){this.i=null,this.g="",this.h=!1}ma($s,wa),ma(Zs,wa),ma(eo,Ks),eo.prototype.g=function(){return new XMLHttpRequest},eo.prototype.i=function(){return{}},Js=new eo;var ro=45e3,io={},ao={};function so(e,t,n){e.L=1,e.v=xo(ko(t)),e.s=n,e.S=!0,oo(e,null)}function oo(e,t){e.G=Date.now(),ho(e),e.A=ko(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),Uo(n.i,"t",r),e.C=0,n=e.l.J,e.h=new no,e.g=Ul(e.l,n?t:null,!e.s),0<e.O&&(e.M=new Ns(fa(e.Pa,e,e.g),e.O)),Ds(e.U,e.g,"readystatechange",e.nb),t=e.I?Ka(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),Vs(),function(e,t,n,r,i,a){e.info(function(){if(e.g)if(a)for(var s="",o=a.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");s=2<=h.length&&"type"==h[1]?s+(u+"=")+c+"&":s+(u+"=redacted&")}}else s=null;else s=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s})}(e.j,e.u,e.A,e.m,e.W,e.s)}function lo(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function co(e,t,n){let r,i=!0;for(;!e.J&&e.C<n.length;){if(r=uo(e,n),r==ao){4==t&&(e.o=4,Bs(14),i=!1),Ls(e.j,e.m,null,"[Incomplete Response]");break}if(r==io){e.o=4,Bs(15),Ls(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Ls(e.j,e.m,r,null),yo(e,r)}lo(e)&&r!=ao&&r!=io&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Bs(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Rl(t),t.M=!0,Bs(11))):(Ls(e.j,e.m,n,"[Invalid Chunked Response]"),go(e),mo(e))}function uo(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?ao:(n=Number(t.substring(n,r)),isNaN(n)?io:(r+=1)+n>t.length?ao:(t=t.slice(r,r+n),e.C=r+n,t))}function ho(e){e.Y=Date.now()+e.P,fo(e,e.P)}function fo(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ws(fa(e.lb,e),t)}function po(e){e.B&&(sa.clearTimeout(e.B),e.B=null)}function mo(e){0==e.l.H||e.J||Pl(e.l,e)}function go(e){po(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,xs(e.V),Os(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function yo(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Go(n.i,e)))if(!e.K&&Go(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Ol(n),Tl(n)}Al(n),Bs(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Ws(fa(n.ib,n),6e3));if(1>=qo(n.i)&&n.oa){try{n.oa()}catch(c){}n.oa=void 0}}else Ml(n,11)}else if((e.K||n.g==e)&&Ol(n),!Ea(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const t=c[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=c[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var a=r.i;a.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(Ko(a,a.h),a.h=null))}if(r.F){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,_o(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var s=e;if((r=n).wa=Fl(r,r.J?r.pa:null,r.Y),s.K){Qo(r.i,s);var o=s,l=r.L;l&&o.setTimeout(l),o.B&&(po(o),ho(o)),r.g=s}else Nl(r);0<n.j.length&&_l(n)}else"stop"!=c[0]&&"close"!=c[0]||Ml(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Ml(n,7):El(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}Vs()}catch(c){}}function vo(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(oa(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(oa(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(oa(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(na=to.prototype).setTimeout=function(e){this.P=e},na.nb=function(e){e=e.target;const t=this.M;t&&3==gl(e)?t.l():this.Pa(e)},na.Pa=function(e){try{if(e==this.g)e:{const u=gl(this.g);var t=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||Ra||this.g&&(this.h.h||this.g.ja()||yl(this.g)))){this.J||4!=u||7==t||Vs(),po(this);var n=this.g.da();this.ca=n;t:if(lo(this)){var r=yl(this.g);e="";var i=r.length,a=4==gl(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){go(this),mo(this);var s="";break t}this.h.i=new sa.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:a&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,a,s){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+s})}(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var o,l=this.g;if((o=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ea(o)){var c=o;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,Bs(12),go(this),mo(this);break e}Ls(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,yo(this,n)}this.S?(co(this,u,s),Ra&&this.i&&3==u&&(Ds(this.U,this.V,"tick",this.mb),this.V.start())):(Ls(this.j,this.m,s,null),yo(this,s)),4==u&&go(this),this.i&&!this.J&&(4==u?Pl(this.l,this):(this.i=!1,ho(this)))}else(function(e){const t={};e=(e.g&&2<=gl(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(Ea(e[r]))continue;var n=vs(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const a=t[i]||[];t[i]=a,a.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.o=3,Bs(12)):(this.o=0,Bs(13)),go(this),mo(this)}}}catch(Xe){}},na.mb=function(){if(this.g){var e=gl(this.g),t=this.g.ja();this.C<t.length&&(po(this),co(this,e,t),this.i&&4!=e&&ho(this))}},na.cancel=function(){this.J=!0,go(this)},na.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.L&&(Vs(),Bs(17)),go(this),this.o=2,mo(this)):fo(this,this.Y-e)};var bo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wo(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof wo){this.h=e.h,Eo(this,e.j),this.s=e.s,this.g=e.g,To(this,e.m),this.l=e.l;var t=e.i,n=new Lo;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),So(this,n),this.o=e.o}else e&&(t=String(e).match(bo))?(this.h=!1,Eo(this,t[1]||"",!0),this.s=Co(t[2]||""),this.g=Co(t[3]||"",!0),To(this,t[4]),this.l=Co(t[5]||"",!0),So(this,t[6]||"",!0),this.o=Co(t[7]||"")):(this.h=!1,this.i=new Lo(null,this.h))}function ko(e){return new wo(e)}function Eo(e,t,n){e.j=n?Co(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function To(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function So(e,t,n){t instanceof Lo?(e.i=t,function(e,t){t&&!e.j&&(Mo(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(jo(this,t),Uo(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=Io(t,Oo)),e.i=new Lo(t,e.h))}function _o(e,t,n){e.i.set(t,n)}function xo(e){return _o(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Co(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Io(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,No),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function No(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}wo.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Io(t,Ao,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Io(t,Ao,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Io(n,"/"==n.charAt(0)?Do:Ro,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Io(n,Po)),e.join("")};var Ao=/[#\/\?@]/g,Ro=/[#\?:]/g,Do=/[#\?]/g,Oo=/[#\?@]/g,Po=/#/g;function Lo(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Mo(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function jo(e,t){Mo(e),t=Vo(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Fo(e,t){return Mo(e),t=Vo(e,t),e.g.has(t)}function Uo(e,t,n){jo(e,t),0<n.length&&(e.i=null,e.g.set(Vo(e,t),va(n)),e.h+=n.length)}function Vo(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(na=Lo.prototype).add=function(e,t){Mo(this),this.i=null,e=Vo(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},na.forEach=function(e,t){Mo(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},na.ta=function(){Mo(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},na.Z=function(e){Mo(this);let t=[];if("string"===typeof e)Fo(this,e)&&(t=t.concat(this.g.get(Vo(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},na.set=function(e,t){return Mo(this),this.i=null,Fo(this,e=Vo(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},na.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},na.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const a=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=a;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),e.push(i)}}return this.i=e.join("&")};var zo=class{constructor(e,t){this.g=e,this.map=t}};function Bo(e){this.l=e||Ho,sa.PerformanceNavigationTiming?e=0<(e=sa.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(sa.g&&sa.g.Ka&&sa.g.Ka()&&sa.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Ho=10;function Wo(e){return!!e.h||!!e.g&&e.g.size>=e.j}function qo(e){return e.h?1:e.g?e.g.size:0}function Go(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Ko(e,t){e.g?e.g.add(t):e.h=t}function Qo(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Yo(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return va(e.i)}Bo.prototype.cancel=function(){if(this.i=Yo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Jo=class{stringify(e){return sa.JSON.stringify(e,void 0)}parse(e){return sa.JSON.parse(e,void 0)}};function Xo(){this.g=new Jo}function $o(e,t,n){const r=n||"";try{vo(e,function(e,n){let i=e;la(e)&&(i=ps(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(Be){throw t.push(r+"type="+encodeURIComponent("_badmap")),Be}}function Zo(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(Ze){}}function el(e){this.l=e.fc||null,this.j=e.ob||!1}function tl(e,t){hs.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=nl,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ma(el,Ks),el.prototype.g=function(){return new tl(this.l,this.j)},el.prototype.i=function(e){return function(){return e}}({}),ma(tl,hs);var nl=0;function rl(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function il(e){e.readyState=4,e.l=null,e.j=null,e.A=null,al(e)}function al(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(na=tl.prototype).open=function(e,t){if(this.readyState!=nl)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,al(this)},na.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||sa).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},na.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,il(this)),this.readyState=nl},na.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,al(this)),this.g&&(this.readyState=3,al(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof sa.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;rl(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},na.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?il(this):al(this),3==this.readyState&&rl(this)}},na.Za=function(e){this.g&&(this.response=this.responseText=e,il(this))},na.Ya=function(e){this.g&&(this.response=e,il(this))},na.ka=function(){this.g&&il(this)},na.setRequestHeader=function(e,t){this.v.append(e,t)},na.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},na.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(tl.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var sl=sa.JSON.parse;function ol(e){hs.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=ll,this.L=this.M=!1}ma(ol,hs);var ll="",cl=/^https?$/i,ul=["POST","PUT"];function hl(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,dl(e),pl(e)}function dl(e){e.F||(e.F=!0,ds(e,"complete"),ds(e,"error"))}function fl(e){if(e.h&&"undefined"!=typeof aa&&(!e.C[1]||4!=gl(e)||2!=e.da()))if(e.v&&4==gl(e))Cs(e.La,0,e);else if(ds(e,"readystatechange"),4==gl(e)){e.h=!1;try{const s=e.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===s){var i=String(e.I).match(bo)[1]||null;!i&&sa.self&&sa.self.location&&(i=sa.self.location.protocol.slice(0,-1)),r=!cl.test(i?i.toLowerCase():"")}n=r}if(n)ds(e,"complete"),ds(e,"success");else{e.m=6;try{var a=2<gl(e)?e.g.statusText:""}catch(Ge){a=""}e.j=a+" ["+e.da()+"]",dl(e)}}finally{pl(e)}}}function pl(e,t){if(e.g){ml(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||ds(e,"ready");try{n.onreadystatechange=r}catch(Be){}}}function ml(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(sa.clearTimeout(e.A),e.A=null)}function gl(e){return e.g?e.g.readyState:0}function yl(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case ll:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function vl(e){let t="";return Ga(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function bl(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=vl(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):_o(e,t,n))}function wl(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function kl(e){this.Ga=0,this.j=[],this.l=new Ps,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=wl("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=wl("baseRetryDelayMs",5e3,e),this.hb=wl("retryDelaySeedMs",1e4,e),this.eb=wl("forwardChannelMaxRetries",2,e),this.xa=wl("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Bo(e&&e.concurrentRequestLimit),this.Ja=new Xo,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function El(e){if(Sl(e),3==e.H){var t=e.W++,n=ko(e.I);if(_o(n,"SID",e.K),_o(n,"RID",t),_o(n,"TYPE","terminate"),Cl(e,n),(t=new to(e,e.l,t)).L=2,t.v=xo(ko(n)),n=!1,sa.navigator&&sa.navigator.sendBeacon)try{n=sa.navigator.sendBeacon(t.v.toString(),"")}catch($e){}!n&&sa.Image&&((new Image).src=t.v,n=!0),n||(t.g=Ul(t.l,null),t.g.ha(t.v)),t.G=Date.now(),ho(t)}jl(e)}function Tl(e){e.g&&(Rl(e),e.g.cancel(),e.g=null)}function Sl(e){Tl(e),e.u&&(sa.clearTimeout(e.u),e.u=null),Ol(e),e.i.cancel(),e.m&&("number"===typeof e.m&&sa.clearTimeout(e.m),e.m=null)}function _l(e){if(!Wo(e.i)&&!e.m){e.m=!0;var t=e.Na;ws||Ts(),ks||(ws(),ks=!0),Es.add(t,e),e.C=0}}function xl(e,t){var n;n=t?t.m:e.W++;const r=ko(e.I);_o(r,"SID",e.K),_o(r,"RID",n),_o(r,"AID",e.V),Cl(e,r),e.o&&e.s&&bl(r,e.o,e.s),n=new to(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Il(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Ko(e.i,n),so(n,r,t)}function Cl(e,t){e.na&&Ga(e.na,function(e,n){_o(t,n,e)}),e.h&&vo({},function(e,n){_o(t,n,e)})}function Il(e,t,n){n=Math.min(e.j.length,n);var r=e.h?fa(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let a=!0;for(let s=0;s<n;s++){let n=i[s].g;const o=i[s].map;if(n-=t,0>n)t=Math.max(0,i[s].g-100),a=!1;else try{$o(o,e,"req"+n+"_")}catch(Bt){r&&r(o)}}if(a){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function Nl(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;ws||Ts(),ks||(ws(),ks=!0),Es.add(t,e),e.A=0}}function Al(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Ws(fa(e.Ma,e),Ll(e,e.A)),e.A++,!0)}function Rl(e){null!=e.B&&(sa.clearTimeout(e.B),e.B=null)}function Dl(e){e.g=new to(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=ko(e.wa);_o(t,"RID","rpc"),_o(t,"SID",e.K),_o(t,"AID",e.V),_o(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&_o(t,"TO",e.qa),_o(t,"TYPE","xmlhttp"),Cl(e,t),e.o&&e.s&&bl(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=xo(ko(t)),n.s=null,n.S=!0,oo(n,e)}function Ol(e){null!=e.v&&(sa.clearTimeout(e.v),e.v=null)}function Pl(e,t){var n=null;if(e.g==t){Ol(e),Rl(e),e.g=null;var r=2}else{if(!Go(e.i,t))return;n=t.F,Qo(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;ds(r=Fs(),new Hs(r,n)),_l(e)}else Nl(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(qo(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=Ws(fa(e.Na,e,t),Ll(e,e.C)),e.C++,!0))}(e,t)||2==r&&Al(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Ml(e,5);break;case 4:Ml(e,10);break;case 3:Ml(e,6);break;default:Ml(e,2)}}function Ll(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Ml(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=fa(e.pb,e);n||(n=new wo("//www.google.com/images/cleardot.gif"),sa.location&&"http"==sa.location.protocol||Eo(n,"https"),xo(n)),function(e,t){const n=new Ps;if(sa.Image){const r=new Image;r.onload=pa(Zo,n,r,"TestLoadImage: loaded",!0,t),r.onerror=pa(Zo,n,r,"TestLoadImage: error",!1,t),r.onabort=pa(Zo,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=pa(Zo,n,r,"TestLoadImage: timeout",!1,t),sa.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(n.toString(),r)}else Bs(2);e.H=0,e.h&&e.h.za(t),jl(e),Sl(e)}function jl(e){if(e.H=0,e.ma=[],e.h){const t=Yo(e.i);0==t.length&&0==e.j.length||(ba(e.ma,t),ba(e.ma,e.j),e.i.i.length=0,va(e.j),e.j.length=0),e.h.ya()}}function Fl(e,t,n){var r=n instanceof wo?ko(n):new wo(n);if(""!=r.g)t&&(r.g=t+"."+r.g),To(r,r.m);else{var i=sa.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new wo(null);r&&Eo(a,r),t&&(a.g=t),i&&To(a,i),n&&(a.l=n),r=a}return n=e.F,t=e.Da,n&&t&&_o(r,n,t),_o(r,"VER",e.ra),Cl(e,r),r}function Ul(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new ol(new el({ob:!0})):new ol(e.va)).Oa(e.J),t}function Vl(){}function zl(){if(Na&&!(10<=Number(Ua)))throw Error("Environmental error: no available transport.")}function Bl(e,t){hs.call(this),this.g=new kl(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Ea(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Ea(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new ql(this)}function Hl(e){$s.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Wl(){Zs.call(this),this.status=1}function ql(e){this.g=e}function Gl(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Kl(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],s=t+(a^n&(i^a))+r[0]+3614090360&4294967295;s=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(s<<7&4294967295|s>>>25))+((s=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((a=(t=n+((s=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=a+((s=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function Ql(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}(na=ol.prototype).Oa=function(e){this.M=e},na.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Js.g(),this.C=this.u?Qs(this.u):Qs(Js),this.g.onreadystatechange=fa(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(Ze){return void hl(this,Ze)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),i=sa.FormData&&e instanceof sa.FormData,!(0<=ya(ul,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,s]of n)this.g.setRequestHeader(a,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{ml(this),0<this.B&&((this.L=function(e){return Na&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=fa(this.ua,this)):this.A=Cs(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(Ze){hl(this,Ze)}},na.ua=function(){"undefined"!=typeof aa&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ds(this,"timeout"),this.abort(8))},na.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,ds(this,"complete"),ds(this,"abort"),pl(this))},na.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),pl(this,!0)),ol.$.N.call(this)},na.La=function(){this.s||(this.G||this.v||this.l?fl(this):this.kb())},na.kb=function(){fl(this)},na.isActive=function(){return!!this.g},na.da=function(){try{return 2<gl(this)?this.g.status:-1}catch(qe){return-1}},na.ja=function(){try{return this.g?this.g.responseText:""}catch(qe){return""}},na.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),sl(t)}},na.Ia=function(){return this.m},na.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(na=kl.prototype).ra=8,na.H=1,na.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new to(this,this.l,e);let a=this.s;if(this.U&&(a?(a=Ka(a),Ya(a,this.U)):a=this.U),null!==this.o||this.O||(i.I=a,a=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Il(this,i,t),_o(n=ko(this.I),"RID",e),_o(n,"CVER",22),this.F&&_o(n,"X-HTTP-Session-Id",this.F),Cl(this,n),a&&(this.O?t="headers="+encodeURIComponent(String(vl(a)))+"&"+t:this.o&&bl(n,this.o,a)),Ko(this.i,i),this.bb&&_o(n,"TYPE","init"),this.P?(_o(n,"$req",t),_o(n,"SID","null"),i.aa=!0,so(i,n,null)):so(i,n,t),this.H=2}}else 3==this.H&&(e?xl(this,e):0==this.j.length||Wo(this.i)||xl(this))},na.Ma=function(){if(this.u=null,Dl(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Ws(fa(this.jb,this),e)}},na.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Bs(10),Tl(this),Dl(this))},na.ib=function(){null!=this.v&&(this.v=null,Tl(this),Al(this),Bs(19))},na.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Bs(2)):(this.l.info("Failed to ping google.com"),Bs(1))},na.isActive=function(){return!!this.h&&this.h.isActive(this)},(na=Vl.prototype).Ba=function(){},na.Aa=function(){},na.za=function(){},na.ya=function(){},na.isActive=function(){return!0},na.Va=function(){},zl.prototype.g=function(e,t){return new Bl(e,t)},ma(Bl,hs),Bl.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Bs(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Fl(e,null,e.Y),_l(e)},Bl.prototype.close=function(){El(this.g)},Bl.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=ps(e),e=n);t.j.push(new zo(t.fb++,e)),3==t.H&&_l(t)},Bl.prototype.N=function(){this.g.h=null,delete this.j,El(this.g),delete this.g,Bl.$.N.call(this)},ma(Hl,$s),ma(Wl,Zs),ma(ql,Vl),ql.prototype.Ba=function(){ds(this.g,"a")},ql.prototype.Aa=function(e){ds(this.g,new Hl(e))},ql.prototype.za=function(e){ds(this.g,new Wl)},ql.prototype.ya=function(){ds(this.g,"b")},ma(Gl,function(){this.blockSize=-1}),Gl.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Gl.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,a=0;a<t;){if(0==i)for(;a<=n;)Kl(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(r[i++]=e.charCodeAt(a++),i==this.blockSize){Kl(this,r),i=0;break}}else for(;a<t;)if(r[i++]=e[a++],i==this.blockSize){Kl(this,r),i=0;break}}this.h=i,this.i+=t},Gl.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Yl={};function Jl(e){return-128<=e&&128>e?function(e,t){var n=Yl;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new Ql([0|e],0>e?-1:0)}):new Ql([0|e],0>e?-1:0)}function Xl(e){if(isNaN(e)||!isFinite(e))return Zl;if(0>e)return ic(Xl(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=$l;return new Ql(t,0)}var $l=4294967296,Zl=Jl(0),ec=Jl(1),tc=Jl(16777216);function nc(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function rc(e){return-1==e.h}function ic(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Ql(n,~e.h).add(ec)}function ac(e,t){return e.add(ic(t))}function sc(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function oc(e,t){this.g=e,this.h=t}function lc(e,t){if(nc(t))throw Error("division by zero");if(nc(e))return new oc(Zl,Zl);if(rc(e))return t=lc(ic(e),t),new oc(ic(t.g),ic(t.h));if(rc(t))return t=lc(e,ic(t)),new oc(ic(t.g),t.h);if(30<e.g.length){if(rc(e)||rc(t))throw Error("slowDivide_ only works with positive integers.");for(var n=ec,r=t;0>=r.X(e);)n=cc(n),r=cc(r);var i=uc(n,1),a=uc(r,1);for(r=uc(r,2),n=uc(n,2);!nc(r);){var s=a.add(r);0>=s.X(e)&&(i=i.add(n),a=s),r=uc(r,1),n=uc(n,1)}return t=ac(e,i.R(t)),new oc(i,t)}for(i=Zl;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),s=(a=Xl(n)).R(t);rc(s)||0<s.X(e);)s=(a=Xl(n-=r)).R(t);nc(a)&&(a=ec),i=i.add(a),e=ac(e,s)}return new oc(i,e)}function cc(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Ql(n,e.h)}function uc(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.D(a+n)>>>t|e.D(a+n+1)<<32-t:e.D(a+n);return new Ql(i,e.h)}(na=Ql.prototype).ea=function(){if(rc(this))return-ic(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:$l+r)*t,t*=$l}return e},na.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(nc(this))return"0";if(rc(this))return"-"+ic(this).toString(e);for(var t=Xl(Math.pow(e,6)),n=this,r="";;){var i=lc(n,t).g,a=((0<(n=ac(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(nc(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},na.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},na.X=function(e){return rc(e=ac(this,e))?-1:nc(e)?0:1},na.abs=function(){return rc(this)?ic(this):this},na.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(65535&this.D(i))+(65535&e.D(i)),s=(a>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=s>>>16,a&=65535,s&=65535,n[i]=s<<16|a}return new Ql(n,-2147483648&n[n.length-1]?-1:0)},na.R=function(e){if(nc(this)||nc(e))return Zl;if(rc(this))return rc(e)?ic(this).R(ic(e)):ic(ic(this).R(e));if(rc(e))return ic(this.R(ic(e)));if(0>this.X(tc)&&0>e.X(tc))return Xl(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var a=this.D(r)>>>16,s=65535&this.D(r),o=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=s*l,sc(n,2*r+2*i),n[2*r+2*i+1]+=a*l,sc(n,2*r+2*i+1),n[2*r+2*i+1]+=s*o,sc(n,2*r+2*i+1),n[2*r+2*i+2]+=a*o,sc(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Ql(n,0)},na.gb=function(e){return lc(this,e).h},na.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Ql(n,this.h&e.h)},na.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Ql(n,this.h|e.h)},na.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Ql(n,this.h^e.h)},zl.prototype.createWebChannel=zl.prototype.g,Bl.prototype.send=Bl.prototype.u,Bl.prototype.open=Bl.prototype.m,Bl.prototype.close=Bl.prototype.close,qs.NO_ERROR=0,qs.TIMEOUT=8,qs.HTTP_ERROR=6,Gs.COMPLETE="complete",Ys.EventType=Xs,Xs.OPEN="a",Xs.CLOSE="b",Xs.ERROR="c",Xs.MESSAGE="d",hs.prototype.listen=hs.prototype.O,ol.prototype.listenOnce=ol.prototype.P,ol.prototype.getLastError=ol.prototype.Sa,ol.prototype.getLastErrorCode=ol.prototype.Ia,ol.prototype.getStatus=ol.prototype.da,ol.prototype.getResponseJson=ol.prototype.Wa,ol.prototype.getResponseText=ol.prototype.ja,ol.prototype.send=ol.prototype.ha,ol.prototype.setWithCredentials=ol.prototype.Oa,Gl.prototype.digest=Gl.prototype.l,Gl.prototype.reset=Gl.prototype.reset,Gl.prototype.update=Gl.prototype.j,Ql.prototype.add=Ql.prototype.add,Ql.prototype.multiply=Ql.prototype.R,Ql.prototype.modulo=Ql.prototype.gb,Ql.prototype.compare=Ql.prototype.X,Ql.prototype.toNumber=Ql.prototype.ea,Ql.prototype.toString=Ql.prototype.toString,Ql.prototype.getBits=Ql.prototype.D,Ql.fromNumber=Xl,Ql.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return ic(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Xl(Math.pow(n,8)),i=Zl,a=0;a<t.length;a+=8){var s=Math.min(8,t.length-a),o=parseInt(t.substring(a,a+s),n);8>s?(s=Xl(Math.pow(n,s)),i=i.R(s).add(Xl(o))):i=(i=i.R(r)).add(Xl(o))}return i};var hc=ia.createWebChannelTransport=function(){return new zl},dc=ia.getStatEventTarget=function(){return Fs()},fc=ia.ErrorCode=qs,pc=ia.EventType=Gs,mc=ia.Event=Ms,gc=ia.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},yc=ia.FetchXmlHttpFactory=el,vc=ia.WebChannel=Ys,bc=ia.XhrIo=ol,wc=ia.Md5=Gl,kc=ia.Integer=Ql;const Ec="@firebase/firestore";class Tc{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Tc.UNAUTHENTICATED=new Tc(null),Tc.GOOGLE_CREDENTIALS=new Tc("google-credentials-uid"),Tc.FIRST_PARTY=new Tc("first-party-uid"),Tc.MOCK_USER=new Tc("mock-user");let Sc="9.23.0";const _c=new Br("@firebase/firestore");function xc(){return _c.logLevel}function Cc(e){if(_c.logLevel<=jr.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Ac);_c.debug("Firestore (".concat(Sc,"): ").concat(e),...i)}}function Ic(e){if(_c.logLevel<=jr.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Ac);_c.error("Firestore (".concat(Sc,"): ").concat(e),...i)}}function Nc(e){if(_c.logLevel<=jr.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Ac);_c.warn("Firestore (".concat(Sc,"): ").concat(e),...i)}}function Ac(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Rc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(Sc,") INTERNAL ASSERTION FAILED: ")+e;throw Ic(t),new Error(t)}function Dc(e,t){e||Rc()}function Oc(e,t){return e}const Pc={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Lc extends kr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class Mc{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class jc{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class Fc{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Tc.UNAUTHENTICATED))}shutdown(){}}class Uc{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Vc{constructor(e){this.t=e,this.currentUser=Tc.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Mc;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Mc,e.enqueueRetryable(()=>r(this.currentUser))};const a=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},s=e=>{Cc("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(e=>s(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(Cc("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Mc)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(Cc("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Dc("string"==typeof t.accessToken),new jc(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Dc(null===e||"string"==typeof e),new Tc(e)}}class zc{constructor(e,t,n){this.h=e,this.l=t,this.m=n,this.type="FirstParty",this.user=Tc.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Bc{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new zc(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Tc.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Hc{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Wc{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const n=e=>{null!=e.error&&Cc("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.T;return this.T=e.token,Cc("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{Cc("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.I.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.I.getImmediate({optional:!0});e?r(e):Cc("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(Dc("string"==typeof e.token),this.T=e.token,new Hc(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function qc(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Gc{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=qc(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function Kc(e,t){return e<t?-1:e>t?1:0}function Qc(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}class Yc{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Lc(Pc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Lc(Pc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Lc(Pc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Lc(Pc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Yc.fromMillis(Date.now())}static fromDate(e){return Yc.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Yc(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Kc(this.nanoseconds,e.nanoseconds):Kc(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Jc{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Jc(e)}static min(){return new Jc(new Yc(0,0))}static max(){return new Jc(new Yc(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Xc{constructor(e,t,n){void 0===t?t=0:t>e.length&&Rc(),void 0===n?n=e.length-t:n>e.length-t&&Rc(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Xc.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Xc?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class $c extends Xc{construct(e,t,n){return new $c(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Lc(Pc.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter(e=>e.length>0))}return new $c(e)}static emptyPath(){return new $c([])}}const Zc=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class eu extends Xc{construct(e,t,n){return new eu(e,t,n)}static isValidIdentifier(e){return Zc.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),eu.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new eu(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Lc(Pc.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let a=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Lc(Pc.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Lc(Pc.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(a=!a,r++):"."!==t||a?(n+=t,r++):(i(),r++)}if(i(),a)throw new Lc(Pc.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new eu(t)}static emptyPath(){return new eu([])}}class tu{constructor(e){this.path=e}static fromPath(e){return new tu($c.fromString(e))}static fromName(e){return new tu($c.fromString(e).popFirst(5))}static empty(){return new tu($c.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===$c.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return $c.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new tu(new $c(e.slice()))}}class nu{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}nu.UNKNOWN_ID=-1;function ru(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Jc.fromTimestamp(1e9===r?new Yc(n+1,0):new Yc(n,r));return new au(i,tu.empty(),t)}function iu(e){return new au(e.readTime,e.key,-1)}class au{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new au(Jc.min(),tu.empty(),-1)}static max(){return new au(Jc.max(),tu.empty(),-1)}}function su(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=tu.comparator(e.documentKey,t.documentKey),0!==n?n:Kc(e.largestBatchId,t.largestBatchId))}const ou="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lu{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function cu(e){if(e.code!==Pc.FAILED_PRECONDITION||e.message!==ou)throw e;Cc("LocalStore","Unexpectedly lost primary lease")}class uu{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Rc(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new uu((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof uu?t:uu.resolve(t)}catch(e){return uu.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):uu.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):uu.reject(t)}static resolve(e){return new uu((t,n)=>{t(e)})}static reject(e){return new uu((t,n)=>{n(e)})}static waitFor(e){return new uu((t,n)=>{let r=0,i=0,a=!1;e.forEach(e=>{++r,e.next(()=>{++i,a&&i===r&&t()},e=>n(e))}),a=!0,i===r&&t()})}static or(e){let t=uu.resolve(!1);for(const n of e)t=t.next(e=>e?uu.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new uu((n,r)=>{const i=e.length,a=new Array(i);let s=0;for(let o=0;o<i;o++){const l=o;t(e[l]).next(e=>{a[l]=e,++s,s===i&&n(a)},e=>r(e))}})}static doWhile(e,t){return new uu((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function hu(e){return"IndexedDbTransactionError"===e.name}class du{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ot(e),this.ut=e=>t.writeSequenceNumber(e))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}function fu(e){return null==e}function pu(e){return 0===e&&1/e==-1/0}function mu(e){return"number"==typeof e&&Number.isInteger(e)&&!pu(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}du.ct=-1;const gu=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],yu=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],vu=yu;function bu(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function wu(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ku(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Eu{constructor(e,t){this.comparator=e,this.root=t||Su.EMPTY}insert(e,t){return new Eu(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Su.BLACK,null,null))}remove(e){return new Eu(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Su.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Tu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Tu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Tu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Tu(this.root,e,this.comparator,!0)}}class Tu{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Su{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Su.RED,this.left=null!=r?r:Su.EMPTY,this.right=null!=i?i:Su.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Su(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Su.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Su.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Su.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Su.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Rc();if(this.right.isRed())throw Rc();const e=this.left.check();if(e!==this.right.check())throw Rc();return e+(this.isRed()?0:1)}}Su.EMPTY=null,Su.RED=!0,Su.BLACK=!1,Su.EMPTY=new class{constructor(){this.size=0}get key(){throw Rc()}get value(){throw Rc()}get color(){throw Rc()}get left(){throw Rc()}get right(){throw Rc()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Su(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class _u{constructor(e){this.comparator=e,this.data=new Eu(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new xu(this.data.getIterator())}getIteratorFrom(e){return new xu(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof _u))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new _u(this.comparator);return t.data=e,t}}class xu{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Cu{constructor(e){this.fields=e,e.sort(eu.comparator)}static empty(){return new Cu([])}unionWith(e){let t=new _u(eu.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Cu(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Qc(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class Iu extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Nu{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Iu("Invalid base64 string: "+e):e}}(e);return new Nu(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Nu(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Kc(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Nu.EMPTY_BYTE_STRING=new Nu("");const Au=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ru(e){if(Dc(!!e),"string"==typeof e){let t=0;const n=Au.exec(e);if(Dc(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Du(e.seconds),nanos:Du(e.nanos)}}function Du(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Ou(e){return"string"==typeof e?Nu.fromBase64String(e):Nu.fromUint8Array(e)}function Pu(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Lu(e){const t=e.mapValue.fields.__previous_value__;return Pu(t)?Lu(t):t}function Mu(e){const t=Ru(e.mapValue.fields.__local_write_time__.timestampValue);return new Yc(t.seconds,t.nanos)}class ju{constructor(e,t,n,r,i,a,s,o,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=s,this.longPollingOptions=o,this.useFetchStreams=l}}class Fu{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Fu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Fu&&e.projectId===this.projectId&&e.database===this.database}}const Uu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Vu(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Pu(e)?4:eh(e)?9007199254740991:10:Rc()}function zu(e,t){if(e===t)return!0;const n=Vu(e);if(n!==Vu(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Mu(e).isEqual(Mu(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Ru(e.timestampValue),r=Ru(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Ou(e.bytesValue).isEqual(Ou(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Du(e.geoPointValue.latitude)===Du(t.geoPointValue.latitude)&&Du(e.geoPointValue.longitude)===Du(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Du(e.integerValue)===Du(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Du(e.doubleValue),r=Du(t.doubleValue);return n===r?pu(n)===pu(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Qc(e.arrayValue.values||[],t.arrayValue.values||[],zu);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(bu(n)!==bu(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!zu(n[i],r[i])))return!1;return!0}(e,t);default:return Rc()}}function Bu(e,t){return void 0!==(e.values||[]).find(e=>zu(e,t))}function Hu(e,t){if(e===t)return 0;const n=Vu(e),r=Vu(t);if(n!==r)return Kc(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Kc(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Du(e.integerValue||e.doubleValue),r=Du(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Wu(e.timestampValue,t.timestampValue);case 4:return Wu(Mu(e),Mu(t));case 5:return Kc(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Ou(e),r=Ou(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Kc(n[i],r[i]);if(0!==e)return e}return Kc(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Kc(Du(e.latitude),Du(t.latitude));return 0!==n?n:Kc(Du(e.longitude),Du(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Hu(n[i],r[i]);if(e)return e}return Kc(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Uu.mapValue&&t===Uu.mapValue)return 0;if(e===Uu.mapValue)return 1;if(t===Uu.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(let s=0;s<r.length&&s<a.length;++s){const e=Kc(r[s],a[s]);if(0!==e)return e;const t=Hu(n[r[s]],i[a[s]]);if(0!==t)return t}return Kc(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Rc()}}function Wu(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Kc(e,t);const n=Ru(e),r=Ru(t),i=Kc(n.seconds,r.seconds);return 0!==i?i:Kc(n.nanos,r.nanos)}function qu(e){return Gu(e)}function Gu(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Ru(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Ou(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,tu.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Gu(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(Gu(e.fields[i]));return n+"}"}(e.mapValue):Rc();var t,n}function Ku(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Qu(e){return!!e&&"integerValue"in e}function Yu(e){return!!e&&"arrayValue"in e}function Ju(e){return!!e&&"nullValue"in e}function Xu(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function $u(e){return!!e&&"mapValue"in e}function Zu(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return wu(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=Zu(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Zu(e.arrayValue.values[n]);return t}return Object.assign({},e)}function eh(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class th{constructor(e){this.value=e}static empty(){return new th({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!$u(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zu(t)}setAll(e){let t=eu.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Zu(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());$u(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return zu(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];$u(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){wu(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new th(Zu(this.value))}}function nh(e){const t=[];return wu(e.fields,(e,n)=>{const r=new eu([e]);if($u(n)){const e=nh(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new Cu(t)}class rh{constructor(e,t,n,r,i,a,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=a,this.documentState=s}static newInvalidDocument(e){return new rh(e,0,Jc.min(),Jc.min(),Jc.min(),th.empty(),0)}static newFoundDocument(e,t,n,r){return new rh(e,1,t,Jc.min(),n,r,0)}static newNoDocument(e,t){return new rh(e,2,t,Jc.min(),Jc.min(),th.empty(),0)}static newUnknownDocument(e,t){return new rh(e,3,t,Jc.min(),Jc.min(),th.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Jc.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=th.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=th.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Jc.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof rh&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rh(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class ih{constructor(e,t){this.position=e,this.inclusive=t}}function ah(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const a=t[i],s=e.position[i];if(r=a.field.isKeyField()?tu.comparator(tu.fromName(s.referenceValue),n.key):Hu(s,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function sh(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!zu(e.position[n],t.position[n]))return!1;return!0}class oh{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function lh(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class ch{}class uh extends ch{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new vh(e,t,n):"array-contains"===t?new Eh(e,n):"in"===t?new Th(e,n):"not-in"===t?new Sh(e,n):"array-contains-any"===t?new _h(e,n):new uh(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new bh(e,n):new wh(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Hu(t,this.value)):null!==t&&Vu(this.value)===Vu(t)&&this.matchesComparison(Hu(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Rc()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class hh extends ch{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new hh(e,t)}matches(e){return dh(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(e=>e.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function dh(e){return"and"===e.op}function fh(e){return ph(e)&&dh(e)}function ph(e){for(const t of e.filters)if(t instanceof hh)return!1;return!0}function mh(e){if(e instanceof uh)return e.field.canonicalString()+e.op.toString()+qu(e.value);if(fh(e))return e.filters.map(e=>mh(e)).join(",");{const t=e.filters.map(e=>mh(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function gh(e,t){return e instanceof uh?function(e,t){return t instanceof uh&&e.op===t.op&&e.field.isEqual(t.field)&&zu(e.value,t.value)}(e,t):e instanceof hh?function(e,t){return t instanceof hh&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&gh(n,t.filters[r]),!0)}(e,t):void Rc()}function yh(e){return e instanceof uh?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(qu(e.value))}(e):e instanceof hh?function(e){return e.op.toString()+" {"+e.getFilters().map(yh).join(" ,")+"}"}(e):"Filter"}class vh extends uh{constructor(e,t,n){super(e,t,n),this.key=tu.fromName(n.referenceValue)}matches(e){const t=tu.comparator(e.key,this.key);return this.matchesComparison(t)}}class bh extends uh{constructor(e,t){super(e,"in",t),this.keys=kh("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class wh extends uh{constructor(e,t){super(e,"not-in",t),this.keys=kh("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function kh(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>tu.fromName(e.referenceValue))}class Eh extends uh{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Yu(t)&&Bu(t.arrayValue,this.value)}}class Th extends uh{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Bu(this.value.arrayValue,t)}}class Sh extends uh{constructor(e,t){super(e,"not-in",t)}matches(e){if(Bu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Bu(this.value.arrayValue,t)}}class _h extends uh{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Yu(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Bu(this.value.arrayValue,e))}}class xh{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=a,this.endAt=s,this.dt=null}}function Ch(e){return new xh(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Ih(e){const t=Oc(e);if(null===t.dt){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>mh(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),fu(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>qu(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>qu(e)).join(",")),t.dt=e}return t.dt}function Nh(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!lh(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!gh(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!sh(e.startAt,t.startAt)&&sh(e.endAt,t.endAt)}function Ah(e){return tu.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Rh{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=a,this.startAt=s,this.endAt=o,this.wt=null,this._t=null,this.startAt,this.endAt}}function Dh(e,t,n,r,i,a,s,o){return new Rh(e,t,n,r,i,a,s,o)}function Oh(e){return new Rh(e)}function Ph(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Lh(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Mh(e){for(const t of e.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function jh(e){return null!==e.collectionGroup}function Fh(e){const t=Oc(e);if(null===t.wt){t.wt=[];const e=Mh(t),n=Lh(t);if(null!==e&&null===n)e.isKeyField()||t.wt.push(new oh(e)),t.wt.push(new oh(eu.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.wt.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new oh(eu.keyField(),e))}}}return t.wt}function Uh(e){const t=Oc(e);if(!t._t)if("F"===t.limitType)t._t=Ch(t.path,t.collectionGroup,Fh(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const i of Fh(t)){const t="desc"===i.dir?"asc":"desc";e.push(new oh(i.field,t))}const n=t.endAt?new ih(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ih(t.startAt.position,t.startAt.inclusive):null;t._t=Ch(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t._t}function Vh(e,t){t.getFirstInequalityField(),Mh(e);const n=e.filters.concat([t]);return new Rh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function zh(e,t,n){return new Rh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Bh(e,t){return Nh(Uh(e),Uh(t))&&e.limitType===t.limitType}function Hh(e){return"".concat(Ih(Uh(e)),"|lt:").concat(e.limitType)}function Wh(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>yh(e)).join(", "),"]")),fu(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>qu(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>qu(e)).join(",")),"Target(".concat(t,")")}(Uh(e)),"; limitType=").concat(e.limitType,")")}function qh(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):tu.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Fh(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=ah(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Fh(e),t))&&!(e.endAt&&!function(e,t,n){const r=ah(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Fh(e),t))}(e,t)}function Gh(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Kh(e){return(t,n)=>{let r=!1;for(const i of Fh(e)){const e=Qh(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Qh(e,t,n){const r=e.field.isKeyField()?tu.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Hu(r,i):Rc()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Rc()}}class Yh{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){wu(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return ku(this.inner)}size(){return this.innerSize}}const Jh=new Eu(tu.comparator);function Xh(){return Jh}const $h=new Eu(tu.comparator);function Zh(){let e=$h;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function ed(e){let t=$h;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function td(){return rd()}function nd(){return rd()}function rd(){return new Yh(e=>e.toString(),(e,t)=>e.isEqual(t))}const id=new Eu(tu.comparator),ad=new _u(tu.comparator);function sd(){let e=ad;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const od=new _u(Kc);function ld(){return od}function cd(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pu(t)?"-0":t}}function ud(e){return{integerValue:""+e}}function hd(e,t){return mu(t)?ud(t):cd(e,t)}class dd{constructor(){this._=void 0}}function fd(e,t,n){return e instanceof gd?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Pu(t)&&(t=Lu(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof yd?vd(e,t):e instanceof bd?wd(e,t):function(e,t){const n=md(e,t),r=Ed(n)+Ed(e.gt);return Qu(n)&&Qu(e.gt)?ud(r):cd(e.serializer,r)}(e,t)}function pd(e,t,n){return e instanceof yd?vd(e,t):e instanceof bd?wd(e,t):n}function md(e,t){return e instanceof kd?Qu(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class gd extends dd{}class yd extends dd{constructor(e){super(),this.elements=e}}function vd(e,t){const n=Td(t);for(const r of e.elements)n.some(e=>zu(e,r))||n.push(r);return{arrayValue:{values:n}}}class bd extends dd{constructor(e){super(),this.elements=e}}function wd(e,t){let n=Td(t);for(const r of e.elements)n=n.filter(e=>!zu(e,r));return{arrayValue:{values:n}}}class kd extends dd{constructor(e,t){super(),this.serializer=e,this.gt=t}}function Ed(e){return Du(e.integerValue||e.doubleValue)}function Td(e){return Yu(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Sd{constructor(e,t){this.field=e,this.transform=t}}class _d{constructor(e,t){this.version=e,this.transformResults=t}}class xd{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new xd}static exists(e){return new xd(void 0,e)}static updateTime(e){return new xd(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Cd(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Id{}function Nd(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Ud(e.key,xd.none()):new Pd(e.key,e.data,xd.none());{const n=e.data,r=th.empty();let i=new _u(eu.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Ld(e.key,r,new Cu(i.toArray()),xd.none())}}function Ad(e,t,n){e instanceof Pd?function(e,t,n){const r=e.value.clone(),i=jd(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Ld?function(e,t,n){if(!Cd(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=jd(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Md(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Rd(e,t,n,r){return e instanceof Pd?function(e,t,n,r){if(!Cd(e.precondition,t))return n;const i=e.value.clone(),a=Fd(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Ld?function(e,t,n,r){if(!Cd(e.precondition,t))return n;const i=Fd(e.fieldTransforms,r,t),a=t.data;return a.setAll(Md(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return Cd(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Dd(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=md(r.transform,e||null);null!=i&&(null===n&&(n=th.empty()),n.set(r.field,i))}return n||null}function Od(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Qc(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof yd&&t instanceof yd||e instanceof bd&&t instanceof bd?Qc(e.elements,t.elements,zu):e instanceof kd&&t instanceof kd?zu(e.gt,t.gt):e instanceof gd&&t instanceof gd}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Pd extends Id{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ld extends Id{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Md(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function jd(e,t,n){const r=new Map;Dc(e.length===n.length);for(let i=0;i<n.length;i++){const a=e[i],s=a.transform,o=t.data.field(a.field);r.set(a.field,pd(s,o,n[i]))}return r}function Fd(e,t,n){const r=new Map;for(const i of e){const e=i.transform,a=n.data.field(i.field);r.set(i.field,fd(e,a,t))}return r}class Ud extends Id{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Vd extends Id{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class zd{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Ad(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Rd(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Rd(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=nd();return this.mutations.forEach(r=>{const i=e.get(r.key),a=i.overlayedDocument;let s=this.applyToLocalView(a,i.mutatedFields);s=t.has(r.key)?null:s;const o=Nd(a,s);null!==o&&n.set(r.key,o),a.isValidDocument()||a.convertToNoDocument(Jc.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),sd())}isEqual(e){return this.batchId===e.batchId&&Qc(this.mutations,e.mutations,(e,t)=>Od(e,t))&&Qc(this.baseMutations,e.baseMutations,(e,t)=>Od(e,t))}}class Bd{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Dc(e.mutations.length===n.length);let r=id;const i=e.mutations;for(let a=0;a<i.length;a++)r=r.insert(i[a].key,n[a].version);return new Bd(e,t,n,r)}}class Hd{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Wd{constructor(e,t){this.count=e,this.unchangedNames=t}}var qd,Gd;function Kd(e){switch(e){default:return Rc();case Pc.CANCELLED:case Pc.UNKNOWN:case Pc.DEADLINE_EXCEEDED:case Pc.RESOURCE_EXHAUSTED:case Pc.INTERNAL:case Pc.UNAVAILABLE:case Pc.UNAUTHENTICATED:return!1;case Pc.INVALID_ARGUMENT:case Pc.NOT_FOUND:case Pc.ALREADY_EXISTS:case Pc.PERMISSION_DENIED:case Pc.FAILED_PRECONDITION:case Pc.ABORTED:case Pc.OUT_OF_RANGE:case Pc.UNIMPLEMENTED:case Pc.DATA_LOSS:return!0}}function Qd(e){if(void 0===e)return Ic("GRPC error has no .code"),Pc.UNKNOWN;switch(e){case qd.OK:return Pc.OK;case qd.CANCELLED:return Pc.CANCELLED;case qd.UNKNOWN:return Pc.UNKNOWN;case qd.DEADLINE_EXCEEDED:return Pc.DEADLINE_EXCEEDED;case qd.RESOURCE_EXHAUSTED:return Pc.RESOURCE_EXHAUSTED;case qd.INTERNAL:return Pc.INTERNAL;case qd.UNAVAILABLE:return Pc.UNAVAILABLE;case qd.UNAUTHENTICATED:return Pc.UNAUTHENTICATED;case qd.INVALID_ARGUMENT:return Pc.INVALID_ARGUMENT;case qd.NOT_FOUND:return Pc.NOT_FOUND;case qd.ALREADY_EXISTS:return Pc.ALREADY_EXISTS;case qd.PERMISSION_DENIED:return Pc.PERMISSION_DENIED;case qd.FAILED_PRECONDITION:return Pc.FAILED_PRECONDITION;case qd.ABORTED:return Pc.ABORTED;case qd.OUT_OF_RANGE:return Pc.OUT_OF_RANGE;case qd.UNIMPLEMENTED:return Pc.UNIMPLEMENTED;case qd.DATA_LOSS:return Pc.DATA_LOSS;default:return Rc()}}(Gd=qd||(qd={}))[Gd.OK=0]="OK",Gd[Gd.CANCELLED=1]="CANCELLED",Gd[Gd.UNKNOWN=2]="UNKNOWN",Gd[Gd.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Gd[Gd.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Gd[Gd.NOT_FOUND=5]="NOT_FOUND",Gd[Gd.ALREADY_EXISTS=6]="ALREADY_EXISTS",Gd[Gd.PERMISSION_DENIED=7]="PERMISSION_DENIED",Gd[Gd.UNAUTHENTICATED=16]="UNAUTHENTICATED",Gd[Gd.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Gd[Gd.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Gd[Gd.ABORTED=10]="ABORTED",Gd[Gd.OUT_OF_RANGE=11]="OUT_OF_RANGE",Gd[Gd.UNIMPLEMENTED=12]="UNIMPLEMENTED",Gd[Gd.INTERNAL=13]="INTERNAL",Gd[Gd.UNAVAILABLE=14]="UNAVAILABLE",Gd[Gd.DATA_LOSS=15]="DATA_LOSS";class Yd{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Jd}static getOrCreateInstance(){return null===Jd&&(Jd=new Yd),Jd}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Jd=null;function Xd(){return new TextEncoder}const $d=new kc([4294967295,4294967295],0);function Zd(e){const t=Xd().encode(e),n=new wc;return n.update(t),new Uint8Array(n.digest())}function ef(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new kc([n,r],0),new kc([i,a],0)]}class tf{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new nf("Invalid padding: ".concat(t));if(n<0)throw new nf("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new nf("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new nf("Invalid padding when bitmap length is 0: ".concat(t));this.It=8*e.length-t,this.Tt=kc.fromNumber(this.It)}Et(e,t,n){let r=e.add(t.multiply(kc.fromNumber(n)));return 1===r.compare($d)&&(r=new kc([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=Zd(e),[n,r]=ef(t);for(let i=0;i<this.hashCount;i++){const e=this.Et(n,r,i);if(!this.At(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new tf(i,r,t);return n.forEach(e=>a.insert(e)),a}insert(e){if(0===this.It)return;const t=Zd(e),[n,r]=ef(t);for(let i=0;i<this.hashCount;i++){const e=this.Et(n,r,i);this.Rt(e)}}Rt(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class nf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class rf{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,af.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new rf(Jc.min(),r,new Eu(Kc),Xh(),sd())}}class af{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new af(n,t,sd(),sd(),sd())}}class sf{constructor(e,t,n,r){this.Pt=e,this.removedTargetIds=t,this.key=n,this.bt=r}}class of{constructor(e,t){this.targetId=e,this.Vt=t}}class lf{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Nu.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class cf{constructor(){this.St=0,this.Dt=df(),this.Ct=Nu.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=sd(),t=sd(),n=sd();return this.Dt.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Rc()}}),new af(this.Ct,this.xt,e,t,n)}Ft(){this.Nt=!1,this.Dt=df()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class uf{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Xh(),this.zt=hf(),this.Wt=new Eu(Kc)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const n=this.Zt(t);switch(e.state){case 0:this.te(t)&&n.$t(e.resumeToken);break;case 1:n.Ut(),n.kt||n.Ft(),n.$t(e.resumeToken);break;case 2:n.Ut(),n.kt||this.removeTarget(t);break;case 3:this.te(t)&&(n.Kt(),n.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),n.$t(e.resumeToken));break;default:Rc()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((e,n)=>{this.te(n)&&t(n)})}ne(e){var t;const n=e.targetId,r=e.Vt.count,i=this.se(n);if(i){const a=i.target;if(Ah(a))if(0===r){const e=new tu(a.path);this.Yt(n,e,rh.newNoDocument(e,Jc.min()))}else Dc(1===r);else{const i=this.ie(n);if(i!==r){const r=this.re(e,i);if(0!==r){this.ee(n);const e=2===r?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(n,e)}null===(t=Yd.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var r,i,a,s,o,l;const c={localCacheCount:t,existenceFilterCount:n.count},u=n.unchangedNames;return u&&(c.bloomFilter={applied:0===e,hashCount:null!==(r=null==u?void 0:u.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(s=null===(a=null===(i=null==u?void 0:u.bits)||void 0===i?void 0:i.bitmap)||void 0===a?void 0:a.length)&&void 0!==s?s:0,padding:null!==(l=null===(o=null==u?void 0:u.bits)||void 0===o?void 0:o.padding)&&void 0!==l?l:0}),c}(r,i,e.Vt))}}}}re(e,t){const{unchangedNames:n,count:r}=e.Vt;if(!n||!n.bits)return 1;const{bits:{bitmap:i="",padding:a=0},hashCount:s=0}=n;let o,l;try{o=Ou(i).toUint8Array()}catch(e){if(e instanceof Iu)return Nc("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{l=new tf(o,a,s)}catch(e){return Nc(e instanceof nf?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===l.It?1:r!==t-this.oe(e.targetId,l)?2:0}oe(e,t){const n=this.Gt.getRemoteKeysForTarget(e);let r=0;return n.forEach(n=>{const i=this.Gt.ue(),a="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());t.vt(a)||(this.Yt(e,n,null),r++)}),r}ce(e){const t=new Map;this.Qt.forEach((n,r)=>{const i=this.se(r);if(i){if(n.current&&Ah(i.target)){const t=new tu(i.target.path);null!==this.jt.get(t)||this.ae(r,t)||this.Yt(r,t,rh.newNoDocument(t,e))}n.Mt&&(t.set(r,n.Ot()),n.Ft())}});let n=sd();this.zt.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.se(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.jt.forEach((t,n)=>n.setReadTime(e));const r=new rf(e,t,this.Wt,this.jt,n);return this.jt=Xh(),this.zt=hf(),this.Wt=new Eu(Kc),r}Jt(e,t){if(!this.te(e))return;const n=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,n),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,n){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),n&&(this.jt=this.jt.insert(t,n))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new cf,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new _u(Kc),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Cc("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new cf),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function hf(){return new Eu(tu.comparator)}function df(){return new Eu(tu.comparator)}const ff={asc:"ASCENDING",desc:"DESCENDING"},pf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mf={and:"AND",or:"OR"};class gf{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function yf(e,t){return e.useProto3Json||fu(t)?t:{value:t}}function vf(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function bf(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function wf(e,t){return vf(e,t.toTimestamp())}function kf(e){return Dc(!!e),Jc.fromTimestamp(function(e){const t=Ru(e);return new Yc(t.seconds,t.nanos)}(e))}function Ef(e,t){return function(e){return new $c(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Tf(e){const t=$c.fromString(e);return Dc(Hf(t)),t}function Sf(e,t){return Ef(e.databaseId,t.path)}function _f(e,t){const n=Tf(t);if(n.get(1)!==e.databaseId.projectId)throw new Lc(Pc.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Lc(Pc.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new tu(Nf(n))}function xf(e,t){return Ef(e.databaseId,t)}function Cf(e){const t=Tf(e);return 4===t.length?$c.emptyPath():Nf(t)}function If(e){return new $c(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Nf(e){return Dc(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Af(e,t,n){return{name:Sf(e,t),fields:n.value.mapValue.fields}}function Rf(e,t){let n;if(t instanceof Pd)n={update:Af(e,t.key,t.value)};else if(t instanceof Ud)n={delete:Sf(e,t.key)};else if(t instanceof Ld)n={update:Af(e,t.key,t.data),updateMask:Bf(t.fieldMask)};else{if(!(t instanceof Vd))return Rc();n={verify:Sf(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof gd)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof yd)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof bd)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof kd)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw Rc()}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:wf(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Rc()}(e,t.precondition)),n}function Df(e,t){return{documents:[xf(e,t.path)]}}function Of(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=xf(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=xf(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0!==e.length)return zf(hh.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const a=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:Uf(e.field),direction:Mf(e.dir)}}(e))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const s=yf(e,t.limit);var o;return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Pf(e){let t=Cf(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Dc(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let a=[];n.where&&(a=function(e){const t=Lf(e);return t instanceof hh&&fh(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=n.orderBy.map(e=>function(e){return new oh(Vf(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,fu(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new ih(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new ih(n,t)}(n.endAt)),Dh(t,i,s,a,o,"F",l,c)}function Lf(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Vf(e.unaryFilter.field);return uh.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Vf(e.unaryFilter.field);return uh.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Vf(e.unaryFilter.field);return uh.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Vf(e.unaryFilter.field);return uh.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Rc()}}(e):void 0!==e.fieldFilter?function(e){return uh.create(Vf(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Rc()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return hh.create(e.compositeFilter.filters.map(e=>Lf(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Rc()}}(e.compositeFilter.op))}(e):Rc()}function Mf(e){return ff[e]}function jf(e){return pf[e]}function Ff(e){return mf[e]}function Uf(e){return{fieldPath:e.canonicalString()}}function Vf(e){return eu.fromServerFormat(e.fieldPath)}function zf(e){return e instanceof uh?function(e){if("=="===e.op){if(Xu(e.value))return{unaryFilter:{field:Uf(e.field),op:"IS_NAN"}};if(Ju(e.value))return{unaryFilter:{field:Uf(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Xu(e.value))return{unaryFilter:{field:Uf(e.field),op:"IS_NOT_NAN"}};if(Ju(e.value))return{unaryFilter:{field:Uf(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Uf(e.field),op:jf(e.op),value:e.value}}}(e):e instanceof hh?function(e){const t=e.getFilters().map(e=>zf(e));return 1===t.length?t[0]:{compositeFilter:{op:Ff(e.op),filters:t}}}(e):Rc()}function Bf(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Hf(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Wf{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Jc.min(),a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Jc.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Nu.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=s,this.expectedCount=o}withSequenceNumber(e){return new Wf(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Wf(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Wf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Wf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class qf{constructor(e){this.fe=e}}function Gf(e){const t=Pf({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?zh(t,t.limit,"L"):t}class Kf{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Du(e.integerValue));else if("doubleValue"in e){const n=Du(e.doubleValue);isNaN(n)?this.ye(t,13):(this.ye(t,15),pu(n)?t.pe(0):t.pe(n))}else if("timestampValue"in e){const n=e.timestampValue;this.ye(t,20),"string"==typeof n?t.Ie(n):(t.Ie("".concat(n.seconds||"")),t.pe(n.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Ou(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ye(t,45),t.pe(n.latitude||0),t.pe(n.longitude||0)}else"mapValue"in e?eh(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):Rc()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const n=e.fields||{};this.ye(t,55);for(const r of Object.keys(n))this.Te(r,t),this.me(n[r],t)}Pe(e,t){const n=e.values||[];this.ye(t,50);for(const r of n)this.me(r,t)}ve(e,t){this.ye(t,37),tu.fromName(e).path.forEach(e=>{this.ye(t,60),this.be(e,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}Kf.Ve=new Kf;class Qf{constructor(){this.rn=new Yf}addToCollectionParentIndex(e,t){return this.rn.add(t),uu.resolve()}getCollectionParents(e,t){return uu.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return uu.resolve()}deleteFieldIndex(e,t){return uu.resolve()}getDocumentsMatchingTarget(e,t){return uu.resolve(null)}getIndexType(e,t){return uu.resolve(0)}getFieldIndexes(e,t){return uu.resolve([])}getNextCollectionGroupToUpdate(e){return uu.resolve(null)}getMinOffset(e,t){return uu.resolve(au.min())}getMinOffsetFromCollectionGroup(e,t){return uu.resolve(au.min())}updateCollectionGroup(e,t,n){return uu.resolve()}updateIndexEntries(e,t){return uu.resolve()}}class Yf{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new _u($c.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new _u($c.comparator)).toArray()}}new Uint8Array(0);class Jf{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Jf(e,Jf.DEFAULT_COLLECTION_PERCENTILE,Jf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Jf.DEFAULT_COLLECTION_PERCENTILE=10,Jf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Jf.DEFAULT=new Jf(41943040,Jf.DEFAULT_COLLECTION_PERCENTILE,Jf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Jf.DISABLED=new Jf(-1,0,0);class Xf{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Xf(0)}static Mn(){return new Xf(-1)}}class $f{constructor(){this.changes=new Yh(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,rh.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?uu.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Zf{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class ep{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&Rd(n.mutation,e,Cu.empty(),Yc.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,sd()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:sd();const r=td();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=Zh();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=td();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,sd()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=Xh();const a=rd(),s=rd();return t.forEach((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof Ld)?i=i.insert(t.key,t):void 0!==s?(a.set(t.key,s.mutation.getFieldMask()),Rd(s.mutation,t,s.mutation.getFieldMask(),Yc.now())):a.set(t.key,Cu.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>a.set(e,t)),t.forEach((e,t)=>{var n;return s.set(e,new Zf(t,null!==(n=a.get(e))&&void 0!==n?n:null))}),s))}recalculateAndSaveOverlays(e,t){const n=rd();let r=new Eu((e,t)=>e-t),i=sd();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const a=t.get(e);if(null===a)return;let s=n.get(e)||Cu.empty();s=i.applyToLocalView(a,s),n.set(e,s);const o=(r.get(i.batchId)||sd()).add(e);r=r.insert(i.batchId,o)})}).next(()=>{const a=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),o=r.key,l=r.value,c=nd();l.forEach(e=>{if(!i.has(e)){const r=Nd(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}}),a.push(this.documentOverlayCache.saveOverlays(e,o,c))}return uu.waitFor(a)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n){return function(e){return tu.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):jh(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const a=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):uu.resolve(td());let s=-1,o=i;return a.next(t=>uu.forEach(t,(t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(t)?uu.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{o=o.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,o,t,sd())).next(e=>({batchId:s,changes:ed(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new tu(t)).next(e=>{let t=Zh();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n){const r=t.collectionGroup;let i=Zh();return this.indexManager.getCollectionParents(e,r).next(a=>uu.forEach(a,a=>{const s=function(e,t){return new Rh(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(r));return this.getDocumentsMatchingCollectionQuery(e,s,n).next(e=>{e.forEach((e,t)=>{i=i.insert(e,t)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,t,n){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(i=>(r=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r))).next(e=>{r.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,rh.newInvalidDocument(r)))});let n=Zh();return e.forEach((e,i)=>{const a=r.get(e);void 0!==a&&Rd(a.mutation,i,Cu.empty(),Yc.now()),qh(t,i)&&(n=n.insert(e,i))}),n})}}class tp{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return uu.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var n;return this.cs.set(t.id,{id:(n=t).id,version:n.version,createTime:kf(n.createTime)}),uu.resolve()}getNamedQuery(e,t){return uu.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,function(e){return{name:e.name,query:Gf(e.bundledQuery),readTime:kf(e.readTime)}}(t)),uu.resolve()}}class np{constructor(){this.overlays=new Eu(tu.comparator),this.ls=new Map}getOverlay(e,t){return uu.resolve(this.overlays.get(t))}getOverlays(e,t){const n=td();return uu.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.we(e,t,r)}),uu.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.ls.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.ls.delete(n)),uu.resolve()}getOverlaysForCollection(e,t,n){const r=td(),i=t.length+1,a=new tu(t.child("")),s=this.overlays.getIteratorFrom(a);for(;s.hasNext();){const e=s.getNext().value,a=e.getKey();if(!t.isPrefixOf(a.path))break;a.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return uu.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Eu((e,t)=>e-t);const a=this.overlays.getIterator();for(;a.hasNext();){const e=a.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=td(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=td(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((e,t)=>s.set(e,t)),!(s.size()>=r)););return uu.resolve(s)}we(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.ls.get(r.largestBatchId).delete(n.key);this.ls.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Hd(t,n));let i=this.ls.get(t);void 0===i&&(i=sd(),this.ls.set(t,i)),this.ls.set(t,i.add(n.key))}}class rp{constructor(){this.fs=new _u(ip.ds),this.ws=new _u(ip._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const n=new ip(e,t);this.fs=this.fs.add(n),this.ws=this.ws.add(n)}gs(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.ys(new ip(e,t))}ps(e,t){e.forEach(e=>this.removeReference(e,t))}Is(e){const t=new tu(new $c([])),n=new ip(t,e),r=new ip(t,e+1),i=[];return this.ws.forEachInRange([n,r],e=>{this.ys(e),i.push(e.key)}),i}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new tu(new $c([])),n=new ip(t,e),r=new ip(t,e+1);let i=sd();return this.ws.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new ip(e,0),n=this.fs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class ip{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return tu.comparator(e.key,t.key)||Kc(e.As,t.As)}static _s(e,t){return Kc(e.As,t.As)||tu.comparator(e.key,t.key)}}class ap{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new _u(ip.ds)}checkEmpty(e){return uu.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new zd(i,t,n,r);this.mutationQueue.push(a);for(const s of r)this.Rs=this.Rs.add(new ip(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return uu.resolve(a)}lookupMutationBatch(e,t){return uu.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.bs(n),i=r<0?0:r;return uu.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return uu.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return uu.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new ip(t,0),r=new ip(t,Number.POSITIVE_INFINITY),i=[];return this.Rs.forEachInRange([n,r],e=>{const t=this.Ps(e.As);i.push(t)}),uu.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new _u(Kc);return t.forEach(e=>{const t=new ip(e,0),r=new ip(e,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([t,r],e=>{n=n.add(e.As)})}),uu.resolve(this.Vs(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;tu.isDocumentKey(i)||(i=i.child(""));const a=new ip(new tu(i),0);let s=new _u(Kc);return this.Rs.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.As)),!0)},a),uu.resolve(this.Vs(s))}Vs(e){const t=[];return e.forEach(e=>{const n=this.Ps(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){Dc(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let n=this.Rs;return uu.forEach(t.mutations,r=>{const i=new ip(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Rs=n})}Cn(e){}containsKey(e,t){const n=new ip(t,0),r=this.Rs.firstAfterOrEqual(n);return uu.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,uu.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class sp{constructor(e){this.Ds=e,this.docs=new Eu(tu.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Ds(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return uu.resolve(n?n.document.mutableCopy():rh.newInvalidDocument(t))}getEntries(e,t){let n=Xh();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():rh.newInvalidDocument(e))}),uu.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Xh();const a=t.path,s=new tu(a.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:e,value:{document:s}}=o.getNext();if(!a.isPrefixOf(e.path))break;e.path.length>a.length+1||su(iu(s),n)<=0||(r.has(s.key)||qh(t,s))&&(i=i.insert(s.key,s.mutableCopy()))}return uu.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Rc()}Cs(e,t){return uu.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new op(this)}getSize(e){return uu.resolve(this.size)}}class op extends $f{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.os.addEntry(e,r)):this.os.removeEntry(n)}),uu.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class lp{constructor(e){this.persistence=e,this.xs=new Yh(e=>Ih(e),Nh),this.lastRemoteSnapshotVersion=Jc.min(),this.highestTargetId=0,this.Ns=0,this.ks=new rp,this.targetCount=0,this.Ms=Xf.kn()}forEachTarget(e,t){return this.xs.forEach((e,n)=>t(n)),uu.resolve()}getLastRemoteSnapshotVersion(e){return uu.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return uu.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),uu.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ns&&(this.Ns=t),uu.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Xf(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,uu.resolve()}updateTargetData(e,t){return this.Fn(t),uu.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,uu.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.xs.forEach((a,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.xs.delete(a),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)}),uu.waitFor(i).next(()=>r)}getTargetCount(e){return uu.resolve(this.targetCount)}getTargetData(e,t){const n=this.xs.get(t)||null;return uu.resolve(n)}addMatchingKeys(e,t,n){return this.ks.gs(t,n),uu.resolve()}removeMatchingKeys(e,t,n){this.ks.ps(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),uu.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),uu.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ks.Es(t);return uu.resolve(n)}containsKey(e,t){return uu.resolve(this.ks.containsKey(t))}}class cp{constructor(e,t){this.$s={},this.overlays={},this.Os=new du(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new lp(this),this.indexManager=new Qf,this.remoteDocumentCache=function(e){return new sp(e)}(e=>this.referenceDelegate.Ls(e)),this.serializer=new qf(t),this.qs=new tp(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new np,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.$s[e.toKey()];return n||(n=new ap(t,this.referenceDelegate),this.$s[e.toKey()]=n),n}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,n){Cc("MemoryPersistence","Starting transaction:",e);const r=new up(this.Os.next());return this.referenceDelegate.Us(),n(r).next(e=>this.referenceDelegate.Ks(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Gs(e,t){return uu.or(Object.values(this.$s).map(n=>()=>n.containsKey(e,t)))}}class up extends lu{constructor(e){super(),this.currentSequenceNumber=e}}class hp{constructor(e){this.persistence=e,this.Qs=new rp,this.js=null}static zs(e){return new hp(e)}get Ws(){if(this.js)return this.js;throw Rc()}addReference(e,t,n){return this.Qs.addReference(n,t),this.Ws.delete(n.toString()),uu.resolve()}removeReference(e,t,n){return this.Qs.removeReference(n,t),this.Ws.add(n.toString()),uu.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),uu.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(e=>this.Ws.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.Ws.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return uu.forEach(this.Ws,n=>{const r=tu.fromPath(n);return this.Hs(e,r).next(e=>{e||t.removeEntry(r,Jc.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(e=>{e?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return uu.or([()=>uu.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class dp{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Fi=n,this.Bi=r}static Li(e,t){let n=sd(),r=sd();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new dp(e,t.fromCache,n,r)}}class fp{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,n,r){return this.Ki(e,t).next(i=>i||this.Gi(e,t,r,n)).next(n=>n||this.Qi(e,t))}Ki(e,t){if(Ph(t))return uu.resolve(null);let n=Uh(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=zh(t,null,"F"),n=Uh(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=sd(...r);return this.Ui.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const a=this.ji(t,r);return this.zi(t,a,i,n.readTime)?this.Ki(e,zh(t,null,"F")):this.Wi(e,a,t,n)}))})))}Gi(e,t,n,r){return Ph(t)||r.isEqual(Jc.min())?this.Qi(e,t):this.Ui.getDocuments(e,n).next(i=>{const a=this.ji(t,i);return this.zi(t,a,n,r)?this.Qi(e,t):(xc()<=jr.DEBUG&&Cc("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Wh(t)),this.Wi(e,a,t,ru(r,-1)))})}ji(e,t){let n=new _u(Kh(e));return t.forEach((t,r)=>{qh(e,r)&&(n=n.add(r))}),n}zi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Qi(e,t){return xc()<=jr.DEBUG&&Cc("QueryEngine","Using full collection scan to execute query:",Wh(t)),this.Ui.getDocumentsMatchingQuery(e,t,au.min())}Wi(e,t,n,r){return this.Ui.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}class pp{constructor(e,t,n,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new Eu(Kc),this.Yi=new Yh(e=>Ih(e),Nh),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(n)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ep(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function mp(e,t,n,r){return new pp(e,t,n,r)}async function gp(e,t){const n=Oc(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.tr(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],a=[];let s=sd();for(const e of r){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){a.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next(e=>({er:e,removedBatchIds:i,addedBatchIds:a}))})})}function yp(e){const t=Oc(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Bs.getLastRemoteSnapshotVersion(e))}function vp(e,t,n){let r=sd(),i=sd();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=Xh();return n.forEach((n,a)=>{const s=e.get(n);a.isFoundDocument()!==s.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Jc.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):Cc("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)}),{nr:r,sr:i}})}function bp(e,t){const n=Oc(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function wp(e,t){const n=Oc(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Bs.getTargetData(e,t).next(i=>i?(r=i,uu.resolve(r)):n.Bs.allocateTargetId(e).next(i=>(r=new Wf(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Bs.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Ji.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e})}async function kp(e,t,n){const r=Oc(e),i=r.Ji.get(t),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!hu(e))throw e;Cc("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.Ji=r.Ji.remove(t),r.Yi.delete(i.target)}function Ep(e,t,n){const r=Oc(e);let i=Jc.min(),a=sd();return r.persistence.runTransaction("Execute query","readonly",e=>function(e,t,n){const r=Oc(e),i=r.Yi.get(n);return void 0!==i?uu.resolve(r.Ji.get(i)):r.Bs.getTargetData(t,n)}(r,e,Uh(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(e,t.targetId).next(e=>{a=e})}).next(()=>r.Hi.getDocumentsMatchingQuery(e,t,n?i:Jc.min(),n?a:sd())).next(e=>(Tp(r,Gh(t),e),{documents:e,ir:a})))}function Tp(e,t,n){let r=e.Xi.get(t)||Jc.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Xi.set(t,r)}class Sp{constructor(){this.activeTargetIds=ld()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _p{constructor(){this.Hr=new Sp,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,n){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Sp,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class xp{Yr(e){}shutdown(){}}class Cp{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Cc("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Cc("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Ip=null;function Np(){return null===Ip?Ip=268435456+Math.round(2147483648*Math.random()):Ip++,"0x"+Ip.toString(16)}const Ap={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Rp{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Dp="WebChannelConnection";class Op extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.mo=t+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,n,r,i){const a=Np(),s=this.To(e,t);Cc("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),s,n);const o={};return this.Eo(o,r,i),this.Ao(e,s,o,n).then(t=>(Cc("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t),t=>{throw Nc("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",s,"request:",n),t})}vo(e,t,n,r,i,a){return this.Io(e,t,n,r,i)}Eo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Sc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}To(e,t){const n=Ap[e];return"".concat(this.mo,"/v1/").concat(t,":").concat(n)}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,n,r){const i=Np();return new Promise((a,s)=>{const o=new bc;o.setWithCredentials(!0),o.listenOnce(pc.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case fc.NO_ERROR:const t=o.getResponseJson();Cc(Dp,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case fc.TIMEOUT:Cc(Dp,"RPC '".concat(e,"' ").concat(i," timed out")),s(new Lc(Pc.DEADLINE_EXCEEDED,"Request time out"));break;case fc.HTTP_ERROR:const n=o.getStatus();if(Cc(Dp,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Pc).indexOf(t)>=0?t:Pc.UNKNOWN}(t.status);s(new Lc(e,t.message))}else s(new Lc(Pc.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new Lc(Pc.UNAVAILABLE,"Connection failed."));break;default:Rc()}}finally{Cc(Dp,"RPC '".concat(e,"' ").concat(i," completed."))}});const l=JSON.stringify(r);Cc(Dp,"RPC '".concat(e,"' ").concat(i," sending request:"),r),o.send(t,"POST",l,n,15)})}Ro(e,t,n){const r=Np(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=hc(),s=dc(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.xmlHttpFactory=new yc({})),this.Eo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=i.join("");Cc(Dp,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),o);const u=a.createWebChannel(c,o);let h=!1,d=!1;const f=new Rp({ro:t=>{d?Cc(Dp,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(Cc(Dp,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),h=!0),Cc(Dp,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},oo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return p(u,vc.EventType.OPEN,()=>{d||Cc(Dp,"RPC '".concat(e,"' stream ").concat(r," transport opened."))}),p(u,vc.EventType.CLOSE,()=>{d||(d=!0,Cc(Dp,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.wo())}),p(u,vc.EventType.ERROR,t=>{d||(d=!0,Nc(Dp,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.wo(new Lc(Pc.UNAVAILABLE,"The operation could not be completed")))}),p(u,vc.EventType.MESSAGE,t=>{var n;if(!d){const i=t.data[0];Dc(!!i);const a=i,s=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(s){Cc(Dp,"RPC '".concat(e,"' stream ").concat(r," received error:"),s);const t=s.status;let n=function(e){const t=qd[e];if(void 0!==t)return Qd(t)}(t),i=s.message;void 0===n&&(n=Pc.INTERNAL,i="Unknown error status: "+t+" with message "+s.message),d=!0,f.wo(new Lc(n,i)),u.close()}else Cc(Dp,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f._o(i)}}),p(s,mc.STAT_EVENT,t=>{t.stat===gc.PROXY?Cc(Dp,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===gc.NOPROXY&&Cc(Dp,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{f.fo()},0),f}}function Pp(){return"undefined"!=typeof document?document:null}function Lp(e){return new gf(e,!0)}class Mp{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ii=e,this.timerId=t,this.Po=n,this.bo=r,this.Vo=i,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),n=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-n);r>0&&Cc("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.So," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class jp{constructor(e,t,n,r,i,a,s,o){this.ii=e,this.$o=n,this.Oo=r,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=s,this.listener=o,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Mp(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,t){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,4!==e?this.qo.reset():t&&t.code===Pc.RESOURCE_EXHAUSTED?(Ic(t.toString()),Ic("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):t&&t.code===Pc.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(t)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.Fo===t&&this.Zo(n,r)},t=>{e(()=>{const e=new Lc(Pc.UNKNOWN,"Fetching auth token failed: "+t.message);return this.tu(e)})})}Zo(e,t){const n=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{n(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(e=>{n(()=>this.tu(e))}),this.stream.onMessage(e=>{n(()=>this.onMessage(e))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return Cc("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Cc("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Fp extends jp{constructor(e,t,n,r,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,a),this.serializer=i}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Rc()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(Dc(void 0===t||"string"==typeof t),Nu.fromBase64String(t||"")):(Dc(void 0===t||t instanceof Uint8Array),Nu.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,o=s&&function(e){const t=void 0===e.code?Pc.UNKNOWN:Qd(e.code);return new Lc(t,e.message||"")}(s);n=new lf(r,i,a,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=_f(e,r.document.name),a=kf(r.document.updateTime),s=r.document.createTime?kf(r.document.createTime):Jc.min(),o=new th({mapValue:{fields:r.document.fields}}),l=rh.newFoundDocument(i,a,s,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new sf(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=_f(e,r.document),a=r.readTime?kf(r.readTime):Jc.min(),s=rh.newNoDocument(i,a),o=r.removedTargetIds||[];n=new sf([],o,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=_f(e,r.document),a=r.removedTargetIds||[];n=new sf([],a,i,null)}else{if(!("filter"in t))return Rc();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,a=new Wd(r,i),s=e.targetId;n=new of(s,a)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Jc.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Jc.min():t.readTime?kf(t.readTime):Jc.min()}(e);return this.listener.nu(t,n)}su(e){const t={};t.database=If(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Ah(r)?{documents:Df(e,r)}:{query:Of(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=bf(e,t.resumeToken);const r=yf(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Jc.min())>0){n.readTime=vf(e,t.snapshotVersion.toTimestamp());const r=yf(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Rc()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Wo(t)}iu(e){const t={};t.database=If(this.serializer),t.removeTarget=e,this.Wo(t)}}class Up extends jp{constructor(e,t,n,r,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,a),this.serializer=i,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Dc(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function(e,t){return e&&e.length>0?(Dc(void 0!==t),e.map(e=>function(e,t){let n=e.updateTime?kf(e.updateTime):kf(t);return n.isEqual(Jc.min())&&(n=kf(t)),new _d(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=kf(e.commitTime);return this.listener.cu(n,t)}return Dc(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=If(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>Rf(this.serializer,e))};this.Wo(t)}}class Vp extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new Lc(Pc.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,n){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(r=>{let[i,a]=r;return this.connection.Io(e,t,n,i,a)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Pc.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Lc(Pc.UNKNOWN,e.toString())})}vo(e,t,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[a,s]=i;return this.connection.vo(e,t,n,a,s,r)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Pc.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Lc(Pc.UNKNOWN,e.toString())})}terminate(){this.lu=!0}}class zp{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.mu?(Ic(t),this.mu=!1):Cc("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Bp{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=i,this.Pu.Yr(e=>{n.enqueueAndForget(async()=>{Xp(this)&&(Cc("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Oc(e);t.vu.add(4),await Wp(t),t.bu.set("Unknown"),t.vu.delete(4),await Hp(t)}(this))})}),this.bu=new zp(n,r)}}async function Hp(e){if(Xp(e))for(const t of e.Ru)await t(!0)}async function Wp(e){for(const t of e.Ru)await t(!1)}function qp(e,t){const n=Oc(e);n.Au.has(t.targetId)||(n.Au.set(t.targetId,t),Jp(n)?Yp(n):mm(n).Ko()&&Kp(n,t))}function Gp(e,t){const n=Oc(e),r=mm(n);n.Au.delete(t),r.Ko()&&Qp(n,t),0===n.Au.size&&(r.Ko()?r.jo():Xp(n)&&n.bu.set("Unknown"))}function Kp(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Jc.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}mm(e).su(t)}function Qp(e,t){e.Vu.qt(t),mm(e).iu(t)}function Yp(e){e.Vu=new uf({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),le:t=>e.Au.get(t)||null,ue:()=>e.datastore.serializer.databaseId}),mm(e).start(),e.bu.gu()}function Jp(e){return Xp(e)&&!mm(e).Uo()&&e.Au.size>0}function Xp(e){return 0===Oc(e).vu.size}function $p(e){e.Vu=void 0}async function Zp(e){e.Au.forEach((t,n)=>{Kp(e,t)})}async function em(e,t){$p(e),Jp(e)?(e.bu.Iu(t),Yp(e)):e.bu.set("Unknown")}async function tm(e,t,n){if(e.bu.set("Online"),t instanceof lf&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Au.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Au.delete(r),e.Vu.removeTarget(r))}(e,t)}catch(n){Cc("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await nm(e,n)}else if(t instanceof sf?e.Vu.Ht(t):t instanceof of?e.Vu.ne(t):e.Vu.Xt(t),!n.isEqual(Jc.min()))try{const t=await yp(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Vu.ce(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Au.get(r);i&&e.Au.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Au.get(t);if(!r)return;e.Au.set(t,r.withResumeToken(Nu.EMPTY_BYTE_STRING,r.snapshotVersion)),Qp(e,t);const i=new Wf(r.target,t,n,r.sequenceNumber);Kp(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Cc("RemoteStore","Failed to raise snapshot:",t),await nm(e,t)}}async function nm(e,t,n){if(!hu(t))throw t;e.vu.add(1),await Wp(e),e.bu.set("Offline"),n||(n=()=>yp(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Cc("RemoteStore","Retrying IndexedDB access"),await n(),e.vu.delete(1),await Hp(e)})}function rm(e,t){return t().catch(n=>nm(e,n,t))}async function im(e){const t=Oc(e),n=gm(t);let r=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;am(t);)try{const e=await bp(t.localStore,r);if(null===e){0===t.Eu.length&&n.jo();break}r=e.batchId,sm(t,e)}catch(e){await nm(t,e)}om(t)&&lm(t)}function am(e){return Xp(e)&&e.Eu.length<10}function sm(e,t){e.Eu.push(t);const n=gm(e);n.Ko()&&n.ou&&n.uu(t.mutations)}function om(e){return Xp(e)&&!gm(e).Uo()&&e.Eu.length>0}function lm(e){gm(e).start()}async function cm(e){gm(e).hu()}async function um(e){const t=gm(e);for(const n of e.Eu)t.uu(n.mutations)}async function hm(e,t,n){const r=e.Eu.shift(),i=Bd.from(r,t,n);await rm(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await im(e)}async function dm(e,t){t&&gm(e).ou&&await async function(e,t){if(Kd(n=t.code)&&n!==Pc.ABORTED){const n=e.Eu.shift();gm(e).Qo(),await rm(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await im(e)}var n}(e,t),om(e)&&lm(e)}async function fm(e,t){const n=Oc(e);n.asyncQueue.verifyOperationInProgress(),Cc("RemoteStore","RemoteStore received new credentials");const r=Xp(n);n.vu.add(3),await Wp(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.vu.delete(3),await Hp(n)}async function pm(e,t){const n=Oc(e);t?(n.vu.delete(2),await Hp(n)):t||(n.vu.add(2),await Wp(n),n.bu.set("Unknown"))}function mm(e){return e.Su||(e.Su=function(e,t,n){const r=Oc(e);return r.fu(),new Fp(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:Zp.bind(null,e),ao:em.bind(null,e),nu:tm.bind(null,e)}),e.Ru.push(async t=>{t?(e.Su.Qo(),Jp(e)?Yp(e):e.bu.set("Unknown")):(await e.Su.stop(),$p(e))})),e.Su}function gm(e){return e.Du||(e.Du=function(e,t,n){const r=Oc(e);return r.fu(),new Up(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:cm.bind(null,e),ao:dm.bind(null,e),au:um.bind(null,e),cu:hm.bind(null,e)}),e.Ru.push(async t=>{t?(e.Du.Qo(),await im(e)):(await e.Du.stop(),e.Eu.length>0&&(Cc("RemoteStore","Stopping write stream with ".concat(e.Eu.length," pending writes")),e.Eu=[]))})),e.Du}class ym{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Mc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}static createAndSchedule(e,t,n,r,i){const a=Date.now()+n,s=new ym(e,t,a,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Lc(Pc.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vm(e,t){if(Ic("AsyncQueue","".concat(t,": ").concat(e)),hu(e))return new Lc(Pc.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class bm{constructor(e){this.comparator=e?(t,n)=>e(t,n)||tu.comparator(t.key,n.key):(e,t)=>tu.comparator(e.key,t.key),this.keyedMap=Zh(),this.sortedSet=new Eu(this.comparator)}static emptySet(e){return new bm(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof bm))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new bm;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class wm{constructor(){this.Cu=new Eu(tu.comparator)}track(e){const t=e.doc.key,n=this.Cu.get(t);n?0!==e.type&&3===n.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==n.type?this.Cu=this.Cu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Cu=this.Cu.remove(t):1===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):Rc():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,n)=>{e.push(n)}),e}}class km{constructor(e,t,n,r,i,a,s,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=s,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const a=[];return t.forEach(e=>{a.push({type:0,doc:e})}),new km(e,t,bm.emptySet(t),a,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Em{constructor(){this.Nu=void 0,this.listeners=[]}}class Tm{constructor(){this.queries=new Yh(e=>Hh(e),Bh),this.onlineState="Unknown",this.ku=new Set}}async function Sm(e,t){const n=Oc(e),r=t.query;let i=!1,a=n.queries.get(r);if(a||(i=!0,a=new Em),i)try{a.Nu=await n.onListen(r)}catch(e){const n=vm(e,"Initialization of query '".concat(Wh(t.query),"' failed"));return void t.onError(n)}n.queries.set(r,a),a.listeners.push(t),t.Mu(n.onlineState),a.Nu&&t.$u(a.Nu)&&Im(n)}async function _m(e,t){const n=Oc(e),r=t.query;let i=!1;const a=n.queries.get(r);if(a){const e=a.listeners.indexOf(t);e>=0&&(a.listeners.splice(e,1),i=0===a.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function xm(e,t){const n=Oc(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.listeners)e.$u(i)&&(r=!0);t.Nu=i}}r&&Im(n)}function Cm(e,t,n){const r=Oc(e),i=r.queries.get(t);if(i)for(const a of i.listeners)a.onError(n);r.queries.delete(t)}function Im(e){e.ku.forEach(e=>{e.next()})}class Nm{constructor(e,t,n){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=n||{}}$u(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new km(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.Ku||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){if(e.docChanges.length>0)return!0;const t=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Uu(e){e=km.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class Am{constructor(e){this.key=e}}class Rm{constructor(e){this.key=e}}class Dm{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=sd(),this.mutatedKeys=sd(),this.tc=Kh(e),this.ec=new bm(this.tc)}get nc(){return this.Yu}sc(e,t){const n=t?t.ic:new wm,r=t?t.ec:this.ec;let i=t?t.mutatedKeys:this.mutatedKeys,a=r,s=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=qh(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.rc(c,u)||(n.track({type:2,doc:u}),f=!0,(o&&this.tc(u,o)>0||l&&this.tc(u,l)<0)&&(s=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(o||l)&&(s=!0)),f&&(u?(a=a.add(u),i=d?i.add(e):i.delete(e)):(a=a.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;a.size>this.query.limit;){const e="F"===this.query.limitType?a.last():a.first();a=a.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{ec:a,ic:n,zi:s,mutatedKeys:i}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const i=e.ic.xu();i.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Rc()}};return n(e)-n(t)}(e.type,t.type)||this.tc(e.doc,t.doc)),this.oc(n);const a=t?this.uc():[],s=0===this.Zu.size&&this.current?1:0,o=s!==this.Xu;return this.Xu=s,0!==i.length||o?{snapshot:new km(this.query,e.ec,r,i,e.mutatedKeys,0===s,o,!1,!!n&&n.resumeToken.approximateByteSize()>0),cc:a}:{cc:a}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new wm,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(e=>this.Yu=this.Yu.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Yu=this.Yu.delete(e)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=sd(),this.ec.forEach(e=>{this.ac(e.key)&&(this.Zu=this.Zu.add(e.key))});const t=[];return e.forEach(e=>{this.Zu.has(e)||t.push(new Rm(e))}),this.Zu.forEach(n=>{e.has(n)||t.push(new Am(n))}),t}hc(e){this.Yu=e.ir,this.Zu=sd();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return km.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Om{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Pm{constructor(e){this.key=e,this.fc=!1}}class Lm{constructor(e,t,n,r,i,a){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.dc={},this.wc=new Yh(e=>Hh(e),Bh),this._c=new Map,this.mc=new Set,this.gc=new Eu(tu.comparator),this.yc=new Map,this.Ic=new rp,this.Tc={},this.Ec=new Map,this.Ac=Xf.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}async function Mm(e,t){const n=eg(e);let r,i;const a=n.wc.get(t);if(a)r=a.targetId,n.sharedClientState.addLocalQueryTarget(r),i=a.view.lc();else{const e=await wp(n.localStore,Uh(t)),a=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await jm(n,t,r,"current"===a,e.resumeToken),n.isPrimaryClient&&qp(n.remoteStore,e)}return i}async function jm(e,t,n,r,i){e.Rc=(t,n,r)=>async function(e,t,n,r){let i=t.view.sc(n);i.zi&&(i=await Ep(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.sc(n,i)}));const a=r&&r.targetChanges.get(t.targetId),s=t.view.applyChanges(i,e.isPrimaryClient,a);return Qm(e,t.targetId,s.cc),s.snapshot}(e,t,n,r);const a=await Ep(e.localStore,t,!0),s=new Dm(t,a.ir),o=s.sc(a.documents),l=af.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=s.applyChanges(o,e.isPrimaryClient,l);Qm(e,n,c.cc);const u=new Om(t,n,s);return e.wc.set(t,u),e._c.has(n)?e._c.get(n).push(t):e._c.set(n,[t]),c.snapshot}async function Fm(e,t){const n=Oc(e),r=n.wc.get(t),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(e=>!Bh(e,t))),void n.wc.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await kp(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Gp(n.remoteStore,r.targetId),Gm(n,r.targetId)}).catch(cu)):(Gm(n,r.targetId),await kp(n.localStore,r.targetId,!0))}async function Um(e,t){const n=Oc(e);try{const e=await function(e,t){const n=Oc(e),r=t.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const a=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const s=[];t.targetChanges.forEach((a,o)=>{const l=i.get(o);if(!l)return;s.push(n.Bs.removeMatchingKeys(e,a.removedDocuments,o).next(()=>n.Bs.addMatchingKeys(e,a.addedDocuments,o)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(Nu.EMPTY_BYTE_STRING,Jc.min()).withLastLimboFreeSnapshotVersion(Jc.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,a)&&s.push(n.Bs.updateTargetData(e,c))});let o=Xh(),l=sd();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),s.push(vp(e,a,t.documentUpdates).next(e=>{o=e.nr,l=e.sr})),!r.isEqual(Jc.min())){const t=n.Bs.getLastRemoteSnapshotVersion(e).next(t=>n.Bs.setTargetsMetadata(e,e.currentSequenceNumber,r));s.push(t)}return uu.waitFor(s).next(()=>a.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,o,l)).next(()=>o)}).then(e=>(n.Ji=i,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.yc.get(t);r&&(Dc(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.fc=!0:e.modifiedDocuments.size>0?Dc(r.fc):e.removedDocuments.size>0&&(Dc(r.fc),r.fc=!1))}),await Xm(n,e,t)}catch(e){await cu(e)}}function Vm(e,t,n){const r=Oc(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.wc.forEach((n,r)=>{const i=r.view.Mu(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=Oc(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.listeners)i.Mu(t)&&(r=!0)}),r&&Im(n)}(r.eventManager,t),e.length&&r.dc.nu(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function zm(e,t,n){const r=Oc(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.yc.get(t),a=i&&i.key;if(a){let e=new Eu(tu.comparator);e=e.insert(a,rh.newNoDocument(a,Jc.min()));const n=sd().add(a),i=new rf(Jc.min(),new Map,new Eu(Kc),e,n);await Um(r,i),r.gc=r.gc.remove(a),r.yc.delete(t),Jm(r)}else await kp(r.localStore,t,!1).then(()=>Gm(r,t,n)).catch(cu)}async function Bm(e,t){const n=Oc(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Oc(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,a=i.keys();let s=uu.resolve();return a.forEach(e=>{s=s.next(()=>r.getEntry(t,e)).next(t=>{const a=n.docVersions.get(e);Dc(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),s.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=sd();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);qm(n,r,null),Wm(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Xm(n,e)}catch(e){await cu(e)}}async function Hm(e,t,n){const r=Oc(e);try{const e=await function(e,t){const n=Oc(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(Dc(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);qm(r,t,n),Wm(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Xm(r,e)}catch(n){await cu(n)}}function Wm(e,t){(e.Ec.get(t)||[]).forEach(e=>{e.resolve()}),e.Ec.delete(t)}function qm(e,t,n){const r=Oc(e);let i=r.Tc[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Tc[r.currentUser.toKey()]=i}}function Gm(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e._c.get(t))e.wc.delete(r),n&&e.dc.Pc(r,n);e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach(t=>{e.Ic.containsKey(t)||Km(e,t)})}function Km(e,t){e.mc.delete(t.path.canonicalString());const n=e.gc.get(t);null!==n&&(Gp(e.remoteStore,n),e.gc=e.gc.remove(t),e.yc.delete(n),Jm(e))}function Qm(e,t,n){for(const r of n)r instanceof Am?(e.Ic.addReference(r.key,t),Ym(e,r)):r instanceof Rm?(Cc("SyncEngine","Document no longer in limbo: "+r.key),e.Ic.removeReference(r.key,t),e.Ic.containsKey(r.key)||Km(e,r.key)):Rc()}function Ym(e,t){const n=t.key,r=n.path.canonicalString();e.gc.get(n)||e.mc.has(r)||(Cc("SyncEngine","New document in limbo: "+n),e.mc.add(r),Jm(e))}function Jm(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){const t=e.mc.values().next().value;e.mc.delete(t);const n=new tu($c.fromString(t)),r=e.Ac.next();e.yc.set(r,new Pm(n)),e.gc=e.gc.insert(n,r),qp(e.remoteStore,new Wf(Uh(Oh(n.path)),r,"TargetPurposeLimboResolution",du.ct))}}async function Xm(e,t,n){const r=Oc(e),i=[],a=[],s=[];r.wc.isEmpty()||(r.wc.forEach((e,o)=>{s.push(r.Rc(o,t,n).then(e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(o.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=dp.Li(o.targetId,e);a.push(t)}}))}),await Promise.all(s),r.dc.nu(i),await async function(e,t){const n=Oc(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>uu.forEach(t,t=>uu.forEach(t.Fi,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>uu.forEach(t.Bi,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!hu(e))throw e;Cc("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ji.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ji=n.Ji.insert(e,i)}}}(r.localStore,a))}async function $m(e,t){const n=Oc(e);if(!n.currentUser.isEqual(t)){Cc("SyncEngine","User change. New user:",t.toKey());const e=await gp(n.localStore,t);n.currentUser=t,function(e){e.Ec.forEach(e=>{e.forEach(e=>{e.reject(new Lc(Pc.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),e.Ec.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Xm(n,e.er)}}function Zm(e,t){const n=Oc(e),r=n.yc.get(t);if(r&&r.fc)return sd().add(r.key);{let e=sd();const r=n._c.get(t);if(!r)return e;for(const t of r){const r=n.wc.get(t);e=e.unionWith(r.view.nc)}return e}}function eg(e){const t=Oc(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Um.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Zm.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=zm.bind(null,t),t.dc.nu=xm.bind(null,t.eventManager),t.dc.Pc=Cm.bind(null,t.eventManager),t}function tg(e){const t=Oc(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Bm.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Hm.bind(null,t),t}class ng{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Lp(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return mp(this.persistence,new fp,e.initialUser,this.serializer)}createPersistence(e){return new cp(hp.zs,this.serializer)}createSharedClientState(e){return new _p}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class rg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Vm(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=$m.bind(null,this.syncEngine),await pm(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Tm}createDatastore(e){const t=Lp(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new Op(r));var r;return function(e,t,n,r){return new Vp(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>Vm(this.syncEngine,e,0),a=Cp.D()?new Cp:new xp,new Bp(t,n,r,i,a);var t,n,r,i,a}createSyncEngine(e,t){return function(e,t,n,r,i,a,s){const o=new Lm(e,t,n,r,i,a);return s&&(o.vc=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=Oc(e);Cc("RemoteStore","RemoteStore shutting down."),t.vu.add(5),await Wp(t),t.Pu.shutdown(),t.bu.set("Unknown")}(this.remoteStore)}}class ig{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Ic("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class ag{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Tc.UNAUTHENTICATED,this.clientId=Gc.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,async e=>{Cc("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(Cc("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Lc(Pc.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Mc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(Be){const n=vm(Be,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function sg(e,t){e.asyncQueue.verifyOperationInProgress(),Cc("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await gp(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function og(e,t){e.asyncQueue.verifyOperationInProgress();const n=await cg(e);Cc("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(e=>fm(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>fm(t.remoteStore,n)),e._onlineComponents=t}function lg(e){return"FirebaseError"===e.name?e.code===Pc.FAILED_PRECONDITION||e.code===Pc.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function cg(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Cc("FirestoreClient","Using user provided OfflineComponentProvider");try{await sg(e,e._uninitializedComponentsProvider._offline)}catch(Be){const n=Be;if(!lg(n))throw n;Nc("Error using user provided cache. Falling back to memory cache: "+n),await sg(e,new ng)}}else Cc("FirestoreClient","Using default OfflineComponentProvider"),await sg(e,new ng);return e._offlineComponents}async function ug(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Cc("FirestoreClient","Using user provided OnlineComponentProvider"),await og(e,e._uninitializedComponentsProvider._online)):(Cc("FirestoreClient","Using default OnlineComponentProvider"),await og(e,new rg))),e._onlineComponents}function hg(e){return ug(e).then(e=>e.syncEngine)}async function dg(e){const t=await ug(e),n=t.eventManager;return n.onListen=Mm.bind(null,t.syncEngine),n.onUnlisten=Fm.bind(null,t.syncEngine),n}function fg(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Mc;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const a=new ig({next:a=>{t.enqueueAndForget(()=>_m(e,s));const o=a.docs.has(n);!o&&a.fromCache?i.reject(new Lc(Pc.UNAVAILABLE,"Failed to get document because the client is offline.")):o&&a.fromCache&&r&&"server"===r.source?i.reject(new Lc(Pc.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:e=>i.reject(e)}),s=new Nm(Oh(n.path),a,{includeMetadataChanges:!0,Ku:!0});return Sm(e,s)}(await dg(e),e.asyncQueue,t,n,r)),r.promise}function pg(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Mc;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const a=new ig({next:n=>{t.enqueueAndForget(()=>_m(e,s)),n.fromCache&&"server"===r.source?i.reject(new Lc(Pc.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),s=new Nm(n,a,{includeMetadataChanges:!0,Ku:!0});return Sm(e,s)}(await dg(e),e.asyncQueue,t,n,r)),r.promise}function mg(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const gg=new Map;function yg(e,t,n){if(!n)throw new Lc(Pc.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function vg(e){if(!tu.isDocumentKey(e))throw new Lc(Pc.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function bg(e){if(tu.isDocumentKey(e))throw new Lc(Pc.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function wg(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Rc()}function kg(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Lc(Pc.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=wg(e);throw new Lc(Pc.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function Eg(e,t){if(t<=0)throw new Lc(Pc.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}class Tg{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Lc(Pc.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Lc(Pc.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Lc(Pc.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mg(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Lc(Pc.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Lc(Pc.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Lc(Pc.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}class Sg{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Tg({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Lc(Pc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Lc(Pc.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Tg(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Fc;switch(e.type){case"firstParty":return new Bc(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Lc(Pc.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=gg.get(e);t&&(Cc("ComponentProvider","Removing Datastore"),gg.delete(e),t.terminate())}(this),Promise.resolve()}}class _g{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cg(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _g(this.firestore,e,this._key)}}class xg{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new xg(this.firestore,e,this._query)}}class Cg extends xg{constructor(e,t,n){super(e,t,Oh(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _g(this.firestore,null,new tu(e))}withConverter(e){return new Cg(this.firestore,e,this._path)}}function Ig(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Rr(e),yg("collection","path",t),e instanceof Sg){const n=$c.fromString(t,...r);return bg(n),new Cg(e,null,n)}{if(!(e instanceof _g||e instanceof Cg))throw new Lc(Pc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child($c.fromString(t,...r));return bg(n),new Cg(e.firestore,null,n)}}function Ng(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Rr(e),1===arguments.length&&(t=Gc.A()),yg("doc","path",t),e instanceof Sg){const n=$c.fromString(t,...r);return vg(n),new _g(e,null,new tu(n))}{if(!(e instanceof _g||e instanceof Cg))throw new Lc(Pc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child($c.fromString(t,...r));return vg(n),new _g(e.firestore,e instanceof Cg?e.converter:null,new tu(n))}}class Ag{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Mp(this,"async_queue_retry"),this.Xc=()=>{const e=Pp();e&&Cc("AsyncQueue","Visibility state changed to "+e.visibilityState),this.qo.Mo()};const e=Pp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=Pp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Mc;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(0!==this.Qc.length){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(He){if(!hu(He))throw He;Cc("AsyncQueue","Operation failed with retryable error: "+He)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(e=>{this.Wc=e,this.Hc=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Ic("INTERNAL UNHANDLED ERROR: ",t),e}).then(e=>(this.Hc=!1,e))));return this.Gc=t,t}enqueueAfterDelay(e,t,n){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const r=ym.createAndSchedule(this,e,t,n,e=>this.na(e));return this.zc.push(r),r}Zc(){this.Wc&&Rc()}verifyOperationInProgress(){}async sa(){let e;do{e=this.Gc,await e}while(e!==this.Gc)}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class Rg extends Sg{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Ag,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Og(this),this._firestoreClient.terminate()}}function Dg(e){return e._firestoreClient||Og(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Og(e){var t,n,r;const i=e._freezeSettings(),a=function(e,t,n,r){return new ju(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,mg(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new ag(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class Pg{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pg(Nu.fromBase64String(e))}catch(e){throw new Lc(Pc.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Pg(Nu.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Lg{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Lc(Pc.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new eu(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Mg{constructor(e){this._methodName=e}}class jg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Lc(Pc.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Lc(Pc.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Kc(this._lat,e._lat)||Kc(this._long,e._long)}}const Fg=/^__.*__$/;class Ug{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Ld(e,this.data,this.fieldMask,t,this.fieldTransforms):new Pd(e,this.data,t,this.fieldTransforms)}}class Vg{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Ld(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function zg(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Rc()}}class Bg{constructor(e,t,n,r,i,a){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.ua(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Bg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.fa(e),r}da(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return iy(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(zg(this.ca)&&Fg.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Hg{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Lp(e)}ya(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Bg({ca:e,methodName:t,ga:n,path:eu.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Wg(e){const t=e._freezeSettings(),n=Lp(e._databaseId);return new Hg(e._databaseId,!!t.ignoreUndefinedProperties,n)}function qg(e,t,n,r,i){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=e.ya(a.merge||a.mergeFields?2:0,t,n,i);ey("Data must be an object, but it was:",s,r);const o=$g(r,s);let l,c;if(a.merge)l=new Cu(s.fieldMask),c=s.fieldTransforms;else if(a.mergeFields){const e=[];for(const r of a.mergeFields){const i=ty(t,r,n);if(!s.contains(i))throw new Lc(Pc.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));ay(e,i)||e.push(i)}l=new Cu(e),c=s.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=s.fieldTransforms;return new Ug(new th(o),l,c)}class Gg extends Mg{_toFieldTransform(e){if(2!==e.ca)throw 1===e.ca?e._a("".concat(this._methodName,"() can only appear at the top level of your update data")):e._a("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Gg}}class Kg extends Mg{_toFieldTransform(e){return new Sd(e.path,new gd)}isEqual(e){return e instanceof Kg}}function Qg(e,t,n,r){const i=e.ya(1,t,n);ey("Data must be an object, but it was:",i,r);const a=[],s=th.empty();wu(r,(e,r)=>{const o=ry(t,e,n);r=Rr(r);const l=i.da(o);if(r instanceof Gg)a.push(o);else{const e=Xg(r,l);null!=e&&(a.push(o),s.set(o,e))}});const o=new Cu(a);return new Vg(s,o,i.fieldTransforms)}function Yg(e,t,n,r,i,a){const s=e.ya(1,t,n),o=[ty(t,r,n)],l=[i];if(a.length%2!=0)throw new Lc(Pc.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let d=0;d<a.length;d+=2)o.push(ty(t,a[d])),l.push(a[d+1]);const c=[],u=th.empty();for(let d=o.length-1;d>=0;--d)if(!ay(c,o[d])){const e=o[d];let t=l[d];t=Rr(t);const n=s.da(e);if(t instanceof Gg)c.push(e);else{const r=Xg(t,n);null!=r&&(c.push(e),u.set(e,r))}}const h=new Cu(c);return new Vg(u,h,s.fieldTransforms)}function Jg(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Xg(n,e.ya(r?4:3,t))}function Xg(e,t){if(Zg(e=Rr(e)))return ey("Unsupported field value:",t,e),$g(e,t);if(e instanceof Mg)return function(e,t){if(!zg(t.ca))throw t._a("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t._a("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Xg(i,t.wa(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Rr(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return hd(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Yc.fromDate(e);return{timestampValue:vf(t.serializer,n)}}if(e instanceof Yc){const n=new Yc(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:vf(t.serializer,n)}}if(e instanceof jg)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Pg)return{bytesValue:bf(t.serializer,e._byteString)};if(e instanceof _g){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t._a("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Ef(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a("Unsupported field value: ".concat(wg(e)))}(e,t)}function $g(e,t){const n={};return ku(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):wu(e,(e,r)=>{const i=Xg(r,t.ha(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function Zg(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Yc||e instanceof jg||e instanceof Pg||e instanceof _g||e instanceof Mg)}function ey(e,t,n){if(!Zg(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=wg(n);throw"an object"===r?t._a(e+" a custom object"):t._a(e+" "+r)}}function ty(e,t,n){if((t=Rr(t))instanceof Lg)return t._internalPath;if("string"==typeof t)return ry(e,t);throw iy("Field path arguments must be of type string or ",e,!1,void 0,n)}const ny=new RegExp("[~\\*/\\[\\]]");function ry(e,t,n){if(t.search(ny)>=0)throw iy("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new Lg(...t.split("."))._internalPath}catch(Ye){throw iy("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function iy(e,t,n,r,i){const a=r&&!r.isEmpty(),s=void 0!==i;let o="Function ".concat(t,"() called with invalid data");n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(a||s)&&(l+=" (found",a&&(l+=" in field ".concat(r)),s&&(l+=" in document ".concat(i)),l+=")"),new Lc(Pc.INVALID_ARGUMENT,o+e+l)}function ay(e,t){return e.some(e=>e.isEqual(t))}class sy{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new _g(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new oy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ly("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class oy extends sy{data(){return super.data()}}function ly(e,t){return"string"==typeof t?ry(e,t):t instanceof Lg?t._internalPath:t._delegate._internalPath}function cy(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Lc(Pc.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class uy{}class hy extends uy{}function dy(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof uy&&n.push(t),n=n.concat(i),function(e){const t=e.filter(e=>e instanceof my).length,n=e.filter(e=>e instanceof fy).length;if(t>1||t>0&&n>0)throw new Lc(Pc.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)e=s._apply(e);return e}class fy extends hy{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new fy(e,t,n)}_apply(e){const t=this._parse(e);return _y(e._query,t),new xg(e.firestore,e.converter,Vh(e._query,t))}_parse(e){const t=Wg(e.firestore),n=function(e,t,n,r,i,a,s){let o;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Lc(Pc.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){Sy(s,a);const t=[];for(const n of s)t.push(Ty(r,e,n));o={arrayValue:{values:t}}}else o=Ty(r,e,s)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||Sy(s,a),o=Jg(n,"where",s,"in"===a||"not-in"===a);return uh.create(i,a,o)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function py(e,t,n){const r=t,i=ly("where",e);return fy._create(i,r,n)}class my extends uy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new my(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:hh.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)_y(n,i),n=Vh(n,i)}(e._query,t),new xg(e.firestore,e.converter,Vh(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class gy extends hy{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new gy(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Lc(Pc.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Lc(Pc.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new oh(t,n);return function(e,t){if(null===Lh(e)){const n=Mh(e);null!==n&&xy(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new xg(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Rh(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function yy(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=ly("orderBy",e);return gy._create(n,t)}class vy extends hy{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new vy(e,t,n)}_apply(e){return new xg(e.firestore,e.converter,zh(e._query,this._limit,this._limitType))}}function by(e){return Eg("limit",e),vy._create("limit",e,"F")}class wy extends hy{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new wy(e,t,n)}_apply(e){const t=Ey(e,this.type,this._docOrFields,this._inclusive);return new xg(e.firestore,e.converter,function(e,t){return new Rh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}function ky(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return wy._create("startAfter",t,!1)}function Ey(e,t,n,r){if(n[0]=Rr(n[0]),n[0]instanceof sy)return function(e,t,n,r,i){if(!r)throw new Lc(Pc.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));const a=[];for(const s of Fh(e))if(s.field.isKeyField())a.push(Ku(t,r.key));else{const e=r.data.field(s.field);if(Pu(e))throw new Lc(Pc.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=s.field.canonicalString();throw new Lc(Pc.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(e,"' (used as the orderBy) does not exist."))}a.push(e)}return new ih(a,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=Wg(e.firestore);return function(e,t,n,r,i,a){const s=e.explicitOrderBy;if(i.length>s.length)throw new Lc(Pc.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));const o=[];for(let l=0;l<i.length;l++){const a=i[l];if(s[l].field.isKeyField()){if("string"!=typeof a)throw new Lc(Pc.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof a));if(!jh(e)&&-1!==a.indexOf("/"))throw new Lc(Pc.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(a,"' contains a slash."));const n=e.path.child($c.fromString(a));if(!tu.isDocumentKey(n))throw new Lc(Pc.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(n,"' is not because it contains an odd number of segments."));const i=new tu(n);o.push(Ku(t,i))}else{const e=Jg(n,r,a);o.push(e)}}return new ih(o,a)}(e._query,e.firestore._databaseId,i,t,n,r)}}function Ty(e,t,n){if("string"==typeof(n=Rr(n))){if(""===n)throw new Lc(Pc.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!jh(t)&&-1!==n.indexOf("/"))throw new Lc(Pc.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child($c.fromString(n));if(!tu.isDocumentKey(r))throw new Lc(Pc.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Ku(e,new tu(r))}if(n instanceof _g)return Ku(e,n._key);throw new Lc(Pc.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(wg(n),"."))}function Sy(e,t){if(!Array.isArray(e)||0===e.length)throw new Lc(Pc.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function _y(e,t){if(t.isInequality()){const n=Mh(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new Lc(Pc.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));const i=Lh(e);null!==i&&xy(e,r,i)}const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Lc(Pc.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Lc(Pc.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}function xy(e,t,n){if(!n.isEqual(t))throw new Lc(Pc.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}class Cy{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Vu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Du(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ou(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Rc()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return wu(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertGeoPoint(e){return new jg(Du(e.latitude),Du(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Lu(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Mu(e));default:return null}}convertTimestamp(e){const t=Ru(e);return new Yc(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=$c.fromString(e);Dc(Hf(n));const r=new Fu(n.get(1),n.get(3)),i=new tu(n.popFirst(5));return r.isEqual(t)||Ic("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function Iy(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Ny{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ay extends sy{constructor(e,t,n,r,i,a){super(e,t,n,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Ry(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(ly("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Ry extends Ay{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Dy{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Ny(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Ry(this._firestore,this._userDataWriter,n.key,n,new Ny(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Lc(Pc.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new Ry(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Ny(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new Ry(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Ny(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,a=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),a=n.indexOf(t.doc.key)),{type:Oy(t.type),doc:r,oldIndex:i,newIndex:a}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Oy(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Rc()}}function Py(e){e=kg(e,_g);const t=kg(e.firestore,Rg);return fg(Dg(t),e._key).then(n=>zy(t,e,n))}class Ly extends Cy{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pg(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new _g(this.firestore,null,t)}}function My(e){e=kg(e,xg);const t=kg(e.firestore,Rg),n=Dg(t),r=new Ly(t);return cy(e._query),pg(n,e._query).then(n=>new Dy(t,r,e,n))}function jy(e,t,n){e=kg(e,_g);const r=kg(e.firestore,Rg),i=Wg(r);let a;for(var s=arguments.length,o=new Array(s>3?s-3:0),l=3;l<s;l++)o[l-3]=arguments[l];return a="string"==typeof(t=Rr(t))||t instanceof Lg?Yg(i,"updateDoc",e._key,t,n,o):Qg(i,"updateDoc",e._key,t),Vy(r,[a.toMutation(e._key,xd.exists(!0))])}function Fy(e){return Vy(kg(e.firestore,Rg),[new Ud(e._key,xd.none())])}function Uy(e,t){const n=kg(e.firestore,Rg),r=Ng(e),i=Iy(e.converter,t);return Vy(n,[qg(Wg(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,xd.exists(!1))]).then(()=>r)}function Vy(e,t){return function(e,t){const n=new Mc;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=tg(e);try{const e=await function(e,t){const n=Oc(e),r=Yc.now(),i=t.reduce((e,t)=>e.add(t.key),sd());let a,s;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let o=Xh(),l=sd();return n.Zi.getEntries(e,i).next(e=>{o=e,o.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,o)).next(i=>{a=i;const s=[];for(const e of t){const t=Dd(e,a.get(e.key).overlayedDocument);null!=t&&s.push(new Ld(e.key,t,nh(t.value.mapValue),xd.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)}).next(t=>{s=t;const r=t.applyToLocalDocumentSet(a,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:s.batchId,changes:ed(a)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Tc[e.currentUser.toKey()];r||(r=new Eu(Kc)),r=r.insert(t,n),e.Tc[e.currentUser.toKey()]=r}(r,e.batchId,n),await Xm(r,e.changes),await im(r.remoteStore)}catch(e){const t=vm(e,"Failed to persist write");n.reject(t)}}(await hg(e),t,n)),n.promise}(Dg(e),t)}function zy(e,t,n){const r=n.docs.get(t._key),i=new Ly(e);return new Ay(e,i,t._key,r,new Ny(n.hasPendingWrites,n.fromCache),t.converter)}function By(){return new Kg("serverTimestamp")}!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Sc=e}(Bi),Fi(new Dr("firestore",(e,n)=>{let{instanceIdentifier:r,options:i}=n;const a=e.getProvider("app").getImmediate(),s=new Rg(new Vc(e.getProvider("auth-internal")),new Wc(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Lc(Pc.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fu(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),s._setSettings(i),s},"PUBLIC").setMultipleInstances(!0)),qi(Ec,"3.13.0",e),qi(Ec,"3.13.0","esm2017")}();qi("firebase","9.23.0","app");function Hy(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function Wy(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const qy=Wy,Gy=new Er("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ky=new Br("@firebase/auth");function Qy(e){if(Ky.logLevel<=jr.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Ky.error("Auth (".concat(Bi,"): ").concat(e),...n)}}function Yy(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw $y(e,...n)}function Jy(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return $y(e,...n)}function Xy(e,t,n){const r=Object.assign(Object.assign({},qy()),{[t]:n});return new Er("auth","Firebase",r).create(t,{appName:e.name})}function $y(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Gy.create(e,...n)}function Zy(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw $y(t,...r)}}function ev(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Qy(t),new Error(t)}function tv(e,t){e||ev(t)}function nv(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function rv(){return"http:"===iv()||"https:"===iv()}function iv(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function av(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(rv()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class sv{constructor(e,t){this.shortDelay=e,this.longDelay=t,tv(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(br())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return av()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ov(e,t){tv(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class lv{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void ev("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void ev("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void ev("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const cv={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},uv=new sv(3e4,6e4);function hv(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function dv(e,t,n,r){return fv(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let i={},a={};r&&("GET"===t?a=r:i={body:JSON.stringify(r)});const s=xr(Object.assign({key:e.config.apiKey},a)).slice(1),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode),lv.fetch()(mv(e,e.config.apiHost,n,s),Object.assign({method:t,headers:o,referrerPolicy:"no-referrer"},i))})}async function fv(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},cv),t);try{const t=new gv(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw yv(e,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const t=i.ok?a.errorMessage:a.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw yv(e,"credential-already-in-use",a);if("EMAIL_EXISTS"===n)throw yv(e,"email-already-in-use",a);if("USER_DISABLED"===n)throw yv(e,"user-disabled",a);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw Xy(e,o,s);Yy(e,o)}}catch(Be){if(Be instanceof kr)throw Be;Yy(e,"network-request-failed",{message:String(Be)})}}async function pv(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const a=await dv(e,t,n,r,i);return"mfaPendingCredential"in a&&Yy(e,"multi-factor-auth-required",{_serverResponse:a}),a}function mv(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?ov(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}class gv{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(Jy(this.auth,"network-request-failed")),uv.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function yv(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Jy(e,t,r);return i.customData._tokenResponse=n,i}function vv(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(Be){}}function bv(e){return 1e3*Number(e)}function wv(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Qy("JWT malformed, contained fewer than 3 sections"),null;try{const e=ur(n);return e?JSON.parse(e):(Qy("Failed to decode base64 JWT payload"),null)}catch(Be){return Qy("Caught error parsing JWT payload as JSON",null===Be||void 0===Be?void 0:Be.toString()),null}}async function kv(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(Be){throw Be instanceof kr&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(Be)&&e.auth.currentUser===e&&await e.auth.signOut(),Be}}class Ev{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(Be){return void((null===Be||void 0===Be?void 0:Be.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Tv{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=vv(this.lastLoginAt),this.creationTime=vv(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Sv(e){var t;const n=e.auth,r=await e.getIdToken(),i=await kv(e,async function(e,t){return dv(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));Zy(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const a=i.users[0];e._notifyReloadListener(a);const s=(null===(t=a.providerUserInfo)||void 0===t?void 0:t.length)?a.providerUserInfo.map(e=>{var{providerId:t}=e,n=Hy(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}):[];const o=function(e,t){const n=e.filter(e=>!t.some(t=>t.providerId===e.providerId));return[...n,...t]}(e.providerData,s),l=e.isAnonymous,c=!(e.email&&a.passwordHash)&&!(null===o||void 0===o?void 0:o.length),u=!!l&&c,h={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new Tv(a.createdAt,a.lastLoginAt),isAnonymous:u};Object.assign(e,h)}class _v{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Zy(e.idToken,"internal-error"),Zy("undefined"!==typeof e.idToken,"internal-error"),Zy("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=wv(e);return Zy(t,"internal-error"),Zy("undefined"!==typeof t.exp,"internal-error"),Zy("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Zy(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await fv(e,{},async()=>{const n=xr({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,a=mv(e,r,"/v1/token","key=".concat(i)),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",lv.fetch()(a,{method:"POST",headers:s,body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,a=new _v;return n&&(Zy("string"===typeof n,"internal-error",{appName:e}),a.refreshToken=n),r&&(Zy("string"===typeof r,"internal-error",{appName:e}),a.accessToken=r),i&&(Zy("number"===typeof i,"internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _v,this.toJSON())}_performRefresh(){return ev("not implemented")}}function xv(e,t){Zy("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Cv{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=Hy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ev(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Tv(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await kv(this,this.stsTokenManager.getToken(this.auth,e));return Zy(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Rr(e),r=await n.getIdToken(t),i=wv(r);Zy(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a="object"===typeof i.firebase?i.firebase:void 0,s=null===a||void 0===a?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:vv(bv(i.auth_time)),issuedAtTime:vv(bv(i.iat)),expirationTime:vv(bv(i.exp)),signInProvider:s||null,signInSecondFactor:(null===a||void 0===a?void 0:a.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Rr(e);await Sv(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Zy(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Cv(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Zy(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Sv(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await kv(this,async function(e,t){return dv(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,a,s,o,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(a=t.photoURL)&&void 0!==a?a:void 0,p=null!==(s=t.tenantId)&&void 0!==s?s:void 0,m=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:b,isAnonymous:w,providerData:k,stsTokenManager:E}=t;Zy(v&&E,e,"internal-error");const T=_v.fromJSON(this.name,E);Zy("string"===typeof v,e,"internal-error"),xv(u,e.name),xv(h,e.name),Zy("boolean"===typeof b,e,"internal-error"),Zy("boolean"===typeof w,e,"internal-error"),xv(d,e.name),xv(f,e.name),xv(p,e.name),xv(m,e.name),xv(g,e.name),xv(y,e.name);const S=new Cv({uid:v,auth:e,email:h,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:T,createdAt:g,lastLoginAt:y});return k&&Array.isArray(k)&&(S.providerData=k.map(e=>Object.assign({},e))),m&&(S._redirectEventId=m),S}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new _v;r.updateFromServerResponse(t);const i=new Cv({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Sv(i),i}}const Iv=new Map;function Nv(e){tv(e instanceof Function,"Expected a class definition");let t=Iv.get(e);return t?(tv(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Iv.set(e,t),t)}class Av{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Av.type="NONE";const Rv=Av;function Dv(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class Ov{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Dv(this.userKey,r.apiKey,i),this.fullPersistenceKey=Dv("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Cv._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Ov(Nv(Rv),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||Nv(Rv);const a=Dv(n,e.config.apiKey,e.name);let s=null;for(const c of t)try{const t=await c._get(a);if(t){const n=Cv._fromJSON(e,t);c!==i&&(s=n),i=c;break}}catch(l){}const o=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&o.length?(i=o[0],s&&await i._set(a,s.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(a)}catch(l){}})),new Ov(i,e,n)):new Ov(i,e,n)}}function Pv(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Fv(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Lv(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Vv(t))return"Blackberry";if(zv(t))return"Webos";if(Mv(t))return"Safari";if((t.includes("chrome/")||jv(t))&&!t.includes("edge/"))return"Chrome";if(Uv(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Lv(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:br();return/firefox\//i.test(e)}function Mv(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:br()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function jv(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:br();return/crios\//i.test(e)}function Fv(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:br();return/iemobile/i.test(e)}function Uv(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:br();return/android/i.test(e)}function Vv(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:br();return/blackberry/i.test(e)}function zv(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:br();return/webos/i.test(e)}function Bv(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:br();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Hv(){return function(){const e=br();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Wv(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:br();return Bv(e)||Uv(e)||zv(e)||Vv(e)||/windows phone/i.test(e)||Fv(e)}function qv(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Pv(br());break;case"Worker":t="".concat(Pv(br()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Bi,"/").concat(r)}async function Gv(e,t){return dv(e,"GET","/v2/recaptchaConfig",hv(e,t))}function Kv(e){return void 0!==e&&void 0!==e.enterprise}class Qv{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(e=>"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState)}}function Yv(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Jy("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})}function Jv(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Xv{constructor(e){this.type="recaptcha-enterprise",this.auth=tb(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Kv(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n("NO_RECAPTCHA")})}):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{Gv(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new Qv(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(i=>{if(!t&&Kv(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));Yv("https://www.google.com/recaptcha/enterprise.js?render="+i).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function $v(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new Xv(e);let a;try{a=await i.verify(n)}catch(o){a=await i.verify(n,!0)}const s=Object.assign({},t);return r?Object.assign(s,{captchaResp:a}):Object.assign(s,{captchaResponse:a}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}class Zv{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(Be){r(Be)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(Be){t.reverse();for(const n of t)try{n()}catch(It){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===Be||void 0===Be?void 0:Be.message})}}}class eb{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nb(this),this.idTokenSubscription=new nb(this),this.beforeStateQueue=new Zv(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Gy,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Nv(t)),this._initializationPromise=this.queue(async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await Ov.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(Be){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,s=await this.tryRedirectSignIn(e);n&&n!==a||!(null===s||void 0===s?void 0:s.user)||(r=s.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(Be){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(Be))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Zy(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(Be){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Sv(e)}catch(Be){if((null===Be||void 0===Be?void 0:Be.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?Rr(e):null;return t&&Zy(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Zy(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Nv(e))})}async initializeRecaptchaConfig(){const e=await Gv(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),t=new Qv(e);if(null==this.tenantId?this._agentRecaptchaConfig=t:this._tenantRecaptchaConfigs[this.tenantId]=t,t.emailPasswordEnabled){new Xv(this).verify()}}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Er("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Nv(e)||this._popupRedirectResolver;Zy(t,this,"argument-error"),this.redirectPersistenceManager=await Ov.create(this,[Nv(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t),a=this._isInitialized?Promise.resolve():this._initializationPromise;return Zy(a,this,"internal-error"),a.then(()=>i(this.currentUser)),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Zy(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Ky.logLevel<=jr.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Ky.warn("Auth (".concat(Bi,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function tb(e){return Rr(e)}class nb{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new Nr(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return Zy(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function rb(e,t,n){const r=tb(e);Zy(r._canInitEmulator,r,"emulator-config-failed"),Zy(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=ib(t),{host:s,port:o}=function(e){const t=ib(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:ab(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:ab(t)}}}(t),l=null===o?"":":".concat(o);r.config.emulator={url:"".concat(a,"//").concat(s).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:o,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function ib(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function ab(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class sb{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ev("not implemented")}_getIdTokenResponse(e){return ev("not implemented")}_linkToIdToken(e,t){return ev("not implemented")}_getReauthenticationResolver(e){return ev("not implemented")}}async function ob(e,t){return dv(e,"POST","/v1/accounts:update",t)}async function lb(e,t){return pv(e,"POST","/v1/accounts:signInWithPassword",hv(e,t))}class cb extends sb{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new cb(e,t,"password")}static _fromEmailAndCode(e,t){return new cb(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){var t;switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(null===(t=e._getRecaptchaConfig())||void 0===t?void 0:t.emailPasswordEnabled){const t=await $v(e,n,"signInWithPassword");return lb(e,t)}return lb(e,n).catch(async t=>{if(t.code==="auth/".concat("missing-recaptcha-token")){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const t=await $v(e,n,"signInWithPassword");return lb(e,t)}return Promise.reject(t)});case"emailLink":return async function(e,t){return pv(e,"POST","/v1/accounts:signInWithEmailLink",hv(e,t))}(e,{email:this._email,oobCode:this._password});default:Yy(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return ob(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return pv(e,"POST","/v1/accounts:signInWithEmailLink",hv(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Yy(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ub(e,t){return pv(e,"POST","/v1/accounts:signInWithIdp",hv(e,t))}class hb extends sb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new hb(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Yy("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=Hy(t,["providerId","signInMethod"]);if(!n||!r)return null;const a=new hb(n,r);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){return ub(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,ub(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ub(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=xr(t)}return e}}const db={USER_NOT_FOUND:"user-not-found"};class fb extends sb{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new fb({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new fb({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return pv(e,"POST","/v1/accounts:signInWithPhoneNumber",hv(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await pv(e,"POST","/v1/accounts:signInWithPhoneNumber",hv(e,t));if(n.temporaryProof)throw yv(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return pv(e,"POST","/v1/accounts:signInWithPhoneNumber",hv(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),db)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new fb({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class pb{constructor(e){var t,n,r,i,a,s;const o=Cr(Ir(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(n=o.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);Zy(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=o.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(a=o.languageCode)&&void 0!==a?a:null,this.tenantId=null!==(s=o.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=Cr(Ir(e)).link,n=t?Cr(Ir(t)).deep_link_id:null,r=Cr(Ir(e)).deep_link_id;return(r?Cr(Ir(r)).link:null)||r||n||t||e}(e);try{return new pb(t)}catch(n){return null}}}class mb{constructor(){this.providerId=mb.PROVIDER_ID}static credential(e,t){return cb._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=pb.parseLink(t);return Zy(n,"argument-error"),cb._fromEmailAndCode(e,n.code,n.tenantId)}}mb.PROVIDER_ID="password",mb.EMAIL_PASSWORD_SIGN_IN_METHOD="password",mb.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class gb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class yb extends gb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class vb extends yb{constructor(){super("facebook.com")}static credential(e){return hb._fromParams({providerId:vb.PROVIDER_ID,signInMethod:vb.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vb.credentialFromTaggedObject(e)}static credentialFromError(e){return vb.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return vb.credential(t.oauthAccessToken)}catch(n){return null}}}vb.FACEBOOK_SIGN_IN_METHOD="facebook.com",vb.PROVIDER_ID="facebook.com";class bb extends yb{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return hb._fromParams({providerId:bb.PROVIDER_ID,signInMethod:bb.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return bb.credentialFromTaggedObject(e)}static credentialFromError(e){return bb.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return bb.credential(n,r)}catch(i){return null}}}bb.GOOGLE_SIGN_IN_METHOD="google.com",bb.PROVIDER_ID="google.com";class wb extends yb{constructor(){super("github.com")}static credential(e){return hb._fromParams({providerId:wb.PROVIDER_ID,signInMethod:wb.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wb.credentialFromTaggedObject(e)}static credentialFromError(e){return wb.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return wb.credential(t.oauthAccessToken)}catch(n){return null}}}wb.GITHUB_SIGN_IN_METHOD="github.com",wb.PROVIDER_ID="github.com";class kb extends yb{constructor(){super("twitter.com")}static credential(e,t){return hb._fromParams({providerId:kb.PROVIDER_ID,signInMethod:kb.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return kb.credentialFromTaggedObject(e)}static credentialFromError(e){return kb.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return kb.credential(n,r)}catch(i){return null}}}kb.TWITTER_SIGN_IN_METHOD="twitter.com",kb.PROVIDER_ID="twitter.com";class Eb{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await Cv._fromIdTokenResponse(e,n,r),a=Tb(n);return new Eb({user:i,providerId:a,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Tb(n);return new Eb({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Tb(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Sb extends kr{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Sb.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Sb(e,t,n,r)}}function _b(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Sb._fromErrorAndOperation(e,n,t,r);throw n})}async function xb(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await kv(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Eb._forOperation(e,"link",r)}async function Cb(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e,i="reauthenticate";try{const a=await kv(e,_b(r,i,t,e),n);Zy(a.idToken,r,"internal-error");const s=wv(a.idToken);Zy(s,r,"internal-error");const{sub:o}=s;return Zy(e.uid===o,r,"user-mismatch"),Eb._forOperation(e,i,a)}catch(Be){throw(null===Be||void 0===Be?void 0:Be.code)==="auth/".concat("user-not-found")&&Yy(r,"user-mismatch"),Be}}async function Ib(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="signIn",i=await _b(e,r,t),a=await Eb._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(a.user),a}new WeakMap;const Nb="__sak";class Ab{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Nb,"1"),this.storage.removeItem(Nb),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Rb extends Ab{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=br();return Mv(e)||Bv(e)}()&&function(){try{return!(!window||window===window.top)}catch(Be){return!1}}(),this.fallbackToPolling=Wv(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Hv()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Rb.type="LOCAL";const Db=Rb;class Ob extends Ab{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Ob.type="SESSION";const Pb=Ob;class Lb{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new Lb(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,a=this.handlersMap[r];if(!(null===a||void 0===a?void 0:a.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(a).map(async e=>e(t.origin,i)),o=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Mb(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Lb.receivers=[];class jb{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,a;return new Promise((s,o)=>{const l=Mb("",20);r.port1.start();const c=setTimeout(()=>{o(new Error("unsupported_event"))},n);a={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{o(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(c),clearTimeout(i),o(new Error("invalid_response"))}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}function Fb(){return window}function Ub(){return"undefined"!==typeof Fb().WorkerGlobalScope&&"function"===typeof Fb().importScripts}const Vb="firebaseLocalStorageDb",zb="firebaseLocalStorage",Bb="fbase_key";class Hb{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Wb(e,t){return e.transaction([zb],t?"readwrite":"readonly").objectStore(zb)}function qb(){const e=indexedDB.open(Vb,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(zb,{keyPath:Bb})}catch(Be){n(Be)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(zb)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Vb);return new Hb(e).toPromise()}(),t(await qb()))})})}async function Gb(e,t,n){const r=Wb(e,!0).put({[Bb]:t,value:n});return new Hb(r).toPromise()}function Kb(e,t){const n=Wb(e,!0).delete(t);return new Hb(n).toPromise()}class Qb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await qb()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(Be){if(t++>3)throw Be;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ub()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Lb._getInstance(Ub()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new jb(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await qb();return await Gb(e,Nb,"1"),await Kb(e,Nb),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Gb(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=Wb(e,!1).get(t),r=await new Hb(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Kb(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=Wb(e,!1).getAll();return new Hb(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Qb.type="LOCAL";const Yb=Qb;Jv("rcb"),new sv(3e4,6e4);const Jb="recaptcha";async function Xb(e,t,n){var r;const i=await n.verify();try{let a;if(Zy("string"===typeof i,e,"argument-error"),Zy(n.type===Jb,e,"argument-error"),a="string"===typeof t?{phoneNumber:t}:t,"session"in a){const t=a.session;if("phoneNumber"in a){Zy("enroll"===t.type,e,"internal-error");const n=await function(e,t){return dv(e,"POST","/v2/accounts/mfaEnrollment:start",hv(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:a.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{Zy("signin"===t.type,e,"internal-error");const n=(null===(r=a.multiFactorHint)||void 0===r?void 0:r.uid)||a.multiFactorUid;Zy(n,e,"missing-multi-factor-info");const s=await function(e,t){return dv(e,"POST","/v2/accounts/mfaSignIn:start",hv(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return s.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return dv(e,"POST","/v1/accounts:sendVerificationCode",hv(e,t))}(e,{phoneNumber:a.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class $b{constructor(e){this.providerId=$b.PROVIDER_ID,this.auth=tb(e)}verifyPhoneNumber(e,t){return Xb(this.auth,e,Rr(t))}static credential(e,t){return fb._fromVerification(e,t)}static credentialFromResult(e){const t=e;return $b.credentialFromTaggedObject(t)}static credentialFromError(e){return $b.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?fb._fromTokenResponse(n,r):null}}function Zb(e,t){return t?Nv(t):(Zy(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}$b.PROVIDER_ID="phone",$b.PHONE_SIGN_IN_METHOD="phone";class ew extends sb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ub(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ub(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ub(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function tw(e){return Ib(e.auth,new ew(e),e.bypassAuthState)}function nw(e){const{auth:t,user:n}=e;return Zy(n,t,"internal-error"),Cb(n,new ew(e),e.bypassAuthState)}async function rw(e){const{auth:t,user:n}=e;return Zy(n,t,"internal-error"),xb(n,new ew(e),e.bypassAuthState)}class iw{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(Be){this.reject(Be)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:a,type:s}=e;if(a)return void this.reject(a);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(o))}catch(Be){this.reject(Be)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return tw;case"linkViaPopup":case"linkViaRedirect":return rw;case"reauthViaPopup":case"reauthViaRedirect":return nw;default:Yy(this.auth,"internal-error")}}resolve(e){tv(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){tv(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const aw=new sv(2e3,1e4);class sw extends iw{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,sw.currentPopupAction&&sw.currentPopupAction.cancel(),sw.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Zy(e,this.auth,"internal-error"),e}async onExecution(){tv(1===this.filter.length,"Popup operations only handle one event");const e=Mb();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Jy(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Jy(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,sw.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Jy(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,aw.get())};e()}}sw.currentPopupAction=null;const ow=new Map;class lw extends iw{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=ow.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=hw(t),r=uw(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(Be){e=()=>Promise.reject(Be)}ow.set(this.auth._key(),e)}return this.bypassAuthState||ow.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function cw(e,t){ow.set(e._key(),t)}function uw(e){return Nv(e._redirectPersistence)}function hw(e){return Dv("pendingRedirect",e.config.apiKey,e.name)}async function dw(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=tb(e),i=Zb(r,t),a=new lw(r,i,n),s=await a.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}class fw{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mw(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!mw(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Jy(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(pw(e))}saveEventToCache(e){this.cachedEventUids.add(pw(e)),this.lastProcessedEventTime=Date.now()}}function pw(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function mw(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const gw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yw=/^https?/;async function vw(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return dv(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(bw(r))return}catch(n){}Yy(e,"unauthorized-domain")}function bw(e){const t=nv(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!yw.test(n))return!1;if(gw.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const ww=new sv(3e4,6e4);function kw(){const e=Fb().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let Ew=null;function Tw(e){return Ew=Ew||function(e){return new Promise((t,n)=>{var r,i,a;function s(){kw(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{kw(),n(Jy(e,"network-request-failed"))},timeout:ww.get()})}if(null===(i=null===(r=Fb().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Fb().gapi)||void 0===a?void 0:a.load)){const t=Jv("iframefcb");return Fb()[t]=()=>{gapi.load?s():n(Jy(e,"network-request-failed"))},Yv("https://apis.google.com/js/api.js?onload=".concat(t)).catch(e=>n(e))}s()}}).catch(e=>{throw Ew=null,e})}(e),Ew}const Sw=new sv(5e3,15e3),_w={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Cw(e){const t=e.config;Zy(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?ov(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Bi},i=xw.get(e.config.apiHost);i&&(r.eid=i);const a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(xr(r).slice(1))}const Iw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Nw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(Be){}}}function Aw(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},Iw),{width:r.toString(),height:i.toString(),top:a,left:s}),c=br().toLowerCase();n&&(o=jv(c)?"_blank":n),Lv(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return Bv(arguments.length>0&&void 0!==arguments[0]?arguments[0]:br())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new Nw(null);const h=window.open(t||"",o,u);Zy(h,e,"popup-blocked");try{h.focus()}catch(Be){}return new Nw(h)}const Rw="__/auth/handler",Dw="emulator/auth/handler",Ow=encodeURIComponent("fac");async function Pw(e,t,n,r,i,a){Zy(e.config.authDomain,e,"auth-domain-config-required"),Zy(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Bi,eventId:i};if(t instanceof gb){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(a||{}))s[e]=t}if(t instanceof yb){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const o=s;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const l=await e._getAppCheckToken(),c=l?"#".concat(Ow,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Rw);return ov(t,Dw)}(e),"?").concat(xr(o).slice(1)).concat(c)}const Lw="webStorageSupport";const Mw=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Pb,this._completeRedirectFn=dw,this._overrideRedirectResult=cw}async _openPopup(e,t,n,r){var i;tv(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Aw(e,await Pw(e,t,n,nv(),r),Mb())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Fb().location.href=e}(await Pw(e,t,n,nv(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(tv(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await async function(e){const t=await Tw(e),n=Fb().gapi;return Zy(n,e,"internal-error"),t.open({where:document.body,url:Cw(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_w,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Jy(e,"network-request-failed"),a=Fb().setTimeout(()=>{r(i)},Sw.get());function s(){Fb().clearTimeout(a),n(t)}t.ping(s).then(s,()=>{r(i)})}))}(e),n=new fw(e);return t.register("authEvent",t=>{Zy(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Lw,{type:Lw},n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Lw];void 0!==i&&t(!!i),Yy(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=vw(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Wv()||Mv()||Bv()}};var jw="@firebase/auth",Fw="0.23.2";class Uw{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Zy(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Vw=gr("authIdTokenMaxAge")||300;let zw=null;var Bw;Bw="Browser",Fi(new Dr("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=r.options;Zy(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:o,clientPlatform:Bw,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qv(Bw)},c=new eb(r,i,a,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Nv);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Fi(new Dr("auth-internal",e=>(e=>new Uw(e))(tb(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),qi(jw,Fw,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Bw)),qi(jw,Fw,"esm2017");const Hw="firebasestorage.googleapis.com",Ww="storageBucket";class qw extends kr{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(Qw(e),"Firebase Storage: ".concat(t," (").concat(Qw(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,qw.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Qw(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var Gw,Kw;function Qw(e){return"storage/"+e}function Yw(){return new qw(Gw.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Jw(){return new qw(Gw.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Xw(){return new qw(Gw.CANCELED,"User canceled the upload/download.")}function $w(e){return new qw(Gw.INVALID_ARGUMENT,e)}function Zw(){return new qw(Gw.APP_DELETED,"The Firebase app was deleted.")}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(Gw||(Gw={}));class ek{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=ek.makeFromUrl(e,t)}catch(Be){return new ek(e,"")}if(""===n.path)return n;throw r=e,new qw(Gw.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function a(e){e.path_=decodeURIComponent(e.path)}const s=t.replace(/[.]/g,"\\."),o=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:a},{regex:new RegExp("^https?://".concat(t===Hw?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:a}];for(let l=0;l<o.length;l++){const t=o[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new ek(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new qw(Gw.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class tk{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function nk(e,t,n,r){if(r<t)throw $w("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw $w("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function rk(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function ik(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Kw||(Kw={}));class ak{constructor(e,t,n,r,i,a,s,o,l,c,u){let h=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=a,this.callback_=s,this.errorCallback_=o,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()})}start_(){const e=(e,t)=>{if(t)return void e(!1,new sk(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===Kw.NO_ERROR,i=n.getStatus();if(!t||ik(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===Kw.ABORT;return void e(!1,new sk(!1,null,t))}const a=-1!==this.successCodes_.indexOf(i);e(!0,new sk(a,n))})},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(Be){r(Be)}else if(null!==i){const e=Yw();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?Zw():Xw())}else{r(Jw())}};this.canceled_?t(0,new sk(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,a=null,s=!1,o=0;function l(){return 2===o}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function h(t){i=setTimeout(()=>{i=null,e(f,l())},t)}function d(){a&&clearTimeout(a)}function f(e){if(c)return void d();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return d(),void u.call(null,e,...n);if(l()||s)return d(),void u.call(null,e,...n);let a;r<64&&(r*=2),1===o?(o=2,a=0):a=1e3*(r+Math.random()),h(a)}let p=!1;function m(e){p||(p=!0,d(),c||(null!==i?(e||(o=2),clearTimeout(i),h(0)):e||(o=1)))}return h(0),a=setTimeout(()=>{s=!0,m(!0)},n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class sk{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function ok(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}class lk{constructor(e,t){this._service=e,this._location=t instanceof ek?t:ek.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new lk(e,t)}get root(){const e=new ek(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ok(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new ek(this._location.bucket,e);return new lk(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new qw(Gw.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function ck(e,t){const n=null===t||void 0===t?void 0:t[Ww];return null==n?null:ek.makeFromBucketSpec(n,e)}class uk{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=Hw,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?ek.makeFromBucketSpec(r,this._host):ck(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=ek.makeFromBucketSpec(this._url,e):this._bucket=ck(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){nk("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){nk("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new lk(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new tk(Zw());{const a=function(e,t,n,r,i,a){let s=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const o=rk(e.urlParams),l=e.url+o,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new ak(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,s)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const hk="@firebase/storage",dk="0.11.2",fk="storage";function pk(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new uk(r,i,a,n,Bi)}Fi(new Dr(fk,pk,"PUBLIC").setMultipleInstances(!0)),qi(hk,dk,""),qi(hk,dk,"esm2017");const mk=Hi({apiKey:"AIzaSyAbnjelTLvylcsfks_BukE2i2SKsoZtVog",authDomain:"magx-portal-c03d8.firebaseapp.com",projectId:"magx-portal-c03d8",storageBucket:"magx-portal-c03d8.firebasestorage.app",messagingSenderId:"1076489415753",appId:"1:1076489415753:web:0406e2db52cb5db647e398"}),gk=function(e,t){const n="string"==typeof e?e:t||"(default)",r=Ui("object"==typeof e?e:Wi(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=pr("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const a=(e=kg(e,Sg))._getSettings(),s="".concat(t,":").concat(n);if("firestore.googleapis.com"!==a.host&&a.host!==s&&Nc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},a),{host:s,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Tc.MOCK_USER;else{t=vr(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const a=r.mockUserToken.sub||r.mockUserToken.user_id;if(!a)throw new Lc(Pc.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Tc(a)}e._authCredentials=new Uc(new jc(t,n))}}(r,...e)}return r}(mk),yk=(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wi();const t=Ui(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Ui(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Sr(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;Yy(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Mw,persistence:[Yb,Db,Pb]}),r=gr("authTokenSyncURL");if(r){const e=(i=r,async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Vw)return;const r=null===t||void 0===t?void 0:t.token;zw!==r&&(zw=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){Rr(e).beforeAuthStateChanged(t,n)}(n,e,()=>e(n.currentUser)),function(e,t,n,r){Rr(e).onIdTokenChanged(t,n,r)}(n,t=>e(t))}var i;const a=fr("auth");a&&rb(n,"http://".concat(a))}(mk),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wi(),t=arguments.length>1?arguments[1]:void 0;e=Rr(e);const n=Ui(e,fk).getImmediate({identifier:t}),r=pr("storage");r&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:vr(i,e.app.options.projectId))}(e,t,n,r)}(n,...r)}(mk),async()=>{try{const e=dy(Ig(gk,"teachers"),yy("fullname","asc"));return(await My(e)).docs.map(e=>u({id:e.id},e.data()))}catch(e){throw console.error("Error getting teachers:",e),e}}),vk=async()=>{try{const e=(await My(Ig(gk,"teachers"))).docs.map(e=>e.data()),t=[...new Set(e.map(e=>e.department))];return{totalTeachers:e.length,totalDepartments:t.length}}catch(e){throw console.error("Error getting teacher statistics:",e),e}},bk=()=>{const[e,t]=(0,r.useState)([]),[n,i]=(0,r.useState)(!1),[a,s]=(0,r.useState)(null),[o,l]=(0,r.useState)({totalTeachers:0,totalDepartments:0}),c=(0,r.useCallback)(async e=>{i(!0),s(null);try{return await e()}catch(t){return console.error("Database operation error:",t),s(t.message||"An error occurred"),null}finally{i(!1)}},[]),h=(0,r.useCallback)(async()=>{const e=await c(yk);e&&t(e)},[c]),d=(0,r.useCallback)(async e=>{const t=await c(()=>(async e=>{try{return(await Uy(Ig(gk,"teachers"),u(u({},e),{},{createdAt:By(),updatedAt:By()}))).id}catch(a){throw console.error("Error adding teacher:",a),a}})(e));return t&&await h(),t},[c,h]),f=(0,r.useCallback)(async(e,t)=>{const n=await c(()=>(async(e,t)=>{try{const n=Ng(gk,"teachers",e);return await jy(n,u(u({},t),{},{updatedAt:By()})),!0}catch(a){throw console.error("Error updating teacher:",a),a}})(e,t));return n&&await h(),n},[c,h]),p=(0,r.useCallback)(async e=>{const n=await c(()=>(async e=>{try{const t=dy(Ig(gk,"attendance"),py("teacherId","==",e)),n=(await My(t)).docs.map(e=>Fy(e.ref));return await Promise.all(n),await Fy(Ng(gk,"teachers",e)),!0}catch(a){throw console.error("Error deleting teacher:",a),a}})(e));return n&&t(t=>t.filter(t=>t.id!==e)),n},[c]),m=(0,r.useCallback)(async e=>{if(!e.trim())return void await h();const n=await c(()=>(async e=>{try{const t=dy(Ig(gk,"teachers"),py("fullname",">=",e),py("fullname","<=",e+"\uf8ff"),yy("fullname","asc"));return(await My(t)).docs.map(e=>u({id:e.id},e.data()))}catch(a){throw console.error("Error searching teachers:",a),a}})(e));n&&t(n)},[c,h]),g=(0,r.useCallback)(async()=>{const e=await c(vk);e&&l(e)},[c]);return(0,r.useEffect)(()=>{h(),g()},[h,g]),{teachers:e,loading:n,error:a,stats:o,fetchTeachers:h,addTeacher:d,updateTeacher:f,deleteTeacher:p,searchTeachers:m,fetchTeacherStats:g}};function wk(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function kk(e){wk(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===s(e)&&"[object Date]"===t?new Date(e.getTime()):"number"===typeof e||"[object Number]"===t?new Date(e):("string"!==typeof e&&"[object String]"!==t||"undefined"===typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function Ek(e){if(wk(1,arguments),!function(e){return wk(1,arguments),e instanceof Date||"object"===s(e)&&"[object Date]"===Object.prototype.toString.call(e)}(e)&&"number"!==typeof e)return!1;var t=kk(e);return!isNaN(Number(t))}function Tk(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function Sk(e,t){return wk(2,arguments),function(e,t){wk(2,arguments);var n=kk(e).getTime(),r=Tk(t);return new Date(n+r)}(e,-Tk(t))}function _k(e){wk(1,arguments);var t=kk(e),n=t.getUTCDay(),r=(n<1?7:0)+n-1;return t.setUTCDate(t.getUTCDate()-r),t.setUTCHours(0,0,0,0),t}function xk(e){wk(1,arguments);var t=kk(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=_k(r),a=new Date(0);a.setUTCFullYear(n,0,4),a.setUTCHours(0,0,0,0);var s=_k(a);return t.getTime()>=i.getTime()?n+1:t.getTime()>=s.getTime()?n:n-1}function Ck(e){wk(1,arguments);var t=kk(e),n=_k(t).getTime()-function(e){wk(1,arguments);var t=xk(e),n=new Date(0);return n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0),_k(n)}(t).getTime();return Math.round(n/6048e5)+1}var Ik={};function Nk(){return Ik}function Ak(e,t){var n,r,i,a,s,o,l,c;wk(1,arguments);var u=Nk(),h=Tk(null!==(n=null!==(r=null!==(i=null!==(a=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==a?a:null===t||void 0===t||null===(s=t.locale)||void 0===s||null===(o=s.options)||void 0===o?void 0:o.weekStartsOn)&&void 0!==i?i:u.weekStartsOn)&&void 0!==r?r:null===(l=u.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==n?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var d=kk(e),f=d.getUTCDay(),p=(f<h?7:0)+f-h;return d.setUTCDate(d.getUTCDate()-p),d.setUTCHours(0,0,0,0),d}function Rk(e,t){var n,r,i,a,s,o,l,c;wk(1,arguments);var u=kk(e),h=u.getUTCFullYear(),d=Nk(),f=Tk(null!==(n=null!==(r=null!==(i=null!==(a=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==a?a:null===t||void 0===t||null===(s=t.locale)||void 0===s||null===(o=s.options)||void 0===o?void 0:o.firstWeekContainsDate)&&void 0!==i?i:d.firstWeekContainsDate)&&void 0!==r?r:null===(l=d.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==n?n:1);if(!(f>=1&&f<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=new Date(0);p.setUTCFullYear(h+1,0,f),p.setUTCHours(0,0,0,0);var m=Ak(p,t),g=new Date(0);g.setUTCFullYear(h,0,f),g.setUTCHours(0,0,0,0);var y=Ak(g,t);return u.getTime()>=m.getTime()?h+1:u.getTime()>=y.getTime()?h:h-1}function Dk(e,t){wk(1,arguments);var n=kk(e),r=Ak(n,t).getTime()-function(e,t){var n,r,i,a,s,o,l,c;wk(1,arguments);var u=Nk(),h=Tk(null!==(n=null!==(r=null!==(i=null!==(a=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==a?a:null===t||void 0===t||null===(s=t.locale)||void 0===s||null===(o=s.options)||void 0===o?void 0:o.firstWeekContainsDate)&&void 0!==i?i:u.firstWeekContainsDate)&&void 0!==r?r:null===(l=u.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==n?n:1),d=Rk(e,t),f=new Date(0);return f.setUTCFullYear(d,0,h),f.setUTCHours(0,0,0,0),Ak(f,t)}(n,t).getTime();return Math.round(r/6048e5)+1}function Ok(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}const Pk={y:function(e,t){var n=e.getUTCFullYear(),r=n>0?n:1-n;return Ok("yy"===t?r%100:r,t.length)},M:function(e,t){var n=e.getUTCMonth();return"M"===t?String(n+1):Ok(n+1,2)},d:function(e,t){return Ok(e.getUTCDate(),t.length)},a:function(e,t){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:function(e,t){return Ok(e.getUTCHours()%12||12,t.length)},H:function(e,t){return Ok(e.getUTCHours(),t.length)},m:function(e,t){return Ok(e.getUTCMinutes(),t.length)},s:function(e,t){return Ok(e.getUTCSeconds(),t.length)},S:function(e,t){var n=t.length,r=e.getUTCMilliseconds();return Ok(Math.floor(r*Math.pow(10,n-3)),t.length)}};var Lk="midnight",Mk="noon",jk="morning",Fk="afternoon",Uk="evening",Vk="night",zk={G:function(e,t,n){var r=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){var r=e.getUTCFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Pk.y(e,t)},Y:function(e,t,n,r){var i=Rk(e,r),a=i>0?i:1-i;return"YY"===t?Ok(a%100,2):"Yo"===t?n.ordinalNumber(a,{unit:"year"}):Ok(a,t.length)},R:function(e,t){return Ok(xk(e),t.length)},u:function(e,t){return Ok(e.getUTCFullYear(),t.length)},Q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Ok(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Ok(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){var r=e.getUTCMonth();switch(t){case"M":case"MM":return Pk.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){var r=e.getUTCMonth();switch(t){case"L":return String(r+1);case"LL":return Ok(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){var i=Dk(e,r);return"wo"===t?n.ordinalNumber(i,{unit:"week"}):Ok(i,t.length)},I:function(e,t,n){var r=Ck(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):Ok(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):Pk.d(e,t)},D:function(e,t,n){var r=function(e){wk(1,arguments);var t=kk(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=n-t.getTime();return Math.floor(r/864e5)+1}(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):Ok(r,t.length)},E:function(e,t,n){var r=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){var i=e.getUTCDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return Ok(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){var i=e.getUTCDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return Ok(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){var r=e.getUTCDay(),i=0===r?7:r;switch(t){case"i":return String(i);case"ii":return Ok(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){var r,i=e.getUTCHours();switch(r=12===i?Mk:0===i?Lk:i/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){var r,i=e.getUTCHours();switch(r=i>=17?Uk:i>=12?Fk:i>=4?jk:Vk,t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){var r=e.getUTCHours()%12;return 0===r&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Pk.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Pk.H(e,t)},K:function(e,t,n){var r=e.getUTCHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):Ok(r,t.length)},k:function(e,t,n){var r=e.getUTCHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):Ok(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Pk.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Pk.s(e,t)},S:function(e,t){return Pk.S(e,t)},X:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();if(0===i)return"Z";switch(t){case"X":return Hk(i);case"XXXX":case"XX":return Wk(i);default:return Wk(i,":")}},x:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"x":return Hk(i);case"xxxx":case"xx":return Wk(i);default:return Wk(i,":")}},O:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Bk(i,":");default:return"GMT"+Wk(i,":")}},z:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Bk(i,":");default:return"GMT"+Wk(i,":")}},t:function(e,t,n,r){var i=r._originalDate||e;return Ok(Math.floor(i.getTime()/1e3),t.length)},T:function(e,t,n,r){return Ok((r._originalDate||e).getTime(),t.length)}};function Bk(e,t){var n=e>0?"-":"+",r=Math.abs(e),i=Math.floor(r/60),a=r%60;if(0===a)return n+String(i);var s=t||"";return n+String(i)+s+Ok(a,2)}function Hk(e,t){return e%60===0?(e>0?"-":"+")+Ok(Math.abs(e)/60,2):Wk(e,t)}function Wk(e,t){var n=t||"",r=e>0?"-":"+",i=Math.abs(e);return r+Ok(Math.floor(i/60),2)+n+Ok(i%60,2)}const qk=zk;var Gk=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},Kk=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},Qk={p:Kk,P:function(e,t){var n,r=e.match(/(P+)(p+)?/)||[],i=r[1],a=r[2];if(!a)return Gk(e,t);switch(i){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",Gk(i,t)).replace("{{time}}",Kk(a,t))}};const Yk=Qk;var Jk=["D","DD"],Xk=["YY","YYYY"];function $k(e,t,n){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===e)throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===e)throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===e)throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Zk={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};const eE=function(e,t,n){var r,i=Zk[e];return r="string"===typeof i?i:1===t?i.one:i.other.replace("{{count}}",t.toString()),null!==n&&void 0!==n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function tE(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}var nE={date:tE({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:tE({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:tE({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})};var rE={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function iE(e){return function(t,n){var r;if("formatting"===(null!==n&&void 0!==n&&n.context?String(n.context):"standalone")&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,a=null!==n&&void 0!==n&&n.width?String(n.width):i;r=e.formattingValues[a]||e.formattingValues[i]}else{var s=e.defaultWidth,o=null!==n&&void 0!==n&&n.width?String(n.width):e.defaultWidth;r=e.values[o]||e.values[s]}return r[e.argumentCallback?e.argumentCallback(t):t]}}function aE(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;var s,o=a[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n;return}(l,function(e){return e.test(o)}):function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n;return}(l,function(e){return e.test(o)});return s=e.valueCallback?e.valueCallback(c):c,{value:s=n.valueCallback?n.valueCallback(s):s,rest:t.slice(o.length)}}}var sE;const oE={code:"en-US",formatDistance:eE,formatLong:nE,formatRelative:function(e,t,n,r){return rE[e]},localize:{ordinalNumber:function(e,t){var n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:iE({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:iE({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:iE({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:iE({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:iE({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(sE={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.match(sE.matchPattern);if(!n)return null;var r=n[0],i=e.match(sE.parsePattern);if(!i)return null;var a=sE.valueCallback?sE.valueCallback(i[0]):i[0];return{value:a=t.valueCallback?t.valueCallback(a):a,rest:e.slice(r.length)}}),era:aE({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:aE({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:aE({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:aE({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:aE({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};var lE=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,cE=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,uE=/^'([^]*?)'?$/,hE=/''/g,dE=/[a-zA-Z]/;function fE(e,t,n){var r,i,a,s,o,l,c,u,h,d,f,p,m,g,y,v,b,w;wk(2,arguments);var k=String(t),E=Nk(),T=null!==(r=null!==(i=null===n||void 0===n?void 0:n.locale)&&void 0!==i?i:E.locale)&&void 0!==r?r:oE,S=Tk(null!==(a=null!==(s=null!==(o=null!==(l=null===n||void 0===n?void 0:n.firstWeekContainsDate)&&void 0!==l?l:null===n||void 0===n||null===(c=n.locale)||void 0===c||null===(u=c.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==o?o:E.firstWeekContainsDate)&&void 0!==s?s:null===(h=E.locale)||void 0===h||null===(d=h.options)||void 0===d?void 0:d.firstWeekContainsDate)&&void 0!==a?a:1);if(!(S>=1&&S<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var _=Tk(null!==(f=null!==(p=null!==(m=null!==(g=null===n||void 0===n?void 0:n.weekStartsOn)&&void 0!==g?g:null===n||void 0===n||null===(y=n.locale)||void 0===y||null===(v=y.options)||void 0===v?void 0:v.weekStartsOn)&&void 0!==m?m:E.weekStartsOn)&&void 0!==p?p:null===(b=E.locale)||void 0===b||null===(w=b.options)||void 0===w?void 0:w.weekStartsOn)&&void 0!==f?f:0);if(!(_>=0&&_<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!T.localize)throw new RangeError("locale must contain localize property");if(!T.formatLong)throw new RangeError("locale must contain formatLong property");var x=kk(e);if(!Ek(x))throw new RangeError("Invalid time value");var C=function(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}(x),I=Sk(x,C),N={firstWeekContainsDate:S,weekStartsOn:_,locale:T,_originalDate:x};return k.match(cE).map(function(e){var t=e[0];return"p"===t||"P"===t?(0,Yk[t])(e,T.formatLong):e}).join("").match(lE).map(function(r){if("''"===r)return"'";var i=r[0];if("'"===i)return function(e){var t=e.match(uE);if(!t)return e;return t[1].replace(hE,"'")}(r);var a,s=qk[i];if(s)return null!==n&&void 0!==n&&n.useAdditionalWeekYearTokens||(a=r,-1===Xk.indexOf(a))||$k(r,t,String(e)),null!==n&&void 0!==n&&n.useAdditionalDayOfYearTokens||!function(e){return-1!==Jk.indexOf(e)}(r)||$k(r,t,String(e)),s(I,r,T.localize,N);if(i.match(dE))throw new RangeError("Format string contains an unescaped latin alphabet character `"+i+"`");return r}).join("")}const pE={container:{maxWidth:"1200px",margin:"0 auto",padding:"0 16px"},welcomeSection:u(u({display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:2*Fn,padding:Fn,backgroundColor:Pn,borderRadius:Hn},Xn),{},{flexDirection:"column",gap:Un}),welcomeTitle:{fontSize:Wn,fontWeight:Jn,color:Dn,margin:0,marginBottom:zn,fontFamily:Qn},welcomeSubtitle:{fontSize:Gn,color:On,margin:0,marginBottom:zn,fontFamily:Qn},welcomeTime:{fontSize:Kn,color:_n,margin:0,fontFamily:Qn,fontWeight:Yn},notificationButton:u(u({backgroundColor:Pn,width:"44px",height:"44px",borderRadius:"22px",display:"flex",justifyContent:"center",alignItems:"center"},Xn),{},{border:"1px solid ".concat(jn),alignSelf:"flex-end"}),statsContainer:{marginBottom:2*Fn},sectionTitle:{fontSize:qn,fontWeight:Jn,color:Cn,marginBottom:Un,fontFamily:Qn},statsGrid:{display:"grid",gap:Un},statCard:u({backgroundColor:Pn,borderRadius:Hn,padding:Fn,display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",borderLeft:"4px solid"},Xn),statValue:{fontSize:Wn,fontWeight:Jn,margin:"".concat(zn,"px 0"),color:Dn,fontFamily:Qn},statLabel:{fontSize:Gn,color:On,margin:0,marginBottom:zn,fontFamily:Qn,fontWeight:Yn},statSubtext:{fontSize:Kn,color:On,margin:0,fontFamily:Qn},quickActionsContainer:{marginBottom:2*Fn},quickActionsGrid:{display:"grid",gap:Un},quickActionCard:u(u({backgroundColor:Pn,borderRadius:Hn,padding:Fn,textAlign:"center"},Xn),{},{transition:"transform 0.2s ease",cursor:"pointer"}),actionIcon:{width:"48px",height:"48px",borderRadius:"24px",display:"flex",justifyContent:"center",alignItems:"center",margin:"0 auto",marginBottom:Un},actionTitle:{fontSize:Gn,fontWeight:Jn,color:Dn,margin:0,marginBottom:zn,fontFamily:Qn},actionDescription:{fontSize:Kn,color:On,margin:0,fontFamily:Qn},recentActivityContainer:{marginBottom:2*Fn},activityList:u({backgroundColor:Pn,borderRadius:Hn},Xn),activityItem:{display:"flex",alignItems:"center",padding:Fn,borderBottom:"1px solid ".concat(jn)},activityIcon:{width:"32px",height:"32px",borderRadius:"16px",backgroundColor:Mn,display:"flex",justifyContent:"center",alignItems:"center",marginRight:Un,flexShrink:0},activityContent:{flex:1},activityText:{fontSize:Kn,color:Dn,margin:0,marginBottom:zn,fontFamily:Qn,fontWeight:Yn},activityTime:{fontSize:Kn,color:On,margin:0,fontFamily:Qn}},mE=()=>{const{stats:e}=bk(),[t,n]=(0,r.useState)(new Date),[i,a]=(0,r.useState)(!1);(0,r.useEffect)(()=>{const e=()=>{a(window.innerWidth<=parseInt(er))};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,r.useEffect)(()=>{const e=setInterval(()=>{n(new Date)},6e4);return()=>clearInterval(e)},[]);const s=[{icon:Tn,value:(null===e||void 0===e?void 0:e.totalTeachers)||0,label:"Teachers",subtext:"Active staff",color:_n,borderColor:_n},{icon:dn,value:"92%",label:"Attendance",subtext:"This week",color:In,borderColor:In},{icon:hn,value:(null===e||void 0===e?void 0:e.totalDepartments)||0,label:"Classes",subtext:"Active classes",color:Rn,borderColor:Rn},{icon:pn,value:"GH\u20b52.4K",label:"Allowance",subtext:"This month",color:Nn,borderColor:Nn}],o=[{icon:Tn,label:"Add Teacher",description:"Register new teacher",color:_n},{icon:dn,label:"Mark Attendance",description:"Record daily attendance",color:In},{icon:pn,label:"Calculate Allowance",description:"Weekly allowance calculation",color:Nn},{icon:fn,label:"Canteen Payment",description:"Record canteen payments",color:Rn}];return(0,tr.jsxs)("div",{style:pE.container,children:[(0,tr.jsxs)("div",{style:pE.welcomeSection,children:[(0,tr.jsxs)("div",{children:[(0,tr.jsx)("h1",{style:pE.welcomeTitle,children:"Welcome Back!"}),(0,tr.jsx)("p",{style:pE.welcomeSubtitle,children:(l=t,fE(l,"EEEE, MMMM do, yyyy"))}),(0,tr.jsx)("p",{style:pE.welcomeTime,children:(e=>fE(e,"h:mm a"))(t)})]}),(0,tr.jsx)("div",{style:pE.notificationButton,children:(0,tr.jsx)(En,{size:24,color:_n})})]}),(0,tr.jsxs)("div",{style:pE.statsContainer,children:[(0,tr.jsx)("h2",{style:pE.sectionTitle,children:"Overview"}),(0,tr.jsx)("div",{style:u(u({},pE.statsGrid),{},{gridTemplateColumns:i?"1fr":"repeat(auto-fit, minmax(250px, 1fr))",gap:i?zn:Un}),children:s.map((e,t)=>(0,tr.jsxs)("div",{style:u(u({},pE.statCard),{},{borderLeftColor:e.borderColor}),children:[(0,tr.jsx)(e.icon,{size:i?24:28,color:e.color}),(0,tr.jsx)("h3",{style:pE.statValue,children:e.value}),(0,tr.jsx)("p",{style:pE.statLabel,children:e.label}),(0,tr.jsx)("p",{style:pE.statSubtext,children:e.subtext})]},t))})]}),(0,tr.jsxs)("div",{style:pE.quickActionsContainer,children:[(0,tr.jsx)("h2",{style:pE.sectionTitle,children:"Quick Actions"}),(0,tr.jsx)("div",{style:u(u({},pE.quickActionsGrid),{},{gridTemplateColumns:i?"repeat(2, 1fr)":"repeat(auto-fit, minmax(250px, 1fr))",gap:i?zn:Un}),children:o.map((e,t)=>(0,tr.jsxs)("div",{style:pE.quickActionCard,children:[(0,tr.jsx)("div",{style:u(u({},pE.actionIcon),{},{backgroundColor:e.color}),children:(0,tr.jsx)(e.icon,{size:i?20:24,color:Pn})}),(0,tr.jsx)("h3",{style:pE.actionTitle,children:e.label}),(0,tr.jsx)("p",{style:pE.actionDescription,children:e.description})]},t))})]}),(0,tr.jsxs)("div",{style:pE.recentActivityContainer,children:[(0,tr.jsx)("h2",{style:pE.sectionTitle,children:"Recent Activity"}),(0,tr.jsxs)("div",{style:pE.activityList,children:[(0,tr.jsxs)("div",{style:pE.activityItem,children:[(0,tr.jsx)("div",{style:pE.activityIcon,children:(0,tr.jsx)(Tn,{size:16,color:_n})}),(0,tr.jsxs)("div",{style:pE.activityContent,children:[(0,tr.jsx)("p",{style:pE.activityText,children:"New teacher registered: John Doe"}),(0,tr.jsx)("p",{style:pE.activityTime,children:"2 hours ago"})]})]}),(0,tr.jsxs)("div",{style:pE.activityItem,children:[(0,tr.jsx)("div",{style:pE.activityIcon,children:(0,tr.jsx)(dn,{size:16,color:In})}),(0,tr.jsxs)("div",{style:pE.activityContent,children:[(0,tr.jsx)("p",{style:pE.activityText,children:"Attendance marked for today"}),(0,tr.jsx)("p",{style:pE.activityTime,children:"4 hours ago"})]})]}),(0,tr.jsxs)("div",{style:pE.activityItem,children:[(0,tr.jsx)("div",{style:pE.activityIcon,children:(0,tr.jsx)(pn,{size:16,color:Nn})}),(0,tr.jsxs)("div",{style:pE.activityContent,children:[(0,tr.jsx)("p",{style:pE.activityText,children:"Allowance calculated for Week 3"}),(0,tr.jsx)("p",{style:pE.activityTime,children:"1 day ago"})]})]})]})]})]});var l},gE={container:{maxWidth:"1200px",margin:"0 auto",padding:"0 16px"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:2*Fn},title:{fontSize:Wn,fontWeight:Jn,color:Dn,margin:0,fontFamily:Qn},addButton:{display:"flex",alignItems:"center",justifyContent:"center",gap:zn,backgroundColor:_n,color:Pn,border:"none",borderRadius:Bn,padding:"".concat(Vn,"px ").concat(Fn,"px"),fontSize:Kn,fontWeight:Yn,cursor:"pointer",fontFamily:Qn,transition:"background-color 0.2s ease"},searchContainer:{marginBottom:2*Fn},searchInput:u({display:"flex",alignItems:"center",backgroundColor:Pn,borderRadius:Bn,padding:"".concat(Vn,"px ").concat(Fn,"px"),border:"1px solid ".concat(jn)},Xn),input:{flex:1,border:"none",outline:"none",fontSize:Kn,fontFamily:Qn,marginLeft:zn},modalOverlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,padding:"16px"},modal:u({backgroundColor:Pn,borderRadius:Hn,padding:2*Fn,width:"90%",maxWidth:"500px",maxHeight:"80vh",overflow:"auto"},Zn),modalHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:2*Fn,paddingBottom:Fn,borderBottom:"1px solid ".concat(jn)},modalTitle:{fontSize:qn,fontWeight:Jn,color:Dn,margin:0,fontFamily:Qn},closeButton:{background:"none",border:"none",cursor:"pointer",color:Ln},form:{display:"flex",flexDirection:"column",gap:Fn},formGroup:{display:"flex",flexDirection:"column",gap:zn},label:{fontSize:Kn,fontWeight:Yn,color:Dn,fontFamily:Qn},select:{padding:"".concat(Vn,"px ").concat(Fn,"px"),border:"1px solid ".concat(jn),borderRadius:Bn,fontSize:Kn,fontFamily:Qn,backgroundColor:Pn},formActions:{display:"flex",gap:Un,marginTop:Fn},cancelButton:{flex:1,padding:"".concat(Vn,"px ").concat(Fn,"px"),border:"1px solid ".concat(jn),borderRadius:Bn,backgroundColor:Pn,color:Dn,fontSize:Kn,fontWeight:Yn,cursor:"pointer",fontFamily:Qn},submitButton:{flex:1,padding:"".concat(Vn,"px ").concat(Fn,"px"),border:"none",borderRadius:Bn,backgroundColor:_n,color:Pn,fontSize:Kn,fontWeight:Yn,cursor:"pointer",fontFamily:Qn},teachersList:{marginTop:2*Fn},loading:{textAlign:"center",padding:2*Fn,color:On,fontFamily:Qn},error:{textAlign:"center",padding:2*Fn,color:An,fontFamily:Qn},empty:{textAlign:"center",padding:2*Fn,color:On,fontFamily:Qn},grid:{display:"grid",gap:Un},teacherCard:u(u({backgroundColor:Pn,borderRadius:Hn,padding:Fn,display:"flex",justifyContent:"space-between",alignItems:"center"},Xn),{},{border:"1px solid ".concat(jn)}),teacherInfo:{flex:1},teacherName:{fontSize:Gn,fontWeight:Jn,color:Dn,margin:0,marginBottom:zn,fontFamily:Qn},teacherDepartment:{fontSize:Kn,color:On,margin:0,fontFamily:Qn},teacherActions:{display:"flex",gap:zn},actionButton:{width:"36px",height:"36px",border:"none",borderRadius:Bn,backgroundColor:Mn,color:Dn,cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center",transition:"background-color 0.2s ease"},deleteButton:{backgroundColor:An,color:Pn}},yE=()=>{const{teachers:e,loading:t,error:n,addTeacher:i,updateTeacher:a,deleteTeacher:s,searchTeachers:o}=bk(),[l,c]=(0,r.useState)(!1),[h,d]=(0,r.useState)(null),[f,p]=(0,r.useState)(""),[m,g]=(0,r.useState)(!1),[y,v]=(0,r.useState)({fullname:"",department:""});(0,r.useEffect)(()=>{const e=()=>{g(window.innerWidth<=parseInt(er))};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);const b=()=>{c(!1),d(null),v({fullname:"",department:""})};return(0,tr.jsxs)("div",{style:gE.container,children:[(0,tr.jsxs)("div",{style:u(u({},gE.header),{},{flexDirection:m?"column":"row",gap:m?Un:0,alignItems:m?"stretch":"center"}),children:[(0,tr.jsx)("h1",{style:gE.title,children:"Teachers Management"}),(0,tr.jsxs)("button",{style:u(u({},gE.addButton),{},{width:m?"100%":"auto"}),onClick:()=>c(!0),children:[(0,tr.jsx)(yn,{size:20}),"Add Teacher"]})]}),(0,tr.jsx)("div",{style:gE.searchContainer,children:(0,tr.jsxs)("div",{style:gE.searchInput,children:[(0,tr.jsx)(bn,{size:20,color:Ln}),(0,tr.jsx)("input",{type:"text",placeholder:"Search teachers...",value:f,onChange:e=>{const t=e.target.value;p(t),o(t)},style:gE.input})]})}),l&&(0,tr.jsx)("div",{style:gE.modalOverlay,children:(0,tr.jsxs)("div",{style:u(u({},gE.modal),{},{width:m?"95%":"90%",maxWidth:m?"400px":"500px",margin:m?"20px":"0"}),children:[(0,tr.jsxs)("div",{style:gE.modalHeader,children:[(0,tr.jsx)("h2",{style:gE.modalTitle,children:h?"Edit Teacher":"Add New Teacher"}),(0,tr.jsx)("button",{style:gE.closeButton,onClick:b,children:(0,tr.jsx)(Sn,{size:24})})]}),(0,tr.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),y.fullname.trim()&&y.department.trim())try{h?(await a(h.id,y),nn.success("Teacher updated successfully")):(await i(y),nn.success("Teacher added successfully")),c(!1),d(null),v({fullname:"",department:""})}catch(n){nn.error(n.message||"An error occurred")}else nn.error("Please fill in all required fields")},style:gE.form,children:[(0,tr.jsxs)("div",{style:gE.formGroup,children:[(0,tr.jsx)("label",{style:gE.label,children:"Full Name *"}),(0,tr.jsx)("input",{type:"text",value:y.fullname,onChange:e=>v(u(u({},y),{},{fullname:e.target.value})),style:gE.input,placeholder:"Enter teacher's full name",required:!0})]}),(0,tr.jsxs)("div",{style:gE.formGroup,children:[(0,tr.jsx)("label",{style:gE.label,children:"Department *"}),(0,tr.jsxs)("select",{value:y.department,onChange:e=>v(u(u({},y),{},{department:e.target.value})),style:gE.select,required:!0,children:[(0,tr.jsx)("option",{value:"",children:"Select Department"}),["Creche","Nursery","Kindergarten","Basic 1","Basic 2","Basic 3","Basic 4","Basic 5","Basic 6","Basic 7","Basic 8","Basic 9"].map(e=>(0,tr.jsx)("option",{value:e,children:e},e))]})]}),(0,tr.jsxs)("div",{style:u(u({},gE.formActions),{},{flexDirection:m?"column":"row"}),children:[(0,tr.jsx)("button",{type:"button",style:gE.cancelButton,onClick:b,children:"Cancel"}),(0,tr.jsx)("button",{type:"submit",style:gE.submitButton,children:h?"Update":"Add Teacher"})]})]})]})}),(0,tr.jsx)("div",{style:gE.teachersList,children:t?(0,tr.jsx)("div",{style:gE.loading,children:"Loading teachers..."}):n?(0,tr.jsxs)("div",{style:gE.error,children:["Error: ",n]}):0===e.length?(0,tr.jsxs)("div",{style:gE.empty,children:[(0,tr.jsx)("p",{children:"No teachers found"}),(0,tr.jsx)("button",{style:gE.addButton,onClick:()=>c(!0),children:"Add your first teacher"})]}):(0,tr.jsx)("div",{style:u(u({},gE.grid),{},{gridTemplateColumns:m?"1fr":"repeat(auto-fill, minmax(300px, 1fr))",gap:m?zn:Un}),children:e.map(e=>(0,tr.jsxs)("div",{style:u(u({},gE.teacherCard),{},{flexDirection:m?"column":"row",alignItems:m?"stretch":"center",gap:m?zn:0}),children:[(0,tr.jsxs)("div",{style:gE.teacherInfo,children:[(0,tr.jsx)("h3",{style:gE.teacherName,children:e.fullname}),(0,tr.jsx)("p",{style:gE.teacherDepartment,children:e.department})]}),(0,tr.jsxs)("div",{style:u(u({},gE.teacherActions),{},{justifyContent:m?"center":"flex-end"}),children:[(0,tr.jsx)("button",{style:gE.actionButton,onClick:()=>(e=>{d(e),v({fullname:e.fullname,department:e.department}),c(!0)})(e),children:(0,tr.jsx)(mn,{size:16})}),(0,tr.jsx)("button",{style:u(u({},gE.actionButton),gE.deleteButton),onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete ".concat(e.fullname,"?")))try{await s(e.id),nn.success("Teacher deleted successfully")}catch(n){nn.error(n.message||"An error occurred")}})(e),children:(0,tr.jsx)(kn,{size:16})})]})]},e.id))})})]})},vE=(e,t)=>{if(!e||!t)return 0;try{const[n,r]=e.split(":").map(Number),[i,a]=t.split(":").map(Number),s=60*n+r,o=60*i+a,l=o>=s?o-s:1440-s+o;return Math.round(l/60*100)/100}catch(n){return 0}},bE=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"08:00";if(!e)return"Absent";try{const[n,r]=e.split(":").map(Number),[i,a]=t.split(":").map(Number),s=60*n+r,o=60*i+a;return s<=o?"Present":s<=o+30?"Late":"Very Late"}catch(n){return"Unknown"}},wE=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"2024-09-01";try{const n=new Date(e),r=new Date(t),i=n.getTime()-r.getTime(),a=Math.ceil(i/864e5),s=Math.ceil(a/7);return Math.max(1,Math.min(16,s))}catch(n){return 1}},kE=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text";if("string"!==typeof e)return"";let n=e.trim();switch(t){case"name":n=n.replace(/[^a-zA-Z\s'-]/g,"");break;case"time":if(!/^([01]?[0-9]|2[0-3]):[0-5][0-9]$/.test(n))return"";break;case"date":if(!/^\d{4}-\d{2}-\d{2}$/.test(n))return"";break;default:n=n.replace(/[<>"']/g,"")}return n},EE=async e=>{let{teacherId:t,date:n,checkInTime:r,checkOutTime:i,status:a,remarks:s}=e;const o=kE(String(t||""),"text"),l=kE(n||"","date"),c=kE(r||"","time"),h=kE(i||"","time"),d=a||bE(c),f=wE(l),p=vE(c,h),m=await(async e=>{try{const t=Ng(gk,"teachers",e),n=await Py(t);if(n.exists())return u({id:n.id},n.data());throw new Error("Teacher not found")}catch(t){throw console.error("Error getting teacher by ID:",t),t}})(o),g={teacherId:o,fullname:m.fullname,date:l,weekNum:f,checkInTime:c||null,checkOutTime:h||null,workHours:Number.isFinite(p)?p:0,status:d,remarks:(s||"").trim()};return await(async e=>{try{return(await Uy(Ig(gk,"attendance"),u(u({},e),{},{createdAt:By(),updatedAt:By()}))).id}catch(t){throw console.error("Error adding attendance:",t),t}})(g)},TE=async(e,t)=>{const n=u(u(u(u({},void 0!==t.checkInTime?{checkInTime:kE(t.checkInTime||"","time")||null}:{}),void 0!==t.checkOutTime?{checkOutTime:kE(t.checkOutTime||"","time")||null}:{}),void 0!==t.status?{status:t.status}:{}),void 0!==t.remarks?{remarks:(t.remarks||"").trim()}:{});if(void 0!==n.checkInTime||void 0!==n.checkOutTime){const e=vE(n.checkInTime,n.checkOutTime);n.workHours=Number.isFinite(e)?e:0,!n.status&&n.checkInTime&&(n.status=bE(n.checkInTime))}return await(async(e,t)=>{try{const n=Ng(gk,"attendance",e);return await jy(n,u(u({},t),{},{updatedAt:By()})),!0}catch(n){throw console.error("Error updating attendance:",n),n}})(e,n),!0},SE=async e=>{const t=kE(e||"","date"),n=await(async e=>{try{const t=dy(Ig(gk,"attendance"),py("date","==",e),yy("createdAt","desc"));return(await My(t)).docs.map(e=>u({id:e.id},e.data()))}catch(t){throw console.error("Error getting attendance by date:",t),t}})(t);return n.map(IE)},_E=async(e,t,n)=>{const r=await(async(e,t,n)=>{try{const r=dy(Ig(gk,"attendance"),py("teacherId","==",e),py("date",">=",t),py("date","<=",n),yy("date","desc"));return(await My(r)).docs.map(e=>u({id:e.id},e.data()))}catch(r){throw console.error("Error getting attendance by teacher:",r),r}})(e,t,n);return r.map(IE)},xE=e=>{const t={totalRecords:e.length,presentCount:0,absentCount:0,lateCount:0,halfDayCount:0,avgWorkHours:0};let n=0;return e.forEach(e=>{"Present"===e.status&&(t.presentCount+=1),"Absent"===e.status&&(t.absentCount+=1),"Late"!==e.status&&"Very Late"!==e.status||(t.lateCount+=1),"Half Day"===e.status&&(t.halfDayCount+=1),n+=e.workHours||0}),t.avgWorkHours=e.length>0?Number((n/e.length).toFixed(2)):0,t},CE=e=>{const t=new Map;for(const n of e){const e=n.teacherId||"unknown";t.has(e)||t.set(e,{fullname:n.fullname||"Unknown",department:n.department||"Unknown",daysTracked:0,presentDays:0,totalWorkHours:0,avgWorkHours:0});const r=t.get(e);r.daysTracked+=1,"Present"===n.status&&(r.presentDays+=1),r.totalWorkHours+=n.workHours||0}return t.forEach(e=>{e.avgWorkHours=e.daysTracked>0?Number((e.totalWorkHours/e.daysTracked).toFixed(2)):0}),Array.from(t.values()).sort((e,t)=>e.fullname.localeCompare(t.fullname))},IE=e=>({id:e.id,teacherId:e.teacherId,fullname:e.fullname,department:e.department,date:e.date,weekNum:e.weekNum,checkInTime:e.checkInTime||null,checkOutTime:e.checkOutTime||null,workHours:e.workHours||0,status:e.status,remarks:e.remarks||""}),NE=()=>{const[e,t]=(0,r.useState)([]),[n,i]=(0,r.useState)(!1),[a,s]=(0,r.useState)(null),[o,l]=(0,r.useState)({date:null,teacherId:null,startDate:null,endDate:null}),c=(0,r.useCallback)(async e=>{i(!0),s(null);try{const n=await SE(e);t(n)}catch(Be){s(Be.message||"Failed to load attendance")}finally{i(!1)}},[]),h=(0,r.useCallback)(async(e,n,r)=>{i(!0),s(null);try{const i=await _E(e,n,r);t(i)}catch(Be){s(Be.message||"Failed to load attendance")}finally{i(!1)}},[]),d=(0,r.useCallback)(async(e,n)=>{i(!0),s(null);try{const r=await(async(e,t)=>{try{const n=dy(Ig(gk,"attendance"),py("date",">=",e),py("date","<=",t),yy("date","desc"));return(await My(n)).docs.map(e=>u({id:e.id},e.data()))}catch(a){throw console.error("Error getting attendance by date range:",a),a}})(e,n);t(r)}catch(Be){s(Be.message||"Failed to load attendance")}finally{i(!1)}},[]),f=(0,r.useCallback)(async e=>{i(!0),s(null);try{const t=await EE(e);return e.date&&await c(e.date),t}catch(Be){throw s(Be.message||"Failed to save attendance"),Be}finally{i(!1)}},[c]),p=(0,r.useCallback)(async(e,t)=>{i(!0),s(null);try{await TE(e,t),o.date&&await c(o.date)}catch(Be){throw s(Be.message||"Failed to update attendance"),Be}finally{i(!1)}},[o,c]),m=(0,r.useMemo)(()=>({daily:xE(e),weekly:CE(e)}),[e]),g=(0,r.useCallback)(e=>l(t=>u(u({},t),e)),[]),y=(0,r.useCallback)(e=>wE(e),[]);return{records:e,loading:n,error:a,filters:o,loadByDate:c,loadByTeacherRange:h,loadByDateRange:d,saveRecord:f,updateRecord:p,updateFilters:g,stats:m,getWeekNumber:y}},AE=e=>{let{label:t,value:n}=e;return(0,tr.jsxs)("div",{style:RE.kpiItem,children:[(0,tr.jsx)("div",{style:RE.kpiValue,children:n}),(0,tr.jsx)("div",{style:RE.kpiLabel,children:t})]})},RE={container:{maxWidth:"1200px",margin:"0 auto",padding:"0 16px"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:2*Fn},title:{fontSize:Wn,fontWeight:Jn,color:Dn,margin:0,fontFamily:Qn},headerActions:{display:"flex",gap:Un,alignItems:"center"},dateInputWrap:u({display:"flex",alignItems:"center",background:Pn,border:"1px solid ".concat(jn),borderRadius:Bn,padding:"8px 12px"},Xn),dateInput:{border:"none",outline:"none",marginLeft:8},searchWrap:u({display:"flex",alignItems:"center",background:Pn,border:"1px solid ".concat(jn),borderRadius:Bn,padding:"8px 12px"},Xn),searchInput:{border:"none",outline:"none",marginLeft:8},contentGrid:{display:"grid",gridTemplateColumns:"2fr 1fr",gap:Un},leftPane:{display:"flex",flexDirection:"column",gap:Un},rightPane:{display:"flex",flexDirection:"column",gap:Un},card:u({background:Pn,border:"1px solid ".concat(jn),borderRadius:Hn,padding:Fn},Xn),sectionTitle:{margin:0,marginBottom:Un,fontSize:qn,fontWeight:Jn,color:Cn},form:{display:"flex",flexDirection:"column",gap:zn},row2:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:zn},select:{padding:"10px 12px",borderRadius:Bn,border:"1px solid ".concat(jn)},input:{padding:"10px 12px",borderRadius:Bn,border:"1px solid ".concat(jn)},primaryBtn:{display:"flex",alignItems:"center",justifyContent:"center",gap:8,padding:"12px 16px",borderRadius:Bn,background:_n,color:Pn,border:"none"},secondaryBtn:{display:"flex",alignItems:"center",gap:6,padding:"10px 12px",borderRadius:Bn,background:Pn,color:Dn,border:"1px solid ".concat(jn)},tableWrap:{width:"100%"},tableHeader:{display:"flex",padding:"10px 12px",background:Mn,borderRadius:Bn,color:On,fontWeight:Yn},tableRow:{display:"flex",padding:"12px",borderBottom:"1px solid ".concat(jn)},kpiGrid:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:zn},kpiItem:{background:Mn,borderRadius:Bn,padding:"12px",textAlign:"center"},kpiValue:{fontSize:qn,fontWeight:Jn,color:Dn},kpiLabel:{fontSize:Kn,color:On},muted:{color:On},error:{color:An},"@media (max-width: 768px)":{}},DE=()=>{const{records:e,loading:t,error:n,loadByDate:i,saveRecord:a,updateRecord:s,stats:o,getWeekNumber:l}=NE(),{teachers:c}=bk(),[h,d]=(0,r.useState)(()=>(new Date).toISOString().slice(0,10)),[f,p]=(0,r.useState)(""),[m,g]=(0,r.useState)({teacherId:"",checkInTime:"",checkOutTime:"",status:"",remarks:""});(0,r.useEffect)(()=>{i(h)},[h,i]);const y=(0,r.useMemo)(()=>{if(!f)return e;const t=f.toLowerCase();return e.filter(e=>(e.fullname||"").toLowerCase().includes(t)||(e.department||"").toLowerCase().includes(t))},[e,f]);return(0,tr.jsxs)("div",{style:RE.container,children:[(0,tr.jsxs)("div",{style:RE.header,children:[(0,tr.jsx)("h1",{style:RE.title,children:"Attendance"}),(0,tr.jsxs)("div",{style:RE.headerActions,children:[(0,tr.jsxs)("div",{style:RE.dateInputWrap,children:[(0,tr.jsx)(dn,{size:18,color:Ln}),(0,tr.jsx)("input",{type:"date",value:h,onChange:e=>d(e.target.value),style:RE.dateInput})]}),(0,tr.jsxs)("div",{style:RE.searchWrap,children:[(0,tr.jsx)(bn,{size:18,color:Ln}),(0,tr.jsx)("input",{placeholder:"Search by name or department",value:f,onChange:e=>p(e.target.value),style:RE.searchInput})]}),(0,tr.jsxs)("button",{onClick:async()=>{const e={reportType:"all",startDate:h,endDate:h};await(async(e,t)=>{const n='\n    <html>\n      <head>\n        <style>\n          body { font-family: Arial, sans-serif; padding: 20px; background-color: #f8f9fa; }\n          .container { max-width: 1200px; margin: 0 auto; background-color: white; padding: 30px; border-radius: 12px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); }\n          h1 { color: #333; text-align: center; margin-bottom: 30px; font-size: 28px; }\n          h3 { color: #333; margin-bottom: 15px; }\n          .header { margin-bottom: 30px; padding-bottom: 20px; border-bottom: 2px solid #e9ecef; }\n          .filter-info { margin-bottom: 20px; font-size: 14px; color: #555; }\n          .filter-info p { margin: 8px 0; }\n          table { width: 100%; border-collapse: collapse; margin-top: 20px; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }\n          th, td { border: 1px solid #dee2e6; padding: 12px; text-align: left; }\n          th { background-color: #f8f9fa; font-weight: 600; color: #495057; }\n          tr:nth-child(even) { background-color: #f8f9fa; }\n          tr:hover { background-color: #e9ecef; }\n          .summary-section { margin-top: 30px; }\n          .footer { margin-top: 40px; text-align: right; font-size: 12px; color: #6c757d; border-top: 1px solid #e9ecef; padding-top: 20px; }\n        </style>\n      </head>\n      <body>\n        <div class="container">\n          <div class="header">\n            <h1>'.concat((()=>{switch(t.reportType){case"all":return"All Teachers Attendance Report";case"teacher":return"Individual Teacher Attendance Report";case"week":return"Weekly Attendance Report";default:return"Teacher Attendance Report"}})(),'</h1>\n            <div class="filter-info">\n              ').concat((()=>{var n;let r="";return t.startDate&&t.endDate&&"N/A"!==t.startDate&&(r+="<p><strong>Date Range:</strong> ".concat(t.startDate," to ").concat(t.endDate,"</p>")),t.teacherId&&null!==(n=e[0])&&void 0!==n&&n.fullname&&(r+="<p><strong>Teacher:</strong> ".concat(e[0].fullname,"</p>")),t.weekNum&&(r+="<p><strong>Week:</strong> ".concat(t.weekNum,"</p>")),r})(),"\n            </div>\n          </div>\n          \n          <table>\n            <thead>\n              ").concat("week"===t.reportType?"\n        <tr>\n          <th>Teacher</th>\n          <th>Department</th>\n          <th>Days Tracked</th>\n          <th>Present Days</th>\n          <th>Total Work Hours</th>\n          <th>Average Hours</th>\n        </tr>\n      ":"\n      <tr>\n        <th>Teacher</th>\n        <th>Department</th>\n        <th>Date</th>\n        <th>Check-In</th>\n        <th>Check-Out</th>\n        <th>Work Hours</th>\n        <th>Status</th>\n      </tr>\n    ","\n            </thead>\n            <tbody>\n              ").concat("week"===t.reportType?e.map(e=>"\n        <tr>\n          <td>".concat(e.fullname,"</td>\n          <td>").concat(e.department,"</td>\n          <td>").concat(e.daysTracked||0,"</td>\n          <td>").concat(e.presentDays||0,"</td>\n          <td>").concat(e.totalWorkHours?"".concat(e.totalWorkHours.toFixed(1)," hrs"):"-","</td>\n          <td>").concat(e.avgWorkHours?"".concat(e.avgWorkHours.toFixed(1)," hrs"):"-","</td>\n        </tr>\n      ")).join(""):e.map(e=>"\n      <tr>\n        <td>".concat(e.fullname,"</td>\n        <td>").concat(e.department,"</td>\n        <td>").concat(e.date,"</td>\n        <td>").concat(e.checkInTime||"-","</td>\n        <td>").concat(e.checkOutTime||"-","</td>\n        <td>").concat(e.workHours>0?"".concat(e.workHours.toFixed(2)," hrs"):"-","</td>\n        <td>").concat(e.status,"</td>\n      </tr>\n    ")).join(""),'\n            </tbody>\n          </table>\n          \n          <div class="summary-section">\n            ').concat((()=>{if("week"===t.reportType){const t=e.length,n=e.reduce((e,t)=>e+(t.daysTracked||0),0),r=e.reduce((e,t)=>e+(t.presentDays||0),0),i=e.reduce((e,t)=>e+(t.totalWorkHours||0),0),a=n>0?i/n:0,s=n>0?Math.round(r/n*100):0;return'\n        <div style="margin-top: 20px; padding: 15px; background-color: #f8f9fa; border-radius: 8px;">\n          <h3 style="margin-top: 0; color: #333;">Weekly Summary</h3>\n          <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px;">\n            <div><strong>Total Teachers:</strong> '.concat(t,"</div>\n            <div><strong>Total Days Tracked:</strong> ").concat(n,"</div>\n            <div><strong>Total Present Days:</strong> ").concat(r,"</div>\n            <div><strong>Total Work Hours:</strong> ").concat(i.toFixed(1)," hrs</div>\n            <div><strong>Average Work Hours:</strong> ").concat(a.toFixed(1)," hrs</div>\n            <div><strong>Attendance Rate:</strong> ").concat(s,"%</div>\n          </div>\n        </div>\n      ")}const n=e.length,r=e.filter(e=>"Present"===e.status).length,i=e.filter(e=>"Absent"===e.status).length,a=e.filter(e=>"Late"===e.status).length,s=e.filter(e=>"Half Day"===e.status).length,o=e.reduce((e,t)=>e+(t.workHours||0),0),l=n>0?o/n:0,c=n>0?Math.round(r/n*100):0;return'\n      <div style="margin-top: 20px; padding: 15px; background-color: #f8f9fa; border-radius: 8px;">\n        <h3 style="margin-top: 0; color: #333;">Report Summary</h3>\n        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px;">\n          <div><strong>Total Records:</strong> '.concat(n,"</div>\n          <div><strong>Present:</strong> ").concat(r,"</div>\n          <div><strong>Absent:</strong> ").concat(i,"</div>\n          <div><strong>Late:</strong> ").concat(a,"</div>\n          <div><strong>Half Day:</strong> ").concat(s,"</div>\n          <div><strong>Total Work Hours:</strong> ").concat(o.toFixed(1)," hrs</div>\n          <div><strong>Average Work Hours:</strong> ").concat(l.toFixed(1)," hrs</div>\n          <div><strong>Attendance Rate:</strong> ").concat(c,"%</div>\n        </div>\n      </div>\n    ")})(),'\n          </div>\n          \n          <div class="footer">\n            <p>Generated on ').concat((new Date).toLocaleDateString()," at ").concat((new Date).toLocaleTimeString(),"</p>\n            <p>Total Records: ").concat(e.length,"</p>\n          </div>\n        </div>\n      </body>\n    </html>\n  "),r=window.open("","_blank","noopener,noreferrer");return r?(r.document.open(),r.document.write(n),r.document.close(),r.focus(),setTimeout(()=>{r.print()},300),!0):null})(y,e)},style:RE.secondaryBtn,children:[(0,tr.jsx)(vn,{size:16}),"Export"]})]})]}),(0,tr.jsxs)("div",{style:RE.contentGrid,children:[(0,tr.jsxs)("div",{style:RE.leftPane,children:[(0,tr.jsxs)("div",{style:RE.card,children:[(0,tr.jsx)("h2",{style:RE.sectionTitle,children:"Mark Attendance"}),(0,tr.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),m.teacherId&&(await a(u(u({},m),{},{date:h})),g({teacherId:"",checkInTime:"",checkOutTime:"",status:"",remarks:""}))},style:RE.form,children:[(0,tr.jsxs)("select",{value:m.teacherId,onChange:e=>g(u(u({},m),{},{teacherId:e.target.value})),style:RE.select,required:!0,children:[(0,tr.jsx)("option",{value:"",children:"Select teacher"}),c.map(e=>(0,tr.jsx)("option",{value:e.id,children:e.fullname},e.id))]}),(0,tr.jsxs)("div",{style:RE.row2,children:[(0,tr.jsx)("input",{type:"time",value:m.checkInTime,onChange:e=>g(u(u({},m),{},{checkInTime:e.target.value})),style:RE.input,placeholder:"Check-in"}),(0,tr.jsx)("input",{type:"time",value:m.checkOutTime,onChange:e=>g(u(u({},m),{},{checkOutTime:e.target.value})),style:RE.input,placeholder:"Check-out"})]}),(0,tr.jsx)("input",{type:"text",value:m.remarks,onChange:e=>g(u(u({},m),{},{remarks:e.target.value})),style:RE.input,placeholder:"Remarks (optional)"}),(0,tr.jsxs)("button",{type:"submit",style:RE.primaryBtn,children:[(0,tr.jsx)(yn,{size:18}),"Save Attendance"]})]})]}),(0,tr.jsxs)("div",{style:RE.card,children:[(0,tr.jsx)("h2",{style:RE.sectionTitle,children:"Today's Records"}),t?(0,tr.jsx)("div",{style:RE.muted,children:"Loading..."}):n?(0,tr.jsxs)("div",{style:RE.error,children:["Error: ",n]}):(0,tr.jsxs)("div",{style:RE.tableWrap,children:[(0,tr.jsxs)("div",{style:RE.tableHeader,children:[(0,tr.jsx)("div",{style:{flex:2},children:"Teacher"}),(0,tr.jsx)("div",{style:{flex:1},children:"Department"}),(0,tr.jsx)("div",{style:{flex:1},children:"Check-in"}),(0,tr.jsx)("div",{style:{flex:1},children:"Check-out"}),(0,tr.jsx)("div",{style:{flex:1},children:"Hours"}),(0,tr.jsx)("div",{style:{flex:1},children:"Status"})]}),y.map(e=>(0,tr.jsxs)("div",{style:RE.tableRow,children:[(0,tr.jsx)("div",{style:{flex:2},children:e.fullname}),(0,tr.jsx)("div",{style:{flex:1},children:e.department}),(0,tr.jsx)("div",{style:{flex:1},children:e.checkInTime||"-"}),(0,tr.jsx)("div",{style:{flex:1},children:e.checkOutTime||"-"}),(0,tr.jsx)("div",{style:{flex:1},children:(e.workHours||0).toFixed(2)}),(0,tr.jsx)("div",{style:{flex:1},children:e.status})]},e.id)),0===y.length&&(0,tr.jsx)("div",{style:RE.muted,children:"No records"})]})]})]}),(0,tr.jsxs)("div",{style:RE.rightPane,children:[(0,tr.jsxs)("div",{style:RE.card,children:[(0,tr.jsx)("h2",{style:RE.sectionTitle,children:"Daily Stats"}),(0,tr.jsxs)("div",{style:RE.kpiGrid,children:[(0,tr.jsx)(AE,{label:"Total",value:o.daily.totalRecords}),(0,tr.jsx)(AE,{label:"Present",value:o.daily.presentCount}),(0,tr.jsx)(AE,{label:"Absent",value:o.daily.absentCount}),(0,tr.jsx)(AE,{label:"Late",value:o.daily.lateCount}),(0,tr.jsx)(AE,{label:"Half Day",value:o.daily.halfDayCount}),(0,tr.jsx)(AE,{label:"Avg Hours",value:o.daily.avgWorkHours})]})]}),(0,tr.jsxs)("div",{style:RE.card,children:[(0,tr.jsx)("h2",{style:RE.sectionTitle,children:"Week Number"}),(0,tr.jsxs)("div",{style:RE.muted,children:["Week ",l(h)]})]})]})]})]})},OE="allowance_records",PE=Ig(gk,OE),LE=e=>{const{basic7JHS:t,basic8JHS:n,basic9JHS:r}=e;return(t||0)+(n||0)+(r||0)},ME=e=>{const{creche:t,nursery1:n,nursery2:r,kg1:i,kg2:a,basic1:s,basic2:o,basic3:l,basic4:c,basic5:u,basic6:h,basic7General:d,basic8General:f,basic9General:p}=e;return(t||0)+(n||0)+(r||0)+(i||0)+(a||0)+(s||0)+(o||0)+(l||0)+(c||0)+(u||0)+(h||0)+(d||0)+(f||0)+(p||0)},jE=e=>{const t=[];return(!e.weekNumber||e.weekNumber<1||e.weekNumber>16)&&t.push("Week number must be between 1 and 16"),(!e.numberOfTeachers||e.numberOfTeachers<0)&&t.push("Number of teachers must be a positive number"),(!e.numberOfJHSTeachers||e.numberOfJHSTeachers<0)&&t.push("Number of JHS teachers must be a positive number"),(!e.totalSum||e.totalSum<=0)&&t.push("Total sum must be greater than 0"),t},FE=e=>new Intl.NumberFormat("en-GH",{style:"currency",currency:"GHS",minimumFractionDigits:2}).format(e||0),UE=e=>{const{welfare:t,office:n,kitchen:r}=e;return(t||0)+(n||0)+(r||0)},VE=async e=>{try{const t=dy(PE,py("weekNumber","==",e));return!(await My(t)).empty}catch(t){throw console.error("Error checking if week exists:",t),t}},zE=async()=>{try{const e=(await My(PE)).docs.map(e=>u({id:e.id},e.data()));if(0===e.length)return{totalRecords:0,avgTotalSum:0,maxTotalSum:0,minTotalSum:0,avgTeacherAllowance:0,avgJHSTeacherAllowance:0};const t=e.length,n=e.map(e=>e.totalSum||0),r=e.map(e=>e.eachTeacher||0),i=e.map(e=>e.eachJHSTeacher||0);return{totalRecords:t,avgTotalSum:n.reduce((e,t)=>e+t,0)/t,maxTotalSum:Math.max(...n),minTotalSum:Math.min(...n),avgTeacherAllowance:r.reduce((e,t)=>e+t,0)/t,avgJHSTeacherAllowance:i.reduce((e,t)=>e+t,0)/t}}catch(e){throw console.error("Error getting allowance summary:",e),e}},BE=async(e,t)=>{try{const n=dy(PE,py("weekNumber",">=",e),py("weekNumber","<=",t),yy("weekNumber","asc"));return(await My(n)).docs.map(e=>u({id:e.id},e.data()))}catch(n){throw console.error("Error getting records by range:",n),n}},HE=async e=>{try{const t=jE(e);if(t.length>0)throw new Error("Validation failed: ".concat(t.join(", ")));if(await VE(e.weekNumber))throw new Error("Record for week ".concat(e.weekNumber," already exists"));const n=u(u({},e),{},{createdAt:By(),updatedAt:By()});return(await Uy(PE,n)).id}catch(t){throw console.error("Error saving calculation:",t),t}},WE=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{let n=dy(PE,yy("weekNumber","desc"));e&&(n=dy(n,by(e))),t&&(n=dy(n,ky(t)));const r=await My(n);return{records:r.docs.map(e=>u({id:e.id},e.data())),lastDoc:r.docs[r.docs.length-1]||null,hasMore:r.docs.length===e}}catch(n){throw console.error("Error getting calculations:",n),n}},qE=async e=>{try{const t=dy(PE,py("weekNumber","==",e)),n=await My(t);if(n.empty)return null;const r=n.docs[0];return u({id:r.id},r.data())}catch(t){throw console.error("Error getting allowance record by week:",t),t}},GE=async e=>{try{const t=Ng(gk,OE,e),n=await Py(t);return n.exists()?u({id:n.id},n.data()):null}catch(t){throw console.error("Error getting allowance record by ID:",t),t}},KE=async(e,t)=>{try{const n=jE(t);if(n.length>0)throw new Error("Validation failed: ".concat(n.join(", ")));const r=Ng(gk,OE,e),i=u(u({},t),{},{updatedAt:By()});return await jy(r,i),!0}catch(n){throw console.error("Error updating allowance record:",n),n}},QE=async e=>{try{const t=Ng(gk,OE,e);return await Fy(t),!0}catch(t){throw console.error("Error deleting allowance record:",t),t}},YE=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{let n=dy(PE,py("welfare",">",0),yy("welfare"),yy("weekNumber","desc"));e&&(n=dy(n,by(e))),t&&(n=dy(n,ky(t)));const r=await My(n),i=r.docs.map(e=>{const t=e.data();let n="N/A";if(t.createdAt&&t.createdAt.toDate)try{n=t.createdAt.toDate().toLocaleDateString()}catch(Be){console.log("Error parsing date:",t.createdAt,Be)}return{id:e.id,weekNumber:t.weekNumber,welfare:t.welfare,datePaid:n}});return{records:i,lastDoc:r.docs[r.docs.length-1]||null,hasMore:r.docs.length===e}}catch(n){throw console.error("Error getting welfare records:",n),n}},JE=async e=>{try{const t=await qE(e);if(!t)return null;const n=LE(t),r=ME(t),i=UE(t);return u(u({},t),{},{totalJHSStudents:n,totalGeneralStudents:r,totalDeductions:i,formattedTotalSum:FE(t.totalSum),formattedEachTeacher:FE(t.eachTeacher),formattedEachJHSTeacher:FE(t.eachJHSTeacher)})}catch(t){throw console.error("Error generating weekly report:",t),t}},XE=()=>{const[e,t]=(0,r.useState)(!1),[n,i]=(0,r.useState)(null),[a,s]=(0,r.useState)([]),[o,l]=(0,r.useState)(null),[c,h]=(0,r.useState)(null),[d,f]=(0,r.useState)(!0),p=(0,r.useCallback)(async function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];n&&t(!0),i(null);try{return await e()}catch(r){return console.error("Async operation error:",r),i(r.message||"An error occurred"),null}finally{n&&t(!1)}},[]),m=(0,r.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=t?null:c,r=await p(()=>WE(e,n));r&&(s(t?r.records:e=>[...e,...r.records]),h(r.lastDoc),f(r.hasMore))},[p,c]),g=(0,r.useCallback)(async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;d&&!e&&await m(t,!1)},[m,d,e]),y=(0,r.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;h(null),f(!0),await m(e,!0)},[m]),v=(0,r.useCallback)(async e=>{const t=await p(()=>HE(e));return t?(await y(),t):null},[p,y]),b=(0,r.useCallback)(async(e,t)=>{const n=await p(()=>KE(e,t));return n&&s(n=>n.map(n=>n.id===e?u(u({},n),t):n)),n},[p]),w=(0,r.useCallback)(async e=>{const t=await p(()=>QE(e));return t&&s(t=>t.filter(t=>t.id!==e)),t},[p]),k=(0,r.useCallback)(async e=>await p(()=>qE(e),!1),[p]),E=(0,r.useCallback)(async e=>await p(()=>GE(e),!1),[p]),T=(0,r.useCallback)(async()=>{const e=await p(()=>zE(),!1);return e&&l(e),e},[p]),S=(0,r.useCallback)(async(e,t)=>await p(()=>YE(e,t),!1),[p]),_=(0,r.useCallback)(async(e,t)=>await p(()=>BE(e,t),!1),[p]),x=(0,r.useCallback)(async e=>await p(()=>JE(e),!1),[p]),C=(0,r.useCallback)(async e=>await p(()=>VE(e),!1),[p]),I=(0,r.useCallback)(()=>{i(null)},[]);return(0,r.useEffect)(()=>{(async()=>{await Promise.all([m(20,!0),T()])})()},[]),{loading:e,error:n,allowances:a,summary:o,hasMore:d,addAllowance:v,updateAllowance:b,deleteAllowance:w,getById:E,getByWeek:k,fetchAllowances:m,refreshAllowances:y,loadMoreAllowances:g,getSummary:T,fetchWelfareRecords:S,getRecordsByRange:_,generateWeeklyReport:x,checkWeekExists:C,clearError:I}},$E=()=>{const[e,t]=(0,r.useState)(""),[n,i]=(0,r.useState)({creche:"",nursery1:"",nursery2:"",kg1:"",kg2:"",basic1:"",basic2:"",basic3:"",basic4:"",basic5:"",basic6:"",basic7General:"",basic7JHS:"",basic8General:"",basic8JHS:"",basic9General:"",basic9JHS:""}),[a,s]=(0,r.useState)(""),[o,l]=(0,r.useState)(""),[c,h]=(0,r.useState)(null),[d,f]=(0,r.useState)(1),{addAllowance:p,loading:m,error:g}=XE(),y=async e=>{try{const t=u(u({},e),{},{creche:e.classes.creche,nursery1:e.classes.nursery1,nursery2:e.classes.nursery2,kg1:e.classes.kg1,kg2:e.classes.kg2,basic1:e.classes.basic1,basic2:e.classes.basic2,basic3:e.classes.basic3,basic4:e.classes.basic4,basic5:e.classes.basic5,basic6:e.classes.basic6,basic7General:e.classes.basic7General,basic7JHS:e.classes.basic7JHS,basic8General:e.classes.basic8General,basic8JHS:e.classes.basic8JHS,basic9General:e.classes.basic9General,basic9JHS:e.classes.basic9JHS});delete t.classes;await p(t)&&alert("Success: Calculation saved successfully!")}catch(g){console.error("Error saving calculation:",g),alert("Error: Failed to save calculation: ".concat(g.message))}};return(0,tr.jsx)("div",{className:"calculator-container",children:(0,tr.jsxs)("div",{className:"calculator-scroll",children:[(0,tr.jsxs)("div",{className:"section",children:[(0,tr.jsx)("h2",{className:"section-title",children:"Week Information"}),(0,tr.jsxs)("div",{className:"input-container",children:[(0,tr.jsx)("label",{className:"input-label",children:"Week Number (1-16)"}),(0,tr.jsx)("input",{className:"text-input",value:e,onChange:e=>t(e.target.value),type:"number",placeholder:"Enter week number"})]})]}),(0,tr.jsxs)("div",{className:"section",children:[(0,tr.jsx)("h2",{className:"section-title",children:"Class Amounts (GH\u20b5)"}),Object.entries({creche:"Creche",nursery1:"Nursery 1",nursery2:"Nursery 2",kg1:"KG 1",kg2:"KG 2",basic1:"Basic 1",basic2:"Basic 2",basic3:"Basic 3",basic4:"Basic 4",basic5:"Basic 5",basic6:"Basic 6",basic7General:"Basic 7 (General)",basic7JHS:"Basic 7 (JHS)",basic8General:"Basic 8 (General)",basic8JHS:"Basic 8 (JHS)",basic9General:"Basic 9 (General)",basic9JHS:"Basic 9 (JHS)"}).map(e=>{let[t,r]=e;return(0,tr.jsxs)("div",{className:"input-container",children:[(0,tr.jsx)("label",{className:"input-label",children:r}),(0,tr.jsx)("input",{className:"text-input",value:n[t],onChange:e=>((e,t)=>{i(n=>u(u({},n),{},{[e]:t}))})(t,e.target.value),type:"number",step:"0.01",placeholder:"0.00"})]},t)})]}),(0,tr.jsxs)("div",{className:"section",children:[(0,tr.jsx)("h2",{className:"section-title",children:"Teachers"}),(0,tr.jsxs)("div",{className:"input-container",children:[(0,tr.jsx)("label",{className:"input-label",children:"Number of Teachers"}),(0,tr.jsx)("input",{className:"text-input",value:a,onChange:e=>s(e.target.value),type:"number",placeholder:"Enter number of teachers"})]}),(0,tr.jsxs)("div",{className:"input-container",children:[(0,tr.jsx)("label",{className:"input-label",children:"Number of JHS Teachers"}),(0,tr.jsx)("input",{className:"text-input",value:o,onChange:e=>l(e.target.value),type:"number",placeholder:"Enter number of JHS teachers"})]})]}),(0,tr.jsxs)("div",{className:"vertical-buttons",children:[(0,tr.jsxs)("button",{className:"button button-primary full-width-button",onClick:()=>{if(!e||parseInt(e)<1||parseInt(e)>16)return void alert("Error: Please enter a valid week number (1-16)");if(!a||parseInt(a)<=0)return void alert("Error: Please enter a valid number of teachers");if(!o||parseInt(o)<=0)return void alert("Error: Please enter a valid number of JHS teachers");const t={};for(const[e,a]of Object.entries(n))t[e]=parseFloat(a)||0;const r=["creche","nursery1","nursery2","kg1","kg2","basic1","basic2","basic3","basic4","basic5","basic6","basic7General","basic8General","basic9General"].reduce((e,n)=>e+t[n],0),i=r-100,s=.05*i,l=i-s,c=.05*l,u=l-c,d=u/parseInt(a),p=t.basic7JHS+t.basic8JHS+t.basic9JHS,m=p/parseInt(o),g={weekNumber:parseInt(e),classes:t,numberOfTeachers:parseInt(a),numberOfJHSTeachers:parseInt(o),totalSum:r,welfare:100,balanceAfterWelfare:i,office:s,balanceAfterOffice:l,kitchen:c,balanceAfterKitchen:u,eachTeacher:d,jhsTeachersClasses:p,eachJHSTeacher:m};h(g),y(g),f(0),setTimeout(()=>f(1),10)},disabled:m,children:[(0,tr.jsx)("span",{className:"button-icon",children:"\ud83e\uddee"}),m?"Calculating...":"Calculate Results"]}),(0,tr.jsxs)("button",{className:"button button-secondary full-width-button clear-button-top-margin",onClick:()=>{t(""),i({creche:"",nursery1:"",nursery2:"",kg1:"",kg2:"",basic1:"",basic2:"",basic3:"",basic4:"",basic5:"",basic6:"",basic7General:"",basic7JHS:"",basic8General:"",basic8JHS:"",basic9General:"",basic9JHS:""}),s(""),l(""),h(null)},children:[(0,tr.jsx)("span",{className:"button-icon",children:"\ud83d\udd04"}),"Reset Form"]})]}),c&&(0,tr.jsxs)("div",{className:"result-section",style:{opacity:d},children:[(0,tr.jsx)("h2",{className:"section-title",children:"Calculation Results"}),(0,tr.jsxs)("div",{className:"card",children:[(0,tr.jsxs)("h3",{className:"result-title",children:["Week ",c.weekNumber," Summary"]}),(0,tr.jsx)("div",{className:"divider"}),(0,tr.jsxs)("div",{className:"result-row",children:[(0,tr.jsx)("span",{className:"result-label",children:"Total Sum:"}),(0,tr.jsxs)("span",{className:"result-value",children:["GH\u20b5",c.totalSum.toFixed(2)]})]}),(0,tr.jsxs)("div",{className:"result-row",children:[(0,tr.jsx)("span",{className:"result-label",children:"Welfare Deduction:"}),(0,tr.jsxs)("span",{className:"result-value",children:["-GH\u20b5",c.welfare.toFixed(2)]})]}),(0,tr.jsxs)("div",{className:"result-row",children:[(0,tr.jsx)("span",{className:"result-label",children:"Office (5%):"}),(0,tr.jsxs)("span",{className:"result-value",children:["-GH\u20b5",c.office.toFixed(2)]})]}),(0,tr.jsxs)("div",{className:"result-row",children:[(0,tr.jsx)("span",{className:"result-label",children:"Kitchen (5%):"}),(0,tr.jsxs)("span",{className:"result-value",children:["-GH\u20b5",c.kitchen.toFixed(2)]})]}),(0,tr.jsxs)("div",{className:"result-row final-row",children:[(0,tr.jsx)("span",{className:"result-label-bold",children:"Balance After Deductions:"}),(0,tr.jsxs)("span",{className:"final-value",children:["GH\u20b5",c.balanceAfterKitchen.toFixed(2)]})]})]}),(0,tr.jsxs)("div",{className:"card",children:[(0,tr.jsx)("h3",{className:"result-title",children:"Per Teacher Breakdown"}),(0,tr.jsx)("div",{className:"divider"}),(0,tr.jsxs)("div",{className:"result-row",children:[(0,tr.jsxs)("span",{className:"result-label",children:["Each Teacher (",c.numberOfTeachers," total):"]}),(0,tr.jsxs)("span",{className:"final-value",children:["GH\u20b5",c.eachTeacher.toFixed(2)]})]}),(0,tr.jsxs)("div",{className:"result-row",children:[(0,tr.jsx)("span",{className:"result-label",children:"JHS Classes Total:"}),(0,tr.jsxs)("span",{className:"result-value",children:["GH\u20b5",c.jhsTeachersClasses.toFixed(2)]})]}),(0,tr.jsxs)("div",{className:"result-row",children:[(0,tr.jsxs)("span",{className:"result-label",children:["Each JHS Teacher (",c.numberOfJHSTeachers," total):"]}),(0,tr.jsxs)("span",{className:"final-value",children:["GH\u20b5",c.eachJHSTeacher.toFixed(2)]})]})]})]}),g&&(0,tr.jsxs)("p",{className:"error-message",children:["Error: ",g]})]})})},ZE=()=>(0,tr.jsx)("div",{children:"Reports"}),eT=()=>(0,tr.jsx)("div",{children:"History"}),tT=e=>{let{title:t,description:n}=e;return(0,tr.jsxs)("div",{style:u(u({padding:Fn,textAlign:"center",maxWidth:"600px",margin:"0 auto",backgroundColor:Pn,borderRadius:Hn},Xn),{},{marginTop:2*Fn}),children:[(0,tr.jsx)("h1",{style:{fontSize:Wn,fontWeight:Jn,color:Dn,marginBottom:Un,fontFamily:Qn},children:t}),(0,tr.jsx)("p",{style:{fontSize:Kn,color:On,fontFamily:Qn,lineHeight:1.6},children:n})]})},nT=()=>(0,tr.jsx)(tT,{title:"Allowance Management",description:"Calculate and manage teacher allowances, overtime payments, and other financial compensations with detailed reporting."}),rT=()=>(0,tr.jsx)(tT,{title:"Students Management",description:"Manage student records, class assignments, academic performance tracking, and parent communication."}),iT=()=>(0,tr.jsx)(tT,{title:"Canteen Management",description:"Track canteen sales, manage inventory, handle payments, and generate sales reports for the school canteen."}),aT=()=>(0,tr.jsx)(tT,{title:"Settings",description:"Configure system preferences, manage user accounts, customize notifications, and adjust application settings."});const sT=function(){return(0,tr.jsx)(Oe,{children:(0,tr.jsxs)("div",{className:"App",children:[(0,tr.jsx)(ar,{children:(0,tr.jsxs)(_e,{children:[(0,tr.jsx)(Te,{path:"/",element:(0,tr.jsx)(mE,{})}),(0,tr.jsx)(Te,{path:"/teachers",element:(0,tr.jsx)(yE,{})}),(0,tr.jsx)(Te,{path:"/attendance",element:(0,tr.jsx)(DE,{})}),(0,tr.jsx)(Te,{path:"/allowance",element:(0,tr.jsx)(nT,{})}),(0,tr.jsx)(Te,{path:"/calculator",element:(0,tr.jsx)($E,{})}),(0,tr.jsx)(Te,{path:"/calculator/:id",element:(0,tr.jsx)($E,{})}),(0,tr.jsx)(Te,{path:"/reports",element:(0,tr.jsx)(ZE,{})}),(0,tr.jsx)(Te,{path:"/history",element:(0,tr.jsx)(eT,{})}),(0,tr.jsx)(Te,{path:"/students",element:(0,tr.jsx)(rT,{})}),(0,tr.jsx)(Te,{path:"/canteen",element:(0,tr.jsx)(iT,{})}),(0,tr.jsx)(Te,{path:"/settings",element:(0,tr.jsx)(aT,{})}),(0,tr.jsx)(Te,{path:"*",element:(0,tr.jsx)(Ee,{to:"/",replace:!0})})]})}),(0,tr.jsx)(tn,{position:"top-center",toastOptions:{duration:4e3,style:{background:Pn,color:Dn,border:"1px solid ".concat(jn),borderRadius:"8px",padding:"16px",fontSize:"14px",maxWidth:"90vw",wordBreak:"break-word"},success:{iconTheme:{primary:In,secondary:Pn}},error:{iconTheme:{primary:An,secondary:Pn}}}})]})})};a.createRoot(document.getElementById("root")).render((0,tr.jsx)(r.StrictMode,{children:(0,tr.jsx)(sT,{})}))})();
//# sourceMappingURL=main.05532348.js.map